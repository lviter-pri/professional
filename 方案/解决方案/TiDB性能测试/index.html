
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lviter-pri.github.io/professional/%E6%96%B9%E6%A1%88/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/TiDB%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">
      
      
        <link rel="prev" href="../OAuth2.0%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E8%B0%83%E7%A0%94/">
      
      
        <link rel="next" href="../nacos%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E%E7%AE%80%E4%BB%8B/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>TiDB性能测试 - 技术无止境-能解决问题才是时代所需</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tidb" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="技术无止境-能解决问题才是时代所需" class="md-header__button md-logo" aria-label="技术无止境-能解决问题才是时代所需" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            技术无止境-能解决问题才是时代所需
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TiDB性能测试
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lviter-pri/professional" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lviter-pri/professional
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  技术与业务共同驱动

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Java-%E6%A0%B8%E5%BF%83/" class="md-tabs__link">
          
  
  
    
  
  Java 核心

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/" class="md-tabs__link">
          
  
  
    
  
  中间件

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/ClickHouse%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/" class="md-tabs__link">
          
  
  
    
  
  大数据组件

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%B7%A5%E5%85%B7%E7%B1%BB/Mermaid/" class="md-tabs__link">
          
  
  
    
  
  工具类

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-tabs__link">
          
  
  
    
  
  数据库

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-tabs__link">
          
  
  
    
  
  数据结构

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/" class="md-tabs__link">
          
  
  
    
  
  方案

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/QPS%E6%A6%82%E5%BF%B5/" class="md-tabs__link">
          
  
  
    
  
  编程基础

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="技术无止境-能解决问题才是时代所需" class="md-nav__button md-logo" aria-label="技术无止境-能解决问题才是时代所需" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    技术无止境-能解决问题才是时代所需
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lviter-pri/professional" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    lviter-pri/professional
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技术与业务共同驱动
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Java 核心
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Java 核心
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%B8%B8%E7%94%A8lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    lambda表达式汇总
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/IO%E6%A8%A1%E5%9E%8B/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    IO模型
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    IO模型
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    JVM
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    JVM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    深入理解JVM jdk1.7
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    深入理解JVM jdk1.7
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/HotSpot%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E8%B1%A1%E6%8E%A2%E7%A7%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HotSpot虚拟机对象探秘
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/JVM%E8%B0%83%E4%BC%98-jdk1.8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JVM调优 jdk1.8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/OutOfMemoryError%E5%BC%82%E5%B8%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OutOfMemoryError异常
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E4%B8%8E%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    垃圾收集器与内存分配策略
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/JVM/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM-jdk1.7/%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    自动内存管理机制
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    多线程
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    多线程
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/AQS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AQS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/CAS%E8%87%AA%E6%97%8B%E9%94%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CAS自旋锁
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/JMM%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8BVolatile%E5%85%B3%E9%94%AE%E5%AD%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JMM内存模型Volatile关键字
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/Java%E9%94%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java锁
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/Synchronized%E9%94%81%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synchronized锁详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/ThreadLocal%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ThreadLocal详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E4%B8%80%E9%83%A8%E5%88%86%E5%B9%B6%E5%8F%91%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    一部分并发理论基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E4%BA%8C%E9%83%A8%E5%88%86%E5%B9%B6%E5%8F%91%E5%B7%A5%E5%85%B7%E7%B1%BB%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    并发工具类
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多线程面试题总结
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    数据处理
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据处理
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    为什么用json传输数据
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    网络
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    网络
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E7%BD%91%E7%BB%9C/TCP%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TCP协议
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    计算机网络
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7_3" >
        
          
          <label class="md-nav__link" for="__nav_2_7_3" id="__nav_2_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Http
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Http
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E7%BD%91%E7%BB%9C/http/HTTP%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E7%A0%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP常见错误码
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E7%BD%91%E7%BB%9C/http/HTTP%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP常见面试
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    设计模式
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    设计模式
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    设计模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%9E%8B/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    创建型模型
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8_3" id="__nav_2_8_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    创建型模型
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%9E%8B/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    单例模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%9E%8B/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简单工厂模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%9E%8B/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    行为模型
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8_4" id="__nav_2_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    行为模型
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%9E%8B/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    命令模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%9E%8B/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    模板方法设计模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%9E%8B/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    策略模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%9E%8B/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    责任链模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    集合
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    集合
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Fail-Fast/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fail-fast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Collection
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9_3" id="__nav_2_9_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Collection
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/ArrayList%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ArrayList详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/CopyOnWriteArrayList%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CopyOnWriteArrayList详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/HashSet%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HashSet详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/Java%E9%9B%86%E5%90%88%E9%9D%A2%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java集合面试
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/Map%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Map详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Java-%E6%A0%B8%E5%BF%83/%E9%9B%86%E5%90%88/Collection/Queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Queue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    中间件
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    中间件
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ElasticSearch
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ElasticSearch
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/Es-Nested%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es Nested嵌套查询
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/Es7.4.2-RestHighLevelClient%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es7.4.2 RestHighLevelClient增删改查
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/Es%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es基础查询
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/Es%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es基础语法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/es%E5%A4%8D%E6%9D%82%E7%BB%9F%E8%AE%A1-%E7%BB%9D%E5%AF%B9%E5%80%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es复杂统计 绝对值
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/es%E9%80%9A%E7%94%A8%E6%9F%A5%E8%AF%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Es通用查询
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/%E5%AE%89%E8%A3%85ELK/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    安装ELK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/ElasticSearch/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ES
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Postgressql
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Postgressql
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/Postgressql/ReadME/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ReadME
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/Postgressql/%E5%88%9D%E5%A7%8BPsql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    初始Psql
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Redis
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/Redis%E5%AE%9E%E7%8E%B0%E5%BB%B6%E8%BF%9F%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis实现延迟队列
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis数据结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/Redis%E6%A0%B8%E5%BF%831-11%E5%9F%BA%E7%A1%80%E7%AF%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis核心-初级篇
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/Redis%E6%A0%B8%E5%BF%8312-21%E9%AB%98%E7%BA%A7%E7%AF%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis核心-高级篇
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    消息队列
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    消息队列
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    消息队列
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_5_2" id="__nav_3_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kafka
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kafka
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/Kafka/Kafka%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    文档
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/Kafka/Kafka%E6%B6%88%E8%B4%B9%E8%B6%85%E6%97%B6%E5%AF%BC%E8%87%B4%E9%87%8D%E5%A4%8D%E6%B6%88%E8%B4%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kafka消费超时导致重复消费
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5_3" >
        
          
          <label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    RabbitMq
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    RabbitMq
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/RabbitMq/RabbitMQ%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RabbitMQ安装及使用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    大数据组件
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    大数据组件
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/ClickHouse%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ClickHouse集群安装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/%E6%95%B0%E6%8D%AE%E7%A0%94%E5%8F%91%E6%B5%81%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    入门
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Groovy
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Groovy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/Groovy/Groovy%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Groovy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Presto
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Presto
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/Presto/PrestoSQL%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Presto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/StarRocks-DorisDB/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    StarRocks DorisDB
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    StarRocks DorisDB
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/StarRocks-DorisDB/DorisDB%E4%BA%86%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DorisDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/StarRocks-DorisDB/DorisDB%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    语法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hadoop
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hadoop
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/hadoop/%E5%88%9D%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hadoop概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/hive/hive%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95DDL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/hive/hive%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Member
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Member
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/member/%E4%BC%9A%E5%91%98%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    会员大数据相关
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    调度
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    调度
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_9_1" >
        
          
          <label class="md-nav__link" for="__nav_4_9_1" id="__nav_4_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AzKaban
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    AzKaban
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6/%E8%B0%83%E5%BA%A6/AzKaban/%E5%A4%9A%E4%BB%BB%E5%8A%A1%E6%B5%81%E5%B9%B6%E8%A1%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多任务流并行，一条失败影响另一条
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    工具类
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    工具类
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E5%85%B7%E7%B1%BB/Mermaid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mermaid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E5%85%B7%E7%B1%BB/java%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    java直接调用方法工具
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    加解密类
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    加解密类
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B7%A5%E5%85%B7%E7%B1%BB/%E5%8A%A0%E8%A7%A3%E5%AF%86%E7%B1%BB/%E5%8A%A0%E8%A7%A3%E5%AF%86%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    加解密操作
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    数据库
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据库
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ShardingSphere
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ShardingSphere
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/ShardingSphere/ShardingSphere%E7%AE%80%E4%BB%8B%E5%8F%8A%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ShardingSphere简介及使用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mysql
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mysql
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/ACID%E4%B8%8E%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ACID与事务隔离级别
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/MVCC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MVCC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/Mysql%E5%AE%9E%E6%88%98-%E5%9F%BA%E7%A1%80%E7%AF%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mysql实战 基础篇
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/Mysql%E5%AE%9E%E6%88%98-%E5%AE%9E%E8%B7%B5%E7%AF%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mysql实践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/%E5%B8%B8%E7%94%A8SQL%E8%81%9A%E5%90%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0Mysql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mysql
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    数据结构
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据结构
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%BA%BF%E6%80%A7%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    线性表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    算法
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    算法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    限流算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_3" id="__nav_7_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    算法题
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    算法题
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E9%A2%98/%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    两数之和
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E9%A2%98/%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    两数相加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    方案
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    方案
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    企业项目框架
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1" id="__nav_8_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    企业项目框架
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_2" >
        
          
          <label class="md-nav__link" for="__nav_8_1_2" id="__nav_8_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    DDD领域
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    DDD领域
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/DDD%E9%A2%86%E5%9F%9F/%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E9%81%87%E5%88%B0%E7%9A%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DDD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/ORM%E6%A1%86%E6%9E%B6/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ORM框架
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_3" id="__nav_8_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ORM框架
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/ORM%E6%A1%86%E6%9E%B6/Mybatis%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mybatis详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Spring
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_4" id="__nav_8_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Spring
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/InitillizingBean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/SpringAOP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpringAOP面向切面编程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/Spring%E4%BA%8B%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spring @Transactional
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/TransactionSynchronizationManager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TransactionSynchronizationManager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/%E5%A4%A7%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大事务
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/%E5%BE%88%E8%80%81%E7%9A%84%E4%B8%9C%E8%A5%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    一些存在很老的东西，还有在应用的应该没有了
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/Spring/%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    循环依赖
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_5" >
        
          
          <label class="md-nav__link" for="__nav_8_1_5" id="__nav_8_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    SpringBoot
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    SpringBoot
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringBoot/SpringApplication%E8%A7%A3%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpringApplication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringBoot/SpringBoot-Arthas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpringBoot Arthas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_6" >
        
          
          <label class="md-nav__link" for="__nav_8_1_6" id="__nav_8_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    SpringCloud
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    SpringCloud
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringCloud/Eureka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Eureka
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringCloud/Feign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Feign
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringCloud/Hystrix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hystrix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringCloud/%E5%BE%AE%E6%9C%8D%E5%8A%A1SpringCloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    微服务SpringCloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringFramework/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    SpringFramework
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_7" id="__nav_8_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    SpringFramework
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/SpringFramework/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B9%8BApplicationContext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    源码解析之ApplicationContext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/dubbo/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Dubbo
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_8" id="__nav_8_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dubbo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/dubbo/Dubbo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分布式服务框架
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BC%81%E4%B8%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6/dubbo/%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分布式服务框架Dubbo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    偏门但研究过的东西
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    偏门但研究过的东西
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%81%8F%E9%97%A8%E4%BD%86%E7%A0%94%E7%A9%B6%E8%BF%87%E7%9A%84%E4%B8%9C%E8%A5%BF/Apache%20CXF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apache cxf暴露接口以及客户端调用之WebService
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%81%8F%E9%97%A8%E4%BD%86%E7%A0%94%E7%A9%B6%E8%BF%87%E7%9A%84%E4%B8%9C%E8%A5%BF/SpringSecurity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpringSecurity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    解决方案
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_3" id="__nav_8_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    解决方案
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7%E5%8D%83%E4%B8%87%2B%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    公司需要存储7000万+会员数据
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AppleId%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%B0%83%E7%A0%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AppleId第三方授权登录流程调研
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Idea%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95%E7%9B%91%E6%8E%A7%E7%AB%AF%E5%8F%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDEA远程调试
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Java%E8%8E%B7%E5%8F%96%E7%9C%9F%E5%AE%9Eip%E5%9C%B0%E5%9D%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    获取本地ip
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Jenkins%E8%84%9A%E6%9C%AC%E5%AE%9E%E4%BE%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jenkins脚本示例
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MybatisPlus%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MybatisPlus多数据源
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mysql%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mysql分库分表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OAuth2.0%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E8%B0%83%E7%A0%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OAuth2.0授权登录调研
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    TiDB性能测试
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    TiDB性能测试
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tidb" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB 性能测试
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TIDB 性能测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tidb_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB整体架构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tiup" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用TiUP集群在一台机器上设置测试环境
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用TiUP集群在一台机器上设置测试环境">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        准备
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        分布式部署
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="分布式部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        准备
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB集群管理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TIDB集群管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        集群重启
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        查看配置
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据迁移
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据迁移">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据导入
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysbenchtidb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sysbench测试TIDB
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sysbench测试TIDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        集群拓扑
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tikv" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIKV配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reload 配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sysbench" class="md-nav__link">
    <span class="md-ellipsis">
      
        安装Sysbench
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysbench_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sysbench配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        配置TIDB
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        导入数据
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    <span class="md-ellipsis">
      
        SELECT 测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      
        UPDATE 主键更新测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        读写混合测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新操作不通过索引列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        只写入测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        写入和删除并行
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试结果
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="测试结果">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        主键查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        主键更新
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        读写混合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新不通过索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        只写入
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        写入和删除并行
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95" class="md-nav__link">
    <span class="md-ellipsis">
      
        前95%毫秒数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nacos%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nacos使用文档说明简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BB%B6%E8%BF%9F%E9%98%9F%E5%88%97%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    延迟队列解决方案
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8A%B6%E6%80%81%E6%9C%BA%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    状态机图
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_3_14" >
        
          
          <label class="md-nav__link" for="__nav_8_3_14" id="__nav_8_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    异常问题排查
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    异常问题排查
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/Transaction-rollback-only/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transaction rollback only
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_3_15" >
        
          
          <label class="md-nav__link" for="__nav_8_3_15" id="__nav_8_3_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    项目设计方案
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_3_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    项目设计方案
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/MYSQL%E7%83%AD%E8%A1%A8%E5%8A%A0%E5%AD%97%E6%AE%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MYSQL热表加字段
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/%E4%BF%83%E6%88%90%E4%BA%A4%E6%98%93%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    促成交易系统搭建
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/%E6%94%AF%E4%BB%98%E4%B8%AD%E5%8F%B0%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    支付中台系统
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/%E6%95%8F%E6%84%9F%E8%AF%8D%E8%BF%87%E6%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    敏感词过滤
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/%E8%B4%B9%E7%94%A8%E9%A1%B9%E8%AE%A1%E7%AE%97%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    费用项计算系统
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    编程基础
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    编程基础
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/QPS%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QPS概念
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E4%B8%8E%E3%80%81%E6%88%96%E3%80%81%E5%BC%82%E6%88%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    基础运算符
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/linux/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_3_2" >
        
          
          <label class="md-nav__link" for="__nav_9_3_2" id="__nav_9_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Centos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Centos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/linux/centos/%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    基础操作命令
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    计算机网络原理
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机网络原理
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    计算机网络概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tidb" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB 性能测试
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TIDB 性能测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tidb_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB整体架构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tiup" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用TiUP集群在一台机器上设置测试环境
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用TiUP集群在一台机器上设置测试环境">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        准备
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        分布式部署
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="分布式部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        准备
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB集群管理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TIDB集群管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        集群重启
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        查看配置
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据迁移
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据迁移">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据导入
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysbenchtidb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sysbench测试TIDB
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sysbench测试TIDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        集群拓扑
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIDB配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tikv" class="md-nav__link">
    <span class="md-ellipsis">
      
        TIKV配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reload 配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sysbench" class="md-nav__link">
    <span class="md-ellipsis">
      
        安装Sysbench
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysbench_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sysbench配置
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidb_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        配置TIDB
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        导入数据
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    <span class="md-ellipsis">
      
        SELECT 测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      
        UPDATE 主键更新测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        读写混合测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新操作不通过索引列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        只写入测试
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        写入和删除并行
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试结果
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="测试结果">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        主键查询
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        主键更新
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        读写混合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新不通过索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        只写入
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        写入和删除并行
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95" class="md-nav__link">
    <span class="md-ellipsis">
      
        前95%毫秒数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>TiDB性能测试</h1>

<h2 id="tidb">TIDB 性能测试</h2>
<p>感谢大佬</p>
<h3 id="tidb_1">TIDB整体架构</h3>
<p>与传统的单机数据库相比，TiDB 具有以下优势：</p>
<ul>
<li>纯分布式架构，拥有良好的扩展性，支持弹性的扩缩容</li>
<li>支持 SQL，对外暴露 MySQL 的网络协议，并兼容大多数 MySQL 的语法，在大多数场景下可以直接替换 MySQL</li>
<li>默认支持高可用，在少数副本失效的情况下，数据库本身能够自动进行数据修复和故障转移，对业务透明</li>
<li>支持 ACID 事务，对于一些有强一致需求的场景友好，例如：银行转账</li>
<li>具有丰富的工具链生态，覆盖数据迁移、同步、备份等多种场景</li>
</ul>
<p>在内核设计上，TiDB 分布式数据库将整体架构拆分成了多个模块，各模块之间互相通信，组成完整的 TiDB 系统。对应的架构图如下：</p>
<p><img alt="" src="../static/image-tidb/TIDB架构设计.jpg" /></p>
<ul>
<li>TiDB Server：SQL 层，对外暴露 MySQL 协议的连接 endpoint，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</li>
<li>PD Server：整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</li>
<li>存储节点</li>
<li>TiKV Server：负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</li>
<li>TiFlash：TiFlash 是一类特殊的存储节点。和普通 TiKV 节点不一样的是，在 TiFlash 内部，数据是以列式的形式进行存储，主要的功能是为分析型的场景加速。</li>
</ul>
<h3 id="tiup">使用TiUP集群在一台机器上设置测试环境</h3>
<ul>
<li>场景：体验具有完整拓扑的最小TiDB集群，并在单个Linux服务器上模拟生产部署步骤</li>
</ul>
<h4 id="_1">准备</h4>
<p>官方推荐最小TIDB集群拓扑</p>
<table>
<thead>
<tr>
<th>实例</th>
<th>副本数</th>
<th>IP地址</th>
<th>端口</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIKV</td>
<td>3</td>
<td>10.101.16.245</td>
<td>20160/20180,20161/20181,20162/20182</td>
</tr>
<tr>
<td>TIDB</td>
<td>1</td>
<td>10.101.16.245</td>
<td>4000/10080</td>
</tr>
<tr>
<td>PD</td>
<td>1</td>
<td>10.101.16.245</td>
<td>2379/2380</td>
</tr>
<tr>
<td>TiFlash</td>
<td>1</td>
<td>10.101.16.245</td>
<td>9000/8123/3930/20170/20292/8234</td>
</tr>
<tr>
<td>Monitor</td>
<td>prometheus<br>grafana</td>
<td>10.101.16.245</td>
<td>9090,3000</td>
</tr>
</tbody>
</table>
<h4 id="_2">部署</h4>
<ul>
<li>下载并安装TiUP</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>curl<span class="w"> </span>--proto<span class="w"> </span><span class="s1">&#39;=https&#39;</span><span class="w"> </span>--tlsv1.2<span class="w"> </span>-sSf<span class="w"> </span>https://tiup-mirrors.pingcap.com/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span></code></pre></div>
<ul>
<li>安装TiUP集群组件</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>tiup<span class="w"> </span>cluster
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># 更新</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>tiup<span class="w"> </span>update<span class="w"> </span>--self<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tiup<span class="w"> </span>update<span class="w"> </span>cluster
</span></code></pre></div>
<ul>
<li>创建并启动集群</li>
</ul>
<p>创建配置文件</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>topo.yaml<span class="w"> </span><span class="s">&lt;&lt;- &#39;EOF&#39; </span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="s"># # Global variables are applied to all deployments and used as the default value of</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="s"># # the deployments if a specific deployment value is missing.</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="s">global:</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="s"> user: &quot;tidb&quot;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="s"> ssh_port: 22</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="s"> deploy_dir: &quot;/tidb-deploy&quot;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="s"> data_dir: &quot;/tidb-data&quot;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="s"># # Monitored variables are applied to all the machines.</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="s">monitored:</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="s"> node_exporter_port: 9100</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="s"> blackbox_exporter_port: 9115</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="s">server_configs:</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="s"> tidb:</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="s">   log.slow-threshold: 300</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="s"> tikv:</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="s">   readpool.storage.use-unified-pool: false</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="s">   readpool.coprocessor.use-unified-pool: true</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="s"> pd:</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="s">   replication.enable-placement-rules: true</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="s">   replication.location-labels: [&quot;host&quot;]</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="s"> tiflash:</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="s">   logger.level: &quot;info&quot;</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="s">pd_servers:</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="s">tidb_servers:</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="s">tikv_servers:</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="s">   port: 20160</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="s">   status_port: 20180</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="s">   config:</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="s">     server.labels: { host: &quot;logic-host-1&quot; }</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a><span class="s">   port: 20161</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="s">   status_port: 20181</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="s">   config:</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="s">     server.labels: { host: &quot;logic-host-2&quot; }</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="s">   port: 20162</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a><span class="s">   status_port: 20182</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="s">   config:</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="s">     server.labels: { host: &quot;logic-host-3&quot; }</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="s">tiflash_servers:</span>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a><span class="s">monitoring_servers:</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a><span class="s">grafana_servers:</span>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="s"> - host: 10.101.16.245</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a><span class="s">EOF</span>
</span></code></pre></div>
<ul>
<li>执行集群部署命令</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>deploy<span class="w"> </span>tidb-ddyw<span class="w">  </span>v4.0.8<span class="w"> </span>./topo.yaml<span class="w"> </span>--user<span class="w"> </span>root
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>deploy<span class="w"> </span>tidb-ddyw<span class="w"> </span>v4.0.8<span class="w"> </span>./topo.yaml<span class="w"> </span>--user<span class="w"> </span>root
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Please<span class="w"> </span>confirm<span class="w"> </span>your<span class="w"> </span>topology:
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Type<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Directories
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>-----------
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>pd<span class="w">          </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>/tidb-deploy/pd-2379,/tidb-data/pd-2379
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>/tidb-deploy/tikv-20160,/tidb-data/tikv-20160
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>/tidb-deploy/tikv-20161,/tidb-data/tikv-20161
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>/tidb-deploy/tikv-20162,/tidb-data/tikv-20162
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>tidb<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>/tidb-deploy/tidb-4000
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>tiflash<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>/tidb-deploy/tiflash-9000,/tidb-data/tiflash-9000
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>prometheus<span class="w">  </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>/tidb-deploy/prometheus-9090,/tidb-data/prometheus-9090
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>grafana<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>/tidb-deploy/grafana-3000
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>Attention:
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="m">1</span>.<span class="w"> </span>If<span class="w"> </span>the<span class="w"> </span>topology<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>what<span class="w"> </span>you<span class="w"> </span>expected,<span class="w"> </span>check<span class="w"> </span>your<span class="w"> </span>yaml<span class="w"> </span>file.
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="m">2</span>.<span class="w"> </span>Please<span class="w"> </span>confirm<span class="w"> </span>there<span class="w"> </span>is<span class="w"> </span>no<span class="w"> </span>port/directory<span class="w"> </span>conflicts<span class="w"> </span><span class="k">in</span><span class="w"> </span>same<span class="w"> </span>host.
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="k">continue</span>?<span class="w"> </span><span class="o">[</span>y/N<span class="o">]</span>:<span class="w">  </span>y
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>+<span class="w"> </span>Generate<span class="w"> </span>SSH<span class="w"> </span>keys<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>+<span class="w"> </span>Download<span class="w"> </span>TiDB<span class="w"> </span>components
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>pd:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>tikv:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>tidb:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>tiflash:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>prometheus:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>grafana:v4.0.8<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>node_exporter:v0.17.0<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">  </span>-<span class="w"> </span>Download<span class="w"> </span>blackbox_exporter:v0.12.0<span class="w"> </span><span class="o">(</span>linux/amd64<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>+<span class="w"> </span>Initialize<span class="w"> </span>target<span class="w"> </span>host<span class="w"> </span>environments
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">  </span>-<span class="w"> </span>Prepare<span class="w"> </span><span class="m">10</span>.101.16.245:22<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>+<span class="w"> </span>Copy<span class="w"> </span>files
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>pd<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>tidb<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>tiflash<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>prometheus<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>grafana<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>node_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="w">  </span>-<span class="w"> </span>Copy<span class="w"> </span>blackbox_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>+<span class="w"> </span>Check<span class="w"> </span>status
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a>Enabling<span class="w"> </span>component<span class="w"> </span>pd
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a><span class="w">        </span>Enable<span class="w"> </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>success
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a>Enabling<span class="w"> </span>component<span class="w"> </span>tikv
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">    </span>Enabling<span class="w"> </span>instance<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20162
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">    </span>Enabling<span class="w"> </span>instance<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20160
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-55"><a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-56"><a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-57"><a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a><span class="w">        </span>Enable<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>success
</span><span id="__span-3-58"><a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a>Enabling<span class="w"> </span>component<span class="w"> </span>tidb
</span><span id="__span-3-59"><a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-60"><a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a><span class="w">        </span>Enable<span class="w"> </span>tidb<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>success
</span><span id="__span-3-61"><a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a>Enabling<span class="w"> </span>component<span class="w"> </span>tiflash
</span><span id="__span-3-62"><a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-63"><a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a><span class="w">        </span>Enable<span class="w"> </span>tiflash<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>success
</span><span id="__span-3-64"><a id="__codelineno-3-64" name="__codelineno-3-64" href="#__codelineno-3-64"></a>Enabling<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-3-65"><a id="__codelineno-3-65" name="__codelineno-3-65" href="#__codelineno-3-65"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-66"><a id="__codelineno-3-66" name="__codelineno-3-66" href="#__codelineno-3-66"></a><span class="w">        </span>Enable<span class="w"> </span>prometheus<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>success
</span><span id="__span-3-67"><a id="__codelineno-3-67" name="__codelineno-3-67" href="#__codelineno-3-67"></a>Enabling<span class="w"> </span>component<span class="w"> </span>grafana
</span><span id="__span-3-68"><a id="__codelineno-3-68" name="__codelineno-3-68" href="#__codelineno-3-68"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-69"><a id="__codelineno-3-69" name="__codelineno-3-69" href="#__codelineno-3-69"></a>+<span class="w"> </span>Enable<span class="w"> </span>cluster
</span><span id="__span-3-70"><a id="__codelineno-3-70" name="__codelineno-3-70" href="#__codelineno-3-70"></a>Deployed<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>cluster<span class="w"> </span>via<span class="w"> </span><span class="sb">`</span>tiup<span class="w"> </span>cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw<span class="sb">`</span>
</span></code></pre></div>
<ul>
<li>启动集群</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>Starting<span class="w"> </span>cluster<span class="w"> </span>tidb-ddyw...
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>SSHKeySet:<span class="w"> </span><span class="nv">privateKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa,<span class="w"> </span><span class="nv">publicKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>StartCluster
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>Starting<span class="w"> </span>component<span class="w"> </span>pd
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span>Start<span class="w"> </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>success
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>Starting<span class="w"> </span>component<span class="w"> </span>node_exporter
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span>Start<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>Starting<span class="w"> </span>component<span class="w"> </span>blackbox_exporter
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">    </span>Start<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>Starting<span class="w"> </span>component<span class="w"> </span>tikv
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20162
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20160
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20161
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">    </span>Start<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20160<span class="w"> </span>success
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">    </span>Start<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20161<span class="w"> </span>success
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">    </span>Start<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>success
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>Starting<span class="w"> </span>component<span class="w"> </span>tidb
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>tidb<span class="w"> </span><span class="m">10</span>.101.16.245:4000
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">    </span>Start<span class="w"> </span>tidb<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>success
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>Starting<span class="w"> </span>component<span class="w"> </span>tiflash
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>tiflash<span class="w"> </span><span class="m">10</span>.101.16.245:9000
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">    </span>Start<span class="w"> </span>tiflash<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>success
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>Starting<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>prometheus<span class="w"> </span><span class="m">10</span>.101.16.245:9090
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">    </span>Start<span class="w"> </span>prometheus<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>success
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>Starting<span class="w"> </span>component<span class="w"> </span>grafana
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="w">    </span>Starting<span class="w"> </span>instance<span class="w"> </span>grafana<span class="w"> </span><span class="m">10</span>.101.16.245:3000
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="w">    </span>Start<span class="w"> </span>grafana<span class="w"> </span><span class="m">10</span>.101.16.245:3000<span class="w"> </span>success
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UpdateTopology:<span class="w"> </span><span class="nv">cluster</span><span class="o">=</span>tidb-ddyw
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>Started<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully
</span></code></pre></div>
<ul>
<li>访问集群</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># 安装mysql client客户端</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>mysql
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># 访问TIDB,默认为空密码</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>mysql<span class="w"> </span>-h<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>-P<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>MySQL<span class="w"> </span><span class="o">[(</span>none<span class="o">)]</span>&gt;<span class="w"> </span>show<span class="w"> </span>databases<span class="p">;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>+--------------------+
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="p">|</span><span class="w"> </span>Database<span class="w">           </span><span class="p">|</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>+--------------------+
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="p">|</span><span class="w"> </span>INFORMATION_SCHEMA<span class="w"> </span><span class="p">|</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="p">|</span><span class="w"> </span>METRICS_SCHEMA<span class="w">     </span><span class="p">|</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="p">|</span><span class="w"> </span>PERFORMANCE_SCHEMA<span class="w"> </span><span class="p">|</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="p">|</span><span class="w"> </span>mysql<span class="w">              </span><span class="p">|</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="p">|</span><span class="w"> </span><span class="nb">test</span><span class="w">               </span><span class="p">|</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>+--------------------+
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="m">5</span><span class="w"> </span>rows<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="c1"># 查看集群列表</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>list
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>list
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>Name<span class="w">       </span>User<span class="w">  </span>Version<span class="w">  </span>Path<span class="w">                                            </span>PrivateKey
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>----<span class="w">       </span>----<span class="w">  </span>-------<span class="w">  </span>----<span class="w">                                            </span>----------
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>tidb-ddyw<span class="w">  </span>tidb<span class="w">  </span>v4.0.8<span class="w">   </span>/root/.tiup/storage/cluster/clusters/tidb-ddyw<span class="w">  </span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="c1"># 查看集群拓扑</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>SSH<span class="w"> </span>type:<span class="w">        </span><span class="nb">builtin</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>ID<span class="w">                   </span>Role<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Status<span class="w">   </span>Data<span class="w"> </span>Dir<span class="w">                    </span>Deploy<span class="w"> </span>Dir
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>--<span class="w">                   </span>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>------<span class="w">   </span>--------<span class="w">                    </span>----------
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="m">10</span>.101.16.245:3000<span class="w">   </span>grafana<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                           </span>/tidb-deploy/grafana-3000
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="m">10</span>.101.16.245:2379<span class="w">   </span>pd<span class="w">          </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>Up<span class="p">|</span>L<span class="p">|</span>UI<span class="w">  </span>/tidb-data/pd-2379<span class="w">          </span>/tidb-deploy/pd-2379
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="m">10</span>.101.16.245:9090<span class="w">   </span>prometheus<span class="w">  </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/prometheus-9090<span class="w">  </span>/tidb-deploy/prometheus-9090
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="m">10</span>.101.16.245:4000<span class="w">   </span>tidb<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                           </span>/tidb-deploy/tidb-4000
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="m">10</span>.101.16.245:9000<span class="w">   </span>tiflash<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tiflash-9000<span class="w">     </span>/tidb-deploy/tiflash-9000
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a><span class="m">10</span>.101.16.245:20160<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20160<span class="w">       </span>/tidb-deploy/tikv-20160
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a><span class="m">10</span>.101.16.245:20161<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20161<span class="w">       </span>/tidb-deploy/tikv-20161
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a><span class="m">10</span>.101.16.245:20162<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20162<span class="w">       </span>/tidb-deploy/tikv-20162
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>Total<span class="w"> </span>nodes:<span class="w"> </span><span class="m">8</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a><span class="c1"># TIDB访问</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>To<span class="w"> </span>connect<span class="w"> </span>TiDB:<span class="w"> </span>mysql<span class="w"> </span>--host<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>--port<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>dashboard:<span class="w"> </span>http://10.101.16.245:2379/dashboard
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>monitor:<span class="w"> </span>http://10.101.16.245:9090
</span></code></pre></div>
<h3 id="_3">分布式部署</h3>
<h4 id="_4">准备</h4>
<p>本次测试环境TIDB集群拓扑</p>
<table>
<thead>
<tr>
<th>实例</th>
<th>配置</th>
<th>副本数</th>
<th>IP地址</th>
<th>端口</th>
</tr>
</thead>
<tbody>
<tr>
<td>TiDB</td>
<td>8核32G500G</td>
<td>1</td>
<td>10.101.16.246</td>
<td>4000/10080</td>
</tr>
<tr>
<td>PD</td>
<td>8核32G500G</td>
<td>1</td>
<td>10.101.16.247</td>
<td>2379/2380</td>
</tr>
<tr>
<td>TIKV</td>
<td>8核32G500G</td>
<td>3</td>
<td>10.101.16.246<br>10.101.16.247<br>10.101.16.248</td>
<td>20160/20180,20161/20181,20162/20182</td>
</tr>
<tr>
<td>TiFlash</td>
<td>8核32G500G</td>
<td>1</td>
<td>10.101.16.248</td>
<td>9000/8123/3930/20170/20292/8234</td>
</tr>
<tr>
<td>Monitor</td>
<td>8核32G500G</td>
<td>prometheus<br>grafana</td>
<td>10.101.16.246</td>
<td>9090,3000</td>
</tr>
</tbody>
</table>
<h4 id="_5">部署</h4>
<blockquote>
<p>磁盘格式化(三台机器执行)</p>
</blockquote>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># 数据盘分区</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>fdisk<span class="w"> </span>/dev/vdb
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>欢迎使用<span class="w"> </span>fdisk<span class="w"> </span><span class="o">(</span>util-linux<span class="w"> </span><span class="m">2</span>.23.2<span class="o">)</span>。
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>更改将停留在内存中，直到您决定将更改写入磁盘。
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>使用写入命令前请三思。
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>Device<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>contain<span class="w"> </span>a<span class="w"> </span>recognized<span class="w"> </span>partition<span class="w"> </span>table
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>使用磁盘标识符<span class="w"> </span>0xa1b68466<span class="w"> </span>创建新的<span class="w"> </span>DOS<span class="w"> </span>磁盘标签。
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>命令<span class="o">(</span>输入<span class="w"> </span>m<span class="w"> </span>获取帮助<span class="o">)</span>：n
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Partition<span class="w"> </span>type:
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">   </span>p<span class="w">   </span>primary<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>primary,<span class="w"> </span><span class="m">0</span><span class="w"> </span>extended,<span class="w"> </span><span class="m">4</span><span class="w"> </span>free<span class="o">)</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">   </span>e<span class="w">   </span>extended
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>Select<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>p<span class="o">)</span>:<span class="w"> </span>p
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>分区号<span class="w"> </span><span class="o">(</span><span class="m">1</span>-4，默认<span class="w"> </span><span class="m">1</span><span class="o">)</span>：1
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>起始<span class="w"> </span>扇区<span class="w"> </span><span class="o">(</span><span class="m">2048</span>-943718399，默认为<span class="w"> </span><span class="m">2048</span><span class="o">)</span>：
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>将使用默认值<span class="w"> </span><span class="m">2048</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>Last<span class="w"> </span>扇区,<span class="w"> </span>+扇区<span class="w"> </span>or<span class="w"> </span>+size<span class="o">{</span>K,M,G<span class="o">}</span><span class="w"> </span><span class="o">(</span><span class="m">2048</span>-943718399，默认为<span class="w"> </span><span class="m">943718399</span><span class="o">)</span>：
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>将使用默认值<span class="w"> </span><span class="m">943718399</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>分区<span class="w"> </span><span class="m">1</span><span class="w"> </span>已设置为<span class="w"> </span>Linux<span class="w"> </span>类型，大小设为<span class="w"> </span><span class="m">450</span><span class="w"> </span>GiB
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>命令<span class="o">(</span>输入<span class="w"> </span>m<span class="w"> </span>获取帮助<span class="o">)</span>：p
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>磁盘<span class="w"> </span>/dev/vdb：483.2<span class="w"> </span>GB,<span class="w"> </span><span class="m">483183820800</span><span class="w"> </span>字节，943718400<span class="w"> </span>个扇区
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="nv">Units</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>扇区<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>扇区大小<span class="o">(</span>逻辑/物理<span class="o">)</span>：512<span class="w"> </span>字节<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>字节
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>I/O<span class="w"> </span>大小<span class="o">(</span>最小/最佳<span class="o">)</span>：512<span class="w"> </span>字节<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>字节
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>磁盘标签类型：dos
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>磁盘标识符：0xa1b68466
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">   </span>设备<span class="w"> </span>Boot<span class="w">      </span>Start<span class="w">         </span>End<span class="w">      </span>Blocks<span class="w">   </span>Id<span class="w">  </span>System
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>/dev/vdb1<span class="w">            </span><span class="m">2048</span><span class="w">   </span><span class="m">943718399</span><span class="w">   </span><span class="m">471858176</span><span class="w">   </span><span class="m">83</span><span class="w">  </span>Linux
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>命令<span class="o">(</span>输入<span class="w"> </span>m<span class="w"> </span>获取帮助<span class="o">)</span>：w
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>The<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>altered!
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>Calling<span class="w"> </span>ioctl<span class="o">()</span><span class="w"> </span>to<span class="w"> </span>re-read<span class="w"> </span>partition<span class="w"> </span>table.
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>正在同步磁盘。
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="c1"># 创建文件系统</span>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>mkfs<span class="w"> </span>-t<span class="w"> </span>xfs<span class="w"> </span>/dev/vdb1
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="c1"># 挂载使用</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>mkdir<span class="w"> </span>/tidbdata
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>mount<span class="w"> </span>/dev/vdb1<span class="w"> </span>/tidbdata
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="c1"># 挂载开机启动</span>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>blkid
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>/dev/vda1:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;9f2d3e15-a78a-4f3d-8385-0165b4b67864&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;ext4&quot;</span><span class="w"> </span>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>/dev/vdb1:<span class="w"> </span><span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;b2c45077-0f11-42ff-90d1-864a6d9c7490&quot;</span><span class="w"> </span><span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;xfs&quot;</span><span class="w"> </span>
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>cat<span class="w"> </span>&gt;&gt;<span class="w"> </span>/etc/fstab<span class="w"> </span><span class="s">&lt;&lt;- &#39;EOF&#39;</span>
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a><span class="s">&gt; UUID=b2c45077-0f11-42ff-90d1-864a6d9c7490 /tidbdata xfs default 0 0</span>
</span><span id="__span-6-51"><a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a><span class="s">&gt; EOF</span>
</span></code></pre></div>
<blockquote>
<p>10.101.16.246 上安装tiup并初始化tidb集群</p>
</blockquote>
<ul>
<li>下载并安装TiUP</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>curl<span class="w"> </span>--proto<span class="w"> </span><span class="s1">&#39;=https&#39;</span><span class="w"> </span>--tlsv1.2<span class="w"> </span>-sSf<span class="w"> </span>https://tiup-mirrors.pingcap.com/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span></code></pre></div>
<ul>
<li>安装TiUP集群组件</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># source bash_profile</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nb">source</span><span class="w"> </span>~/.bash_profile
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c1"># 安装tiup</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>tiup<span class="w"> </span>cluster
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1"># 更新</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>tiup<span class="w"> </span>update<span class="w"> </span>--self<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tiup<span class="w"> </span>update<span class="w"> </span>cluster
</span></code></pre></div>
<ul>
<li>创建并启动集群</li>
</ul>
<p>创建配置文件</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>topo.yaml<span class="w"> </span><span class="s">&lt;&lt;- &#39;EOF&#39; </span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="s"># # Global variables are applied to all deployments and used as the default value of</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="s"># # the deployments if a specific deployment value is missing.</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="s">global:</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="s"> user: &quot;tidb&quot;</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="s"> ssh_port: 22</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="s"> deploy_dir: &quot;/tidbdata/tidb-deploy&quot;</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="s"> data_dir: &quot;/tidbdata/tidb-data&quot;</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="s"># # Monitored variables are applied to all the machines.</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="s">monitored:</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="s"> node_exporter_port: 9100</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="s"> blackbox_exporter_port: 9115</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="s">server_configs:</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="s"> tidb:</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="s">   log.slow-threshold: 300</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="s"> tikv:</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="s">   readpool.storage.use-unified-pool: false</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="s">   readpool.coprocessor.use-unified-pool: true</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="s"> pd:</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="s">   replication.enable-placement-rules: true</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="s">   replication.location-labels: [&quot;host&quot;]</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="s"> tiflash:</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="s">   logger.level: &quot;info&quot;</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="s">pd_servers:</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="s"> - host: 10.101.16.247</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="s">tidb_servers:</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="s"> - host: 10.101.16.246</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="s">tikv_servers:</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="s"> - host: 10.101.16.246</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="s">   port: 20160</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="s">   status_port: 20180</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="s">   config:</span>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="s">     server.labels: { host: &quot;tidb-node01&quot; }</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="s"> - host: 10.101.16.247</span>
</span><span id="__span-9-41"><a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="s">   port: 20161</span>
</span><span id="__span-9-42"><a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="s">   status_port: 20181</span>
</span><span id="__span-9-43"><a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="s">   config:</span>
</span><span id="__span-9-44"><a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="s">     server.labels: { host: &quot;tidb-node02&quot; }</span>
</span><span id="__span-9-45"><a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a>
</span><span id="__span-9-46"><a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="s"> - host: 10.101.16.248</span>
</span><span id="__span-9-47"><a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="s">   port: 20162</span>
</span><span id="__span-9-48"><a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="s">   status_port: 20182</span>
</span><span id="__span-9-49"><a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="s">   config:</span>
</span><span id="__span-9-50"><a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="s">     server.labels: { host: &quot;tidb-node03&quot; }</span>
</span><span id="__span-9-51"><a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a>
</span><span id="__span-9-52"><a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="s">tiflash_servers:</span>
</span><span id="__span-9-53"><a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a><span class="s"> - host: 10.101.16.248</span>
</span><span id="__span-9-54"><a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a>
</span><span id="__span-9-55"><a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="s">monitoring_servers:</span>
</span><span id="__span-9-56"><a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="s"> - host: 10.101.16.246</span>
</span><span id="__span-9-57"><a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a>
</span><span id="__span-9-58"><a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="s">grafana_servers:</span>
</span><span id="__span-9-59"><a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="s"> - host: 10.101.16.246</span>
</span><span id="__span-9-60"><a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="s">EOF</span>
</span></code></pre></div>
<ul>
<li>执行集群部署命令</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>deploy<span class="w"> </span>tidb-ddyw<span class="w">  </span>v4.0.8<span class="w"> </span>./topo.yaml<span class="w"> </span>--user<span class="w"> </span>root
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Deployed<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>start<span class="w"> </span>the<span class="w"> </span>cluster<span class="w"> </span>via<span class="w"> </span><span class="sb">`</span>tiup<span class="w"> </span>cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw<span class="sb">`</span>
</span></code></pre></div>
<ul>
<li>启动集群</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>Started<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully
</span></code></pre></div>
<ul>
<li>访问集群</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># 安装mysql client客户端</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>mysql
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1"># 访问TIDB,默认为空密码</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>mysql<span class="w"> </span>-h<span class="w"> </span><span class="m">10</span>.101.16.246<span class="w"> </span>-P<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>MySQL<span class="w"> </span><span class="o">[(</span>none<span class="o">)]</span>&gt;<span class="w"> </span>show<span class="w"> </span>databases<span class="p">;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>+--------------------+
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="p">|</span><span class="w"> </span>Database<span class="w">           </span><span class="p">|</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>+--------------------+
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="p">|</span><span class="w"> </span>INFORMATION_SCHEMA<span class="w"> </span><span class="p">|</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="p">|</span><span class="w"> </span>METRICS_SCHEMA<span class="w">     </span><span class="p">|</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="p">|</span><span class="w"> </span>PERFORMANCE_SCHEMA<span class="w"> </span><span class="p">|</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="p">|</span><span class="w"> </span>mysql<span class="w">              </span><span class="p">|</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="p">|</span><span class="w"> </span><span class="nb">test</span><span class="w">               </span><span class="p">|</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>+--------------------+
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="m">5</span><span class="w"> </span>rows<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="c1"># 查看集群列表</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>SSH<span class="w"> </span>type:<span class="w">        </span><span class="nb">builtin</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a>ID<span class="w">                   </span>Role<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Status<span class="w">   </span>Data<span class="w"> </span>Dir<span class="w">                             </span>Deploy<span class="w"> </span>Dir
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a>--<span class="w">                   </span>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>------<span class="w">   </span>--------<span class="w">                             </span>----------
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="m">10</span>.101.16.246:3000<span class="w">   </span>grafana<span class="w">     </span><span class="m">10</span>.101.16.246<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                                    </span>/tidbdata/tidb-deploy/grafana-3000
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="m">10</span>.101.16.247:2379<span class="w">   </span>pd<span class="w">          </span><span class="m">10</span>.101.16.247<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>Up<span class="p">|</span>L<span class="p">|</span>UI<span class="w">  </span>/tidbdata/tidb-data/pd-2379<span class="w">          </span>/tidbdata/tidb-deploy/pd-2379
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="m">10</span>.101.16.246:9090<span class="w">   </span>prometheus<span class="w">  </span><span class="m">10</span>.101.16.246<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidbdata/tidb-data/prometheus-9090<span class="w">  </span>/tidbdata/tidb-deploy/prometheus-9090
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="m">10</span>.101.16.246:4000<span class="w">   </span>tidb<span class="w">        </span><span class="m">10</span>.101.16.246<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                                    </span>/tidbdata/tidb-deploy/tidb-4000
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="m">10</span>.101.16.248:9000<span class="w">   </span>tiflash<span class="w">     </span><span class="m">10</span>.101.16.248<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidbdata/tidb-data/tiflash-9000<span class="w">     </span>/tidbdata/tidb-deploy/tiflash-9000
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="m">10</span>.101.16.246:20160<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.246<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidbdata/tidb-data/tikv-20160<span class="w">       </span>/tidbdata/tidb-deploy/tikv-20160
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="m">10</span>.101.16.247:20161<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.247<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidbdata/tidb-data/tikv-20161<span class="w">       </span>/tidbdata/tidb-deploy/tikv-20161
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="m">10</span>.101.16.248:20162<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.248<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidbdata/tidb-data/tikv-20162<span class="w">       </span>/tidbdata/tidb-deploy/tikv-20162
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a>Total<span class="w"> </span>nodes:<span class="w"> </span><span class="m">8</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="c1"># TIDB访问</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="c1">## 内网访问</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a>To<span class="w"> </span>connect<span class="w"> </span>TiDB:<span class="w"> </span>mysql<span class="w"> </span>--host<span class="w"> </span><span class="m">10</span>.101.16.246<span class="w"> </span>--port<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>dashboard:<span class="w"> </span>http://10.101.16.246:2379/dashboard
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>monitor:<span class="w"> </span>http://10.101.16.246:9090
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="c1">## 外网访问</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a>To<span class="w"> </span>connect<span class="w"> </span>TiDB:<span class="w"> </span>mysql<span class="w"> </span>--host<span class="w"> </span><span class="m">47</span>.93.55.89<span class="w"> </span>--port<span class="w"> </span><span class="m">32002</span><span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>dashboard:<span class="w"> </span>http://47.93.55.89:32003/dashboard
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>monitor<span class="w"> </span>prometheus:<span class="w"> </span>http://47.93.55.89:32004
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a>To<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>monitor<span class="w"> </span>grafana:<span class="w"> </span>http://47.93.55.89:32001<span class="w"> </span>admin<span class="w"> </span>admin
</span></code></pre></div>
<h3 id="tidb_2">TIDB集群管理</h3>
<h4 id="_6">集群重启</h4>
<p>在停止node_exporter时,出现超时现象报错,导致集群直接故障,需要手动启动集群,才可回复正常,查看官方提供的tiup部署工具为二进制包,所以需要修改源码才可以解决此问题.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># 集群重启</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">## 出现超时报错</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>restart<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>restart<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>SSHKeySet:<span class="w"> </span><span class="nv">privateKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa,<span class="w"> </span><span class="nv">publicKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>RestartCluster
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>Stopping<span class="w"> </span>component<span class="w"> </span>grafana
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">    </span>Stop<span class="w"> </span>grafana<span class="w"> </span><span class="m">10</span>.101.16.245:3000<span class="w"> </span>success
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>Stopping<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">    </span>Stop<span class="w"> </span>prometheus<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>success
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>Stopping<span class="w"> </span>component<span class="w"> </span>tiflash
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">    </span>Stop<span class="w"> </span>tiflash<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>success
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>Stopping<span class="w"> </span>component<span class="w"> </span>tidb
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="w">    </span>Stop<span class="w"> </span>tidb<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>success
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a>Stopping<span class="w"> </span>component<span class="w"> </span>tikv
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="w">    </span>Stop<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>success
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="w">    </span>Stop<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20160<span class="w"> </span>success
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="w">    </span>Stop<span class="w"> </span>tikv<span class="w"> </span><span class="m">10</span>.101.16.245:20161<span class="w"> </span>success
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>Stopping<span class="w"> </span>component<span class="w"> </span>pd
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="w">    </span>Stopping<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="w">    </span>Stop<span class="w"> </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>success
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>Stopping<span class="w"> </span>component<span class="w"> </span>node_exporter
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>retry<span class="w"> </span>error:<span class="w"> </span>operation<span class="w"> </span>timed<span class="w"> </span>out<span class="w"> </span>after<span class="w"> </span>2m0s
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="w">    </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>stop:<span class="w"> </span>timed<span class="w"> </span>out<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>port<span class="w"> </span><span class="m">9100</span><span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>stopped<span class="w"> </span>after<span class="w"> </span>2m0s
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a>Error:<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>stop:<span class="w">  </span>pd<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>stop:<span class="w"> </span>timed<span class="w"> </span>out<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>port<span class="w"> </span><span class="m">9100</span><span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>stopped<span class="w"> </span>after<span class="w"> </span>2m0s:<span class="w"> </span>timed<span class="w"> </span>out<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>port<span class="w"> </span><span class="m">9100</span><span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>stopped<span class="w"> </span>after<span class="w"> </span>2m0s
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a>Verbose<span class="w"> </span>debug<span class="w"> </span>logs<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to<span class="w"> </span>/tidb-data/tikv-20160/logs/tiup-cluster-debug-2020-12-02-10-50-06.log.
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a>Error:<span class="w"> </span>run<span class="w"> </span><span class="sb">`</span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="sb">`</span><span class="w"> </span><span class="o">(</span>wd:/root/.tiup/data/SHyfGAX<span class="o">)</span><span class="w"> </span>failed:<span class="w"> </span><span class="nb">exit</span><span class="w"> </span>status<span class="w"> </span><span class="m">1</span>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="c1">## 再次查看集群拓扑,出现异常</span>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a>SSH<span class="w"> </span>type:<span class="w">        </span><span class="nb">builtin</span>
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a>ID<span class="w">                   </span>Role<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Status<span class="w">    </span>Data<span class="w"> </span>Dir<span class="w">                    </span>Deploy<span class="w"> </span>Dir
</span><span id="__span-13-52"><a id="__codelineno-13-52" name="__codelineno-13-52" href="#__codelineno-13-52"></a>--<span class="w">                   </span>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>------<span class="w">    </span>--------<span class="w">                    </span>----------
</span><span id="__span-13-53"><a id="__codelineno-13-53" name="__codelineno-13-53" href="#__codelineno-13-53"></a><span class="m">10</span>.101.16.245:3000<span class="w">   </span>grafana<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>inactive<span class="w">  </span>-<span class="w">                           </span>/tidb-deploy/grafana-3000
</span><span id="__span-13-54"><a id="__codelineno-13-54" name="__codelineno-13-54" href="#__codelineno-13-54"></a><span class="m">10</span>.101.16.245:2379<span class="w">   </span>pd<span class="w">          </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>/tidb-data/pd-2379<span class="w">          </span>/tidb-deploy/pd-2379
</span><span id="__span-13-55"><a id="__codelineno-13-55" name="__codelineno-13-55" href="#__codelineno-13-55"></a><span class="m">10</span>.101.16.245:9090<span class="w">   </span>prometheus<span class="w">  </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>inactive<span class="w">  </span>/tidb-data/prometheus-9090<span class="w">  </span>/tidb-deploy/prometheus-9090
</span><span id="__span-13-56"><a id="__codelineno-13-56" name="__codelineno-13-56" href="#__codelineno-13-56"></a><span class="m">10</span>.101.16.245:4000<span class="w">   </span>tidb<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>-<span class="w">                           </span>/tidb-deploy/tidb-4000
</span><span id="__span-13-57"><a id="__codelineno-13-57" name="__codelineno-13-57" href="#__codelineno-13-57"></a><span class="m">10</span>.101.16.245:9000<span class="w">   </span>tiflash<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>/tidb-data/tiflash-9000<span class="w">     </span>/tidb-deploy/tiflash-9000
</span><span id="__span-13-58"><a id="__codelineno-13-58" name="__codelineno-13-58" href="#__codelineno-13-58"></a><span class="m">10</span>.101.16.245:20160<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>/tidb-data/tikv-20160<span class="w">       </span>/tidb-deploy/tikv-20160
</span><span id="__span-13-59"><a id="__codelineno-13-59" name="__codelineno-13-59" href="#__codelineno-13-59"></a><span class="m">10</span>.101.16.245:20161<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>/tidb-data/tikv-20161<span class="w">       </span>/tidb-deploy/tikv-20161
</span><span id="__span-13-60"><a id="__codelineno-13-60" name="__codelineno-13-60" href="#__codelineno-13-60"></a><span class="m">10</span>.101.16.245:20162<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>Down<span class="w">      </span>/tidb-data/tikv-20162<span class="w">       </span>/tidb-deploy/tikv-20162
</span><span id="__span-13-61"><a id="__codelineno-13-61" name="__codelineno-13-61" href="#__codelineno-13-61"></a>Total<span class="w"> </span>nodes:<span class="w"> </span><span class="m">8</span>
</span><span id="__span-13-62"><a id="__codelineno-13-62" name="__codelineno-13-62" href="#__codelineno-13-62"></a>
</span><span id="__span-13-63"><a id="__codelineno-13-63" name="__codelineno-13-63" href="#__codelineno-13-63"></a>WARN:<span class="w"> </span>get<span class="w"> </span>location<span class="w"> </span>labels<span class="w"> </span>from<span class="w"> </span>pd<span class="w"> </span>failed:<span class="w"> </span>Get<span class="w"> </span>http://10.101.16.245:2379/pd/api/v1/config/replicate:<span class="w"> </span>dial<span class="w"> </span>tcp<span class="w"> </span><span class="m">10</span>.101.16.245:2379:<span class="w"> </span>connect:<span class="w"> </span>connection<span class="w"> </span>refused
</span><span id="__span-13-64"><a id="__codelineno-13-64" name="__codelineno-13-64" href="#__codelineno-13-64"></a><span class="c1">## 再启动TIDB,恢复正常</span>
</span><span id="__span-13-65"><a id="__codelineno-13-65" name="__codelineno-13-65" href="#__codelineno-13-65"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>start<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-66"><a id="__codelineno-13-66" name="__codelineno-13-66" href="#__codelineno-13-66"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-67"><a id="__codelineno-13-67" name="__codelineno-13-67" href="#__codelineno-13-67"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-13-68"><a id="__codelineno-13-68" name="__codelineno-13-68" href="#__codelineno-13-68"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-13-69"><a id="__codelineno-13-69" name="__codelineno-13-69" href="#__codelineno-13-69"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-13-70"><a id="__codelineno-13-70" name="__codelineno-13-70" href="#__codelineno-13-70"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-13-71"><a id="__codelineno-13-71" name="__codelineno-13-71" href="#__codelineno-13-71"></a>SSH<span class="w"> </span>type:<span class="w">        </span><span class="nb">builtin</span>
</span><span id="__span-13-72"><a id="__codelineno-13-72" name="__codelineno-13-72" href="#__codelineno-13-72"></a>ID<span class="w">                   </span>Role<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Status<span class="w">        </span>Data<span class="w"> </span>Dir<span class="w">                    </span>Deploy<span class="w"> </span>Dir
</span><span id="__span-13-73"><a id="__codelineno-13-73" name="__codelineno-13-73" href="#__codelineno-13-73"></a>--<span class="w">                   </span>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>------<span class="w">        </span>--------<span class="w">                    </span>----------
</span><span id="__span-13-74"><a id="__codelineno-13-74" name="__codelineno-13-74" href="#__codelineno-13-74"></a><span class="m">10</span>.101.16.245:3000<span class="w">   </span>grafana<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>-<span class="w">                           </span>/tidb-deploy/grafana-3000
</span><span id="__span-13-75"><a id="__codelineno-13-75" name="__codelineno-13-75" href="#__codelineno-13-75"></a><span class="m">10</span>.101.16.245:2379<span class="w">   </span>pd<span class="w">          </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>Up<span class="p">|</span>L<span class="p">|</span>UI<span class="w">       </span>/tidb-data/pd-2379<span class="w">          </span>/tidb-deploy/pd-2379
</span><span id="__span-13-76"><a id="__codelineno-13-76" name="__codelineno-13-76" href="#__codelineno-13-76"></a><span class="m">10</span>.101.16.245:9090<span class="w">   </span>prometheus<span class="w">  </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>/tidb-data/prometheus-9090<span class="w">  </span>/tidb-deploy/prometheus-9090
</span><span id="__span-13-77"><a id="__codelineno-13-77" name="__codelineno-13-77" href="#__codelineno-13-77"></a><span class="m">10</span>.101.16.245:4000<span class="w">   </span>tidb<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>-<span class="w">                           </span>/tidb-deploy/tidb-4000
</span><span id="__span-13-78"><a id="__codelineno-13-78" name="__codelineno-13-78" href="#__codelineno-13-78"></a><span class="m">10</span>.101.16.245:9000<span class="w">   </span>tiflash<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>Disconnected<span class="w">  </span>/tidb-data/tiflash-9000<span class="w">     </span>/tidb-deploy/tiflash-9000
</span><span id="__span-13-79"><a id="__codelineno-13-79" name="__codelineno-13-79" href="#__codelineno-13-79"></a><span class="m">10</span>.101.16.245:20160<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>/tidb-data/tikv-20160<span class="w">       </span>/tidb-deploy/tikv-20160
</span><span id="__span-13-80"><a id="__codelineno-13-80" name="__codelineno-13-80" href="#__codelineno-13-80"></a><span class="m">10</span>.101.16.245:20161<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>/tidb-data/tikv-20161<span class="w">       </span>/tidb-deploy/tikv-20161
</span><span id="__span-13-81"><a id="__codelineno-13-81" name="__codelineno-13-81" href="#__codelineno-13-81"></a><span class="m">10</span>.101.16.245:20162<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">            </span>/tidb-data/tikv-20162<span class="w">       </span>/tidb-deploy/tikv-20162
</span><span id="__span-13-82"><a id="__codelineno-13-82" name="__codelineno-13-82" href="#__codelineno-13-82"></a>Total<span class="w"> </span>nodes:<span class="w"> </span><span class="m">8</span>
</span></code></pre></div>
<h4 id="_7">更新配置</h4>
<p>官方提供示例配置参考如下</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>curl<span class="w"> </span>-sL<span class="w"> </span>https://raw.githubusercontent.com/pingcap/tidb/master/config/config.toml.example<span class="w"> </span>-o<span class="w"> </span>config.toml.example
</span></code></pre></div>
<p>集群更新配置并重启组件</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># 查看role和node</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw<span class="w"> </span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>display<span class="w"> </span>tidb-ddyw
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>Cluster<span class="w"> </span>type:<span class="w">    </span>tidb
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>Cluster<span class="w"> </span>name:<span class="w">    </span>tidb-ddyw
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>Cluster<span class="w"> </span>version:<span class="w"> </span>v4.0.8
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>SSH<span class="w"> </span>type:<span class="w">        </span><span class="nb">builtin</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>ID<span class="w">                   </span>Role<span class="w">        </span>Host<span class="w">           </span>Ports<span class="w">                            </span>OS/Arch<span class="w">       </span>Status<span class="w">   </span>Data<span class="w"> </span>Dir<span class="w">                    </span>Deploy<span class="w"> </span>Dir
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>--<span class="w">                   </span>----<span class="w">        </span>----<span class="w">           </span>-----<span class="w">                            </span>-------<span class="w">       </span>------<span class="w">   </span>--------<span class="w">                    </span>----------
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="m">10</span>.101.16.245:3000<span class="w">   </span>grafana<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">3000</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                           </span>/tidb-deploy/grafana-3000
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="m">10</span>.101.16.245:2379<span class="w">   </span>pd<span class="w">          </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">2379</span>/2380<span class="w">                        </span>linux/x86_64<span class="w">  </span>Up<span class="p">|</span>L<span class="p">|</span>UI<span class="w">  </span>/tidb-data/pd-2379<span class="w">          </span>/tidb-deploy/pd-2379
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="m">10</span>.101.16.245:9090<span class="w">   </span>prometheus<span class="w">  </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9090</span><span class="w">                             </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/prometheus-9090<span class="w">  </span>/tidb-deploy/prometheus-9090
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="m">10</span>.101.16.245:4000<span class="w">   </span>tidb<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">4000</span>/10080<span class="w">                       </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>-<span class="w">                           </span>/tidb-deploy/tidb-4000
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="m">10</span>.101.16.245:9000<span class="w">   </span>tiflash<span class="w">     </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">9000</span>/8123/3930/20170/20292/8234<span class="w">  </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tiflash-9000<span class="w">     </span>/tidb-deploy/tiflash-9000
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="m">10</span>.101.16.245:20160<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20160</span>/20180<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20160<span class="w">       </span>/tidb-deploy/tikv-20160
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="m">10</span>.101.16.245:20161<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20161</span>/20181<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20161<span class="w">       </span>/tidb-deploy/tikv-20161
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="m">10</span>.101.16.245:20162<span class="w">  </span>tikv<span class="w">        </span><span class="m">10</span>.101.16.245<span class="w">  </span><span class="m">20162</span>/20182<span class="w">                      </span>linux/x86_64<span class="w">  </span>Up<span class="w">       </span>/tidb-data/tikv-20162<span class="w">       </span>/tidb-deploy/tikv-20162
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>Total<span class="w"> </span>nodes:<span class="w"> </span><span class="m">8</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="c1"># 重启整个集群</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>SSHKeySet:<span class="w"> </span><span class="nv">privateKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa,<span class="w"> </span><span class="nv">publicKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>+<span class="w"> </span>Refresh<span class="w"> </span>instance<span class="w"> </span>configs
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>pd<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20160<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20161<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tidb<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tiflash<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>prometheus<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>grafana<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:3000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>+<span class="w"> </span>Refresh<span class="w"> </span>monitor<span class="w"> </span>configs
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>node_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-42"><a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>blackbox_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-43"><a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UpgradeCluster
</span><span id="__span-15-44"><a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>Restarting<span class="w"> </span>component<span class="w"> </span>tiflash
</span><span id="__span-15-45"><a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-46"><a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-47"><a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a>Restarting<span class="w"> </span>component<span class="w"> </span>pd
</span><span id="__span-15-48"><a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-49"><a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-50"><a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a>Restarting<span class="w"> </span>component<span class="w"> </span>tikv
</span><span id="__span-15-51"><a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>PD<span class="w"> </span>leader<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>elected
</span><span id="__span-15-52"><a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a>Evicting<span class="w"> </span><span class="m">9</span><span class="w"> </span>leaders<span class="w"> </span>from<span class="w"> </span>store<span class="w"> </span><span class="m">10</span>.101.16.245:20160...
</span><span id="__span-15-53"><a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-54"><a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-55"><a id="__codelineno-15-55" name="__codelineno-15-55" href="#__codelineno-15-55"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-56"><a id="__codelineno-15-56" name="__codelineno-15-56" href="#__codelineno-15-56"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-57"><a id="__codelineno-15-57" name="__codelineno-15-57" href="#__codelineno-15-57"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-58"><a id="__codelineno-15-58" name="__codelineno-15-58" href="#__codelineno-15-58"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-59"><a id="__codelineno-15-59" name="__codelineno-15-59" href="#__codelineno-15-59"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-60"><a id="__codelineno-15-60" name="__codelineno-15-60" href="#__codelineno-15-60"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-61"><a id="__codelineno-15-61" name="__codelineno-15-61" href="#__codelineno-15-61"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-62"><a id="__codelineno-15-62" name="__codelineno-15-62" href="#__codelineno-15-62"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-63"><a id="__codelineno-15-63" name="__codelineno-15-63" href="#__codelineno-15-63"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-64"><a id="__codelineno-15-64" name="__codelineno-15-64" href="#__codelineno-15-64"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-65"><a id="__codelineno-15-65" name="__codelineno-15-65" href="#__codelineno-15-65"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-66"><a id="__codelineno-15-66" name="__codelineno-15-66" href="#__codelineno-15-66"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-67"><a id="__codelineno-15-67" name="__codelineno-15-67" href="#__codelineno-15-67"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-68"><a id="__codelineno-15-68" name="__codelineno-15-68" href="#__codelineno-15-68"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-69"><a id="__codelineno-15-69" name="__codelineno-15-69" href="#__codelineno-15-69"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-70"><a id="__codelineno-15-70" name="__codelineno-15-70" href="#__codelineno-15-70"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-71"><a id="__codelineno-15-71" name="__codelineno-15-71" href="#__codelineno-15-71"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-72"><a id="__codelineno-15-72" name="__codelineno-15-72" href="#__codelineno-15-72"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-73"><a id="__codelineno-15-73" name="__codelineno-15-73" href="#__codelineno-15-73"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-74"><a id="__codelineno-15-74" name="__codelineno-15-74" href="#__codelineno-15-74"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-75"><a id="__codelineno-15-75" name="__codelineno-15-75" href="#__codelineno-15-75"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-76"><a id="__codelineno-15-76" name="__codelineno-15-76" href="#__codelineno-15-76"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-77"><a id="__codelineno-15-77" name="__codelineno-15-77" href="#__codelineno-15-77"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-78"><a id="__codelineno-15-78" name="__codelineno-15-78" href="#__codelineno-15-78"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-79"><a id="__codelineno-15-79" name="__codelineno-15-79" href="#__codelineno-15-79"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-80"><a id="__codelineno-15-80" name="__codelineno-15-80" href="#__codelineno-15-80"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-81"><a id="__codelineno-15-81" name="__codelineno-15-81" href="#__codelineno-15-81"></a>Delete<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>of<span class="w"> </span>store<span class="w"> </span><span class="m">4</span><span class="w"> </span>success
</span><span id="__span-15-82"><a id="__codelineno-15-82" name="__codelineno-15-82" href="#__codelineno-15-82"></a>Removed<span class="w"> </span>store<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>from<span class="w"> </span><span class="m">10</span>.101.16.245:20160.
</span><span id="__span-15-83"><a id="__codelineno-15-83" name="__codelineno-15-83" href="#__codelineno-15-83"></a>Evicting<span class="w"> </span><span class="m">12</span><span class="w"> </span>leaders<span class="w"> </span>from<span class="w"> </span>store<span class="w"> </span><span class="m">10</span>.101.16.245:20161...
</span><span id="__span-15-84"><a id="__codelineno-15-84" name="__codelineno-15-84" href="#__codelineno-15-84"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">12</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-85"><a id="__codelineno-15-85" name="__codelineno-15-85" href="#__codelineno-15-85"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">12</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-86"><a id="__codelineno-15-86" name="__codelineno-15-86" href="#__codelineno-15-86"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">12</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-87"><a id="__codelineno-15-87" name="__codelineno-15-87" href="#__codelineno-15-87"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-88"><a id="__codelineno-15-88" name="__codelineno-15-88" href="#__codelineno-15-88"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-89"><a id="__codelineno-15-89" name="__codelineno-15-89" href="#__codelineno-15-89"></a>Delete<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>of<span class="w"> </span>store<span class="w"> </span><span class="m">5</span><span class="w"> </span>success
</span><span id="__span-15-90"><a id="__codelineno-15-90" name="__codelineno-15-90" href="#__codelineno-15-90"></a>Removed<span class="w"> </span>store<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>from<span class="w"> </span><span class="m">10</span>.101.16.245:20161.
</span><span id="__span-15-91"><a id="__codelineno-15-91" name="__codelineno-15-91" href="#__codelineno-15-91"></a>Evicting<span class="w"> </span><span class="m">14</span><span class="w"> </span>leaders<span class="w"> </span>from<span class="w"> </span>store<span class="w"> </span><span class="m">10</span>.101.16.245:20162...
</span><span id="__span-15-92"><a id="__codelineno-15-92" name="__codelineno-15-92" href="#__codelineno-15-92"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">14</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-93"><a id="__codelineno-15-93" name="__codelineno-15-93" href="#__codelineno-15-93"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">14</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-94"><a id="__codelineno-15-94" name="__codelineno-15-94" href="#__codelineno-15-94"></a>Still<span class="w"> </span>waitting<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">14</span><span class="w"> </span>store<span class="w"> </span>leaders<span class="w"> </span>to<span class="w"> </span>transfer...
</span><span id="__span-15-95"><a id="__codelineno-15-95" name="__codelineno-15-95" href="#__codelineno-15-95"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-96"><a id="__codelineno-15-96" name="__codelineno-15-96" href="#__codelineno-15-96"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-97"><a id="__codelineno-15-97" name="__codelineno-15-97" href="#__codelineno-15-97"></a>Delete<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>of<span class="w"> </span>store<span class="w"> </span><span class="m">1</span><span class="w"> </span>success
</span><span id="__span-15-98"><a id="__codelineno-15-98" name="__codelineno-15-98" href="#__codelineno-15-98"></a>Removed<span class="w"> </span>store<span class="w"> </span>leader<span class="w"> </span>evicting<span class="w"> </span>scheduler<span class="w"> </span>from<span class="w"> </span><span class="m">10</span>.101.16.245:20162.
</span><span id="__span-15-99"><a id="__codelineno-15-99" name="__codelineno-15-99" href="#__codelineno-15-99"></a>Restarting<span class="w"> </span>component<span class="w"> </span>tidb
</span><span id="__span-15-100"><a id="__codelineno-15-100" name="__codelineno-15-100" href="#__codelineno-15-100"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-101"><a id="__codelineno-15-101" name="__codelineno-15-101" href="#__codelineno-15-101"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-102"><a id="__codelineno-15-102" name="__codelineno-15-102" href="#__codelineno-15-102"></a>Restarting<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-15-103"><a id="__codelineno-15-103" name="__codelineno-15-103" href="#__codelineno-15-103"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-104"><a id="__codelineno-15-104" name="__codelineno-15-104" href="#__codelineno-15-104"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-105"><a id="__codelineno-15-105" name="__codelineno-15-105" href="#__codelineno-15-105"></a>Restarting<span class="w"> </span>component<span class="w"> </span>grafana
</span><span id="__span-15-106"><a id="__codelineno-15-106" name="__codelineno-15-106" href="#__codelineno-15-106"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-107"><a id="__codelineno-15-107" name="__codelineno-15-107" href="#__codelineno-15-107"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-108"><a id="__codelineno-15-108" name="__codelineno-15-108" href="#__codelineno-15-108"></a>Reloaded<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully
</span><span id="__span-15-109"><a id="__codelineno-15-109" name="__codelineno-15-109" href="#__codelineno-15-109"></a><span class="c1"># 根据node重启组件</span>
</span><span id="__span-15-110"><a id="__codelineno-15-110" name="__codelineno-15-110" href="#__codelineno-15-110"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw<span class="w"> </span>-N<span class="w"> </span><span class="m">10</span>.101.16.245:9090
</span><span id="__span-15-111"><a id="__codelineno-15-111" name="__codelineno-15-111" href="#__codelineno-15-111"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw<span class="w"> </span>-N<span class="w"> </span><span class="m">10</span>.101.16.245:9090
</span><span id="__span-15-112"><a id="__codelineno-15-112" name="__codelineno-15-112" href="#__codelineno-15-112"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>SSHKeySet:<span class="w"> </span><span class="nv">privateKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa,<span class="w"> </span><span class="nv">publicKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
</span><span id="__span-15-113"><a id="__codelineno-15-113" name="__codelineno-15-113" href="#__codelineno-15-113"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-114"><a id="__codelineno-15-114" name="__codelineno-15-114" href="#__codelineno-15-114"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-115"><a id="__codelineno-15-115" name="__codelineno-15-115" href="#__codelineno-15-115"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-116"><a id="__codelineno-15-116" name="__codelineno-15-116" href="#__codelineno-15-116"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-117"><a id="__codelineno-15-117" name="__codelineno-15-117" href="#__codelineno-15-117"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-118"><a id="__codelineno-15-118" name="__codelineno-15-118" href="#__codelineno-15-118"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-119"><a id="__codelineno-15-119" name="__codelineno-15-119" href="#__codelineno-15-119"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-120"><a id="__codelineno-15-120" name="__codelineno-15-120" href="#__codelineno-15-120"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-121"><a id="__codelineno-15-121" name="__codelineno-15-121" href="#__codelineno-15-121"></a>+<span class="w"> </span>Refresh<span class="w"> </span>instance<span class="w"> </span>configs
</span><span id="__span-15-122"><a id="__codelineno-15-122" name="__codelineno-15-122" href="#__codelineno-15-122"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>pd<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-123"><a id="__codelineno-15-123" name="__codelineno-15-123" href="#__codelineno-15-123"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20160<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-124"><a id="__codelineno-15-124" name="__codelineno-15-124" href="#__codelineno-15-124"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20161<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-125"><a id="__codelineno-15-125" name="__codelineno-15-125" href="#__codelineno-15-125"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-126"><a id="__codelineno-15-126" name="__codelineno-15-126" href="#__codelineno-15-126"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tidb<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-127"><a id="__codelineno-15-127" name="__codelineno-15-127" href="#__codelineno-15-127"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tiflash<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-128"><a id="__codelineno-15-128" name="__codelineno-15-128" href="#__codelineno-15-128"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>prometheus<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-129"><a id="__codelineno-15-129" name="__codelineno-15-129" href="#__codelineno-15-129"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>grafana<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:3000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-130"><a id="__codelineno-15-130" name="__codelineno-15-130" href="#__codelineno-15-130"></a>+<span class="w"> </span>Refresh<span class="w"> </span>monitor<span class="w"> </span>configs
</span><span id="__span-15-131"><a id="__codelineno-15-131" name="__codelineno-15-131" href="#__codelineno-15-131"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>node_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-132"><a id="__codelineno-15-132" name="__codelineno-15-132" href="#__codelineno-15-132"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>blackbox_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-133"><a id="__codelineno-15-133" name="__codelineno-15-133" href="#__codelineno-15-133"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UpgradeCluster
</span><span id="__span-15-134"><a id="__codelineno-15-134" name="__codelineno-15-134" href="#__codelineno-15-134"></a>Restarting<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-15-135"><a id="__codelineno-15-135" name="__codelineno-15-135" href="#__codelineno-15-135"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-136"><a id="__codelineno-15-136" name="__codelineno-15-136" href="#__codelineno-15-136"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-137"><a id="__codelineno-15-137" name="__codelineno-15-137" href="#__codelineno-15-137"></a>Reloaded<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully
</span><span id="__span-15-138"><a id="__codelineno-15-138" name="__codelineno-15-138" href="#__codelineno-15-138"></a><span class="c1"># 根据role重启组件</span>
</span><span id="__span-15-139"><a id="__codelineno-15-139" name="__codelineno-15-139" href="#__codelineno-15-139"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw<span class="w"> </span>-R<span class="w"> </span>prometheus
</span><span id="__span-15-140"><a id="__codelineno-15-140" name="__codelineno-15-140" href="#__codelineno-15-140"></a>Starting<span class="w"> </span>component<span class="w"> </span><span class="sb">`</span>cluster<span class="sb">`</span>:<span class="w"> </span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw<span class="w"> </span>-R<span class="w"> </span>prometheus
</span><span id="__span-15-141"><a id="__codelineno-15-141" name="__codelineno-15-141" href="#__codelineno-15-141"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>SSHKeySet:<span class="w"> </span><span class="nv">privateKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa,<span class="w"> </span><span class="nv">publicKey</span><span class="o">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
</span><span id="__span-15-142"><a id="__codelineno-15-142" name="__codelineno-15-142" href="#__codelineno-15-142"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-143"><a id="__codelineno-15-143" name="__codelineno-15-143" href="#__codelineno-15-143"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-144"><a id="__codelineno-15-144" name="__codelineno-15-144" href="#__codelineno-15-144"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-145"><a id="__codelineno-15-145" name="__codelineno-15-145" href="#__codelineno-15-145"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-146"><a id="__codelineno-15-146" name="__codelineno-15-146" href="#__codelineno-15-146"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-147"><a id="__codelineno-15-147" name="__codelineno-15-147" href="#__codelineno-15-147"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-148"><a id="__codelineno-15-148" name="__codelineno-15-148" href="#__codelineno-15-148"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-149"><a id="__codelineno-15-149" name="__codelineno-15-149" href="#__codelineno-15-149"></a>+<span class="w"> </span><span class="o">[</span>Parallel<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UserSSH:<span class="w"> </span><span class="nv">user</span><span class="o">=</span>tidb,<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">10</span>.101.16.245
</span><span id="__span-15-150"><a id="__codelineno-15-150" name="__codelineno-15-150" href="#__codelineno-15-150"></a>+<span class="w"> </span>Refresh<span class="w"> </span>instance<span class="w"> </span>configs
</span><span id="__span-15-151"><a id="__codelineno-15-151" name="__codelineno-15-151" href="#__codelineno-15-151"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>pd<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:2379<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-152"><a id="__codelineno-15-152" name="__codelineno-15-152" href="#__codelineno-15-152"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20160<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-153"><a id="__codelineno-15-153" name="__codelineno-15-153" href="#__codelineno-15-153"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20161<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-154"><a id="__codelineno-15-154" name="__codelineno-15-154" href="#__codelineno-15-154"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tikv<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:20162<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-155"><a id="__codelineno-15-155" name="__codelineno-15-155" href="#__codelineno-15-155"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tidb<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:4000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-156"><a id="__codelineno-15-156" name="__codelineno-15-156" href="#__codelineno-15-156"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>tiflash<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-157"><a id="__codelineno-15-157" name="__codelineno-15-157" href="#__codelineno-15-157"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>prometheus<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:9090<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-158"><a id="__codelineno-15-158" name="__codelineno-15-158" href="#__codelineno-15-158"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>grafana<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245:3000<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-159"><a id="__codelineno-15-159" name="__codelineno-15-159" href="#__codelineno-15-159"></a>+<span class="w"> </span>Refresh<span class="w"> </span>monitor<span class="w"> </span>configs
</span><span id="__span-15-160"><a id="__codelineno-15-160" name="__codelineno-15-160" href="#__codelineno-15-160"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>node_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-161"><a id="__codelineno-15-161" name="__codelineno-15-161" href="#__codelineno-15-161"></a><span class="w">  </span>-<span class="w"> </span>Refresh<span class="w"> </span>config<span class="w"> </span>blackbox_exporter<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>...<span class="w"> </span>Done
</span><span id="__span-15-162"><a id="__codelineno-15-162" name="__codelineno-15-162" href="#__codelineno-15-162"></a>+<span class="w"> </span><span class="o">[</span><span class="w"> </span>Serial<span class="w"> </span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>UpgradeCluster
</span><span id="__span-15-163"><a id="__codelineno-15-163" name="__codelineno-15-163" href="#__codelineno-15-163"></a>Restarting<span class="w"> </span>component<span class="w"> </span>prometheus
</span><span id="__span-15-164"><a id="__codelineno-15-164" name="__codelineno-15-164" href="#__codelineno-15-164"></a><span class="w">    </span>Restarting<span class="w"> </span>instance<span class="w"> </span><span class="m">10</span>.101.16.245
</span><span id="__span-15-165"><a id="__codelineno-15-165" name="__codelineno-15-165" href="#__codelineno-15-165"></a><span class="w">    </span>Restart<span class="w"> </span><span class="m">10</span>.101.16.245<span class="w"> </span>success
</span><span id="__span-15-166"><a id="__codelineno-15-166" name="__codelineno-15-166" href="#__codelineno-15-166"></a>Reloaded<span class="w"> </span>cluster<span class="w"> </span><span class="sb">`</span>tidb-ddyw<span class="sb">`</span><span class="w"> </span>successfully
</span></code></pre></div>
<h4 id="_8">查看配置</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># 查看配置文件</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>pwd<span class="p">;</span>tree<span class="w"> </span>tidb-*<span class="w"> </span>pd-*<span class="w"> </span>tikv-*<span class="w"> </span>tiflash-*/conf<span class="p">;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>/tidb-deploy
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>tidb-4000
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>├──<span class="w"> </span>bin
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>│<span class="w">   </span>└──<span class="w"> </span>tidb-server
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>├──<span class="w"> </span>conf
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>│<span class="w">   </span>└──<span class="w"> </span>tidb.toml
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>├──<span class="w"> </span>log
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>│<span class="w">   </span>├──<span class="w"> </span>tidb.log
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>│<span class="w">   </span>├──<span class="w"> </span>tidb_slow_query.log
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>│<span class="w">   </span>└──<span class="w"> </span>tidb_stderr.log
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>└──<span class="w"> </span>scripts
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">    </span>└──<span class="w"> </span>run_tidb.sh
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>pd-2379
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>├──<span class="w"> </span>bin
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>│<span class="w">   </span>└──<span class="w"> </span>pd-server
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>├──<span class="w"> </span>conf
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>│<span class="w">   </span>└──<span class="w"> </span>pd.toml
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>├──<span class="w"> </span>log
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>│<span class="w">   </span>├──<span class="w"> </span>pd.log
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>│<span class="w">   </span>└──<span class="w"> </span>pd_stderr.log
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>└──<span class="w"> </span>scripts
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="w">    </span>└──<span class="w"> </span>run_pd.sh
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>tikv-20160
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>├──<span class="w"> </span>bin
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv-server
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>├──<span class="w"> </span>conf
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv.toml
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>├──<span class="w"> </span>log
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>│<span class="w">   </span>├──<span class="w"> </span>tikv.log
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv_stderr.log
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>└──<span class="w"> </span>scripts
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a><span class="w">    </span>└──<span class="w"> </span>run_tikv.sh
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>tikv-20161
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a>├──<span class="w"> </span>bin
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv-server
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>├──<span class="w"> </span>conf
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv.toml
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a>├──<span class="w"> </span>log
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>│<span class="w">   </span>├──<span class="w"> </span>tikv.log
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv_stderr.log
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a>└──<span class="w"> </span>scripts
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a><span class="w">    </span>└──<span class="w"> </span>run_tikv.sh
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a>tikv-20162
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a>├──<span class="w"> </span>bin
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv-server
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a>├──<span class="w"> </span>conf
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv.toml
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a>├──<span class="w"> </span>log
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a>│<span class="w">   </span>├──<span class="w"> </span>tikv.log
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a>│<span class="w">   </span>└──<span class="w"> </span>tikv_stderr.log
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a>└──<span class="w"> </span>scripts
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a><span class="w">    </span>└──<span class="w"> </span>run_tikv.sh
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a>tiflash-9000/conf
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a>├──<span class="w"> </span>tiflash-learner.toml
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a>├──<span class="w"> </span>tiflash-preprocessed.toml
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a>└──<span class="w"> </span>tiflash.toml
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a><span class="m">20</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">29</span><span class="w"> </span>files
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a><span class="c1"># 查看配置文件内容</span>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a>tree<span class="w"> </span>tidb-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>tidb-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n+++++++++++++++++++++++++++++++++++++++++++++++\n&quot;</span><span class="p">;</span>tree<span class="w"> </span>pd-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>pd-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n+++++++++++++++++++++++++++++++++++++++++++++++\n&quot;</span><span class="p">;</span>tree<span class="w"> </span>tikv-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>tikv-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n+++++++++++++++++++++++++++++++++++++++++++++++\n&quot;</span><span class="p">;</span>tree<span class="w"> </span>tiflash-*/conf/*.toml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>tiflash-*/conf/*.toml<span class="p">;</span>
</span><span id="__span-16-63"><a id="__codelineno-16-63" name="__codelineno-16-63" href="#__codelineno-16-63"></a>
</span><span id="__span-16-64"><a id="__codelineno-16-64" name="__codelineno-16-64" href="#__codelineno-16-64"></a>tidb-4000/conf/tidb.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-65"><a id="__codelineno-16-65" name="__codelineno-16-65" href="#__codelineno-16-65"></a>
</span><span id="__span-16-66"><a id="__codelineno-16-66" name="__codelineno-16-66" href="#__codelineno-16-66"></a><span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">0</span><span class="w"> </span>files
</span><span id="__span-16-67"><a id="__codelineno-16-67" name="__codelineno-16-67" href="#__codelineno-16-67"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-68"><a id="__codelineno-16-68" name="__codelineno-16-68" href="#__codelineno-16-68"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-69"><a id="__codelineno-16-69" name="__codelineno-16-69" href="#__codelineno-16-69"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-70"><a id="__codelineno-16-70" name="__codelineno-16-70" href="#__codelineno-16-70"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-71"><a id="__codelineno-16-71" name="__codelineno-16-71" href="#__codelineno-16-71"></a><span class="c1">#   tidb:</span>
</span><span id="__span-16-72"><a id="__codelineno-16-72" name="__codelineno-16-72" href="#__codelineno-16-72"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-73"><a id="__codelineno-16-73" name="__codelineno-16-73" href="#__codelineno-16-73"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-74"><a id="__codelineno-16-74" name="__codelineno-16-74" href="#__codelineno-16-74"></a><span class="o">[</span>log<span class="o">]</span>
</span><span id="__span-16-75"><a id="__codelineno-16-75" name="__codelineno-16-75" href="#__codelineno-16-75"></a>slow-threshold<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">300</span>
</span><span id="__span-16-76"><a id="__codelineno-16-76" name="__codelineno-16-76" href="#__codelineno-16-76"></a>
</span><span id="__span-16-77"><a id="__codelineno-16-77" name="__codelineno-16-77" href="#__codelineno-16-77"></a>+++++++++++++++++++++++++++++++++++++++++++++++
</span><span id="__span-16-78"><a id="__codelineno-16-78" name="__codelineno-16-78" href="#__codelineno-16-78"></a>
</span><span id="__span-16-79"><a id="__codelineno-16-79" name="__codelineno-16-79" href="#__codelineno-16-79"></a>pd-2379/conf/pd.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-80"><a id="__codelineno-16-80" name="__codelineno-16-80" href="#__codelineno-16-80"></a>
</span><span id="__span-16-81"><a id="__codelineno-16-81" name="__codelineno-16-81" href="#__codelineno-16-81"></a><span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">0</span><span class="w"> </span>files
</span><span id="__span-16-82"><a id="__codelineno-16-82" name="__codelineno-16-82" href="#__codelineno-16-82"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-83"><a id="__codelineno-16-83" name="__codelineno-16-83" href="#__codelineno-16-83"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-84"><a id="__codelineno-16-84" name="__codelineno-16-84" href="#__codelineno-16-84"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-85"><a id="__codelineno-16-85" name="__codelineno-16-85" href="#__codelineno-16-85"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-86"><a id="__codelineno-16-86" name="__codelineno-16-86" href="#__codelineno-16-86"></a><span class="c1">#   pd:</span>
</span><span id="__span-16-87"><a id="__codelineno-16-87" name="__codelineno-16-87" href="#__codelineno-16-87"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-88"><a id="__codelineno-16-88" name="__codelineno-16-88" href="#__codelineno-16-88"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-89"><a id="__codelineno-16-89" name="__codelineno-16-89" href="#__codelineno-16-89"></a><span class="o">[</span>pd-server<span class="o">]</span>
</span><span id="__span-16-90"><a id="__codelineno-16-90" name="__codelineno-16-90" href="#__codelineno-16-90"></a>metric-storage<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://10.101.16.245:9090&quot;</span>
</span><span id="__span-16-91"><a id="__codelineno-16-91" name="__codelineno-16-91" href="#__codelineno-16-91"></a>
</span><span id="__span-16-92"><a id="__codelineno-16-92" name="__codelineno-16-92" href="#__codelineno-16-92"></a><span class="o">[</span>replication<span class="o">]</span>
</span><span id="__span-16-93"><a id="__codelineno-16-93" name="__codelineno-16-93" href="#__codelineno-16-93"></a>enable-placement-rules<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-94"><a id="__codelineno-16-94" name="__codelineno-16-94" href="#__codelineno-16-94"></a>location-labels<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;host&quot;</span><span class="o">]</span>
</span><span id="__span-16-95"><a id="__codelineno-16-95" name="__codelineno-16-95" href="#__codelineno-16-95"></a>
</span><span id="__span-16-96"><a id="__codelineno-16-96" name="__codelineno-16-96" href="#__codelineno-16-96"></a>+++++++++++++++++++++++++++++++++++++++++++++++
</span><span id="__span-16-97"><a id="__codelineno-16-97" name="__codelineno-16-97" href="#__codelineno-16-97"></a>
</span><span id="__span-16-98"><a id="__codelineno-16-98" name="__codelineno-16-98" href="#__codelineno-16-98"></a>tikv-20160/conf/tikv.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-99"><a id="__codelineno-16-99" name="__codelineno-16-99" href="#__codelineno-16-99"></a>tikv-20161/conf/tikv.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-100"><a id="__codelineno-16-100" name="__codelineno-16-100" href="#__codelineno-16-100"></a>tikv-20162/conf/tikv.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-101"><a id="__codelineno-16-101" name="__codelineno-16-101" href="#__codelineno-16-101"></a>
</span><span id="__span-16-102"><a id="__codelineno-16-102" name="__codelineno-16-102" href="#__codelineno-16-102"></a><span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">0</span><span class="w"> </span>files
</span><span id="__span-16-103"><a id="__codelineno-16-103" name="__codelineno-16-103" href="#__codelineno-16-103"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-104"><a id="__codelineno-16-104" name="__codelineno-16-104" href="#__codelineno-16-104"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-105"><a id="__codelineno-16-105" name="__codelineno-16-105" href="#__codelineno-16-105"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-106"><a id="__codelineno-16-106" name="__codelineno-16-106" href="#__codelineno-16-106"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-107"><a id="__codelineno-16-107" name="__codelineno-16-107" href="#__codelineno-16-107"></a><span class="c1">#   tikv:</span>
</span><span id="__span-16-108"><a id="__codelineno-16-108" name="__codelineno-16-108" href="#__codelineno-16-108"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-109"><a id="__codelineno-16-109" name="__codelineno-16-109" href="#__codelineno-16-109"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-110"><a id="__codelineno-16-110" name="__codelineno-16-110" href="#__codelineno-16-110"></a><span class="o">[</span>readpool<span class="o">]</span>
</span><span id="__span-16-111"><a id="__codelineno-16-111" name="__codelineno-16-111" href="#__codelineno-16-111"></a><span class="o">[</span>readpool.coprocessor<span class="o">]</span>
</span><span id="__span-16-112"><a id="__codelineno-16-112" name="__codelineno-16-112" href="#__codelineno-16-112"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-113"><a id="__codelineno-16-113" name="__codelineno-16-113" href="#__codelineno-16-113"></a><span class="o">[</span>readpool.storage<span class="o">]</span>
</span><span id="__span-16-114"><a id="__codelineno-16-114" name="__codelineno-16-114" href="#__codelineno-16-114"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span id="__span-16-115"><a id="__codelineno-16-115" name="__codelineno-16-115" href="#__codelineno-16-115"></a>
</span><span id="__span-16-116"><a id="__codelineno-16-116" name="__codelineno-16-116" href="#__codelineno-16-116"></a><span class="o">[</span>server<span class="o">]</span>
</span><span id="__span-16-117"><a id="__codelineno-16-117" name="__codelineno-16-117" href="#__codelineno-16-117"></a><span class="o">[</span>server.labels<span class="o">]</span>
</span><span id="__span-16-118"><a id="__codelineno-16-118" name="__codelineno-16-118" href="#__codelineno-16-118"></a><span class="nv">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;logic-host-1&quot;</span>
</span><span id="__span-16-119"><a id="__codelineno-16-119" name="__codelineno-16-119" href="#__codelineno-16-119"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-120"><a id="__codelineno-16-120" name="__codelineno-16-120" href="#__codelineno-16-120"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-121"><a id="__codelineno-16-121" name="__codelineno-16-121" href="#__codelineno-16-121"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-122"><a id="__codelineno-16-122" name="__codelineno-16-122" href="#__codelineno-16-122"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-123"><a id="__codelineno-16-123" name="__codelineno-16-123" href="#__codelineno-16-123"></a><span class="c1">#   tikv:</span>
</span><span id="__span-16-124"><a id="__codelineno-16-124" name="__codelineno-16-124" href="#__codelineno-16-124"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-125"><a id="__codelineno-16-125" name="__codelineno-16-125" href="#__codelineno-16-125"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-126"><a id="__codelineno-16-126" name="__codelineno-16-126" href="#__codelineno-16-126"></a><span class="o">[</span>readpool<span class="o">]</span>
</span><span id="__span-16-127"><a id="__codelineno-16-127" name="__codelineno-16-127" href="#__codelineno-16-127"></a><span class="o">[</span>readpool.coprocessor<span class="o">]</span>
</span><span id="__span-16-128"><a id="__codelineno-16-128" name="__codelineno-16-128" href="#__codelineno-16-128"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-129"><a id="__codelineno-16-129" name="__codelineno-16-129" href="#__codelineno-16-129"></a><span class="o">[</span>readpool.storage<span class="o">]</span>
</span><span id="__span-16-130"><a id="__codelineno-16-130" name="__codelineno-16-130" href="#__codelineno-16-130"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span id="__span-16-131"><a id="__codelineno-16-131" name="__codelineno-16-131" href="#__codelineno-16-131"></a>
</span><span id="__span-16-132"><a id="__codelineno-16-132" name="__codelineno-16-132" href="#__codelineno-16-132"></a><span class="o">[</span>server<span class="o">]</span>
</span><span id="__span-16-133"><a id="__codelineno-16-133" name="__codelineno-16-133" href="#__codelineno-16-133"></a><span class="o">[</span>server.labels<span class="o">]</span>
</span><span id="__span-16-134"><a id="__codelineno-16-134" name="__codelineno-16-134" href="#__codelineno-16-134"></a><span class="nv">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;logic-host-2&quot;</span>
</span><span id="__span-16-135"><a id="__codelineno-16-135" name="__codelineno-16-135" href="#__codelineno-16-135"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-136"><a id="__codelineno-16-136" name="__codelineno-16-136" href="#__codelineno-16-136"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-137"><a id="__codelineno-16-137" name="__codelineno-16-137" href="#__codelineno-16-137"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-138"><a id="__codelineno-16-138" name="__codelineno-16-138" href="#__codelineno-16-138"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-139"><a id="__codelineno-16-139" name="__codelineno-16-139" href="#__codelineno-16-139"></a><span class="c1">#   tikv:</span>
</span><span id="__span-16-140"><a id="__codelineno-16-140" name="__codelineno-16-140" href="#__codelineno-16-140"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-141"><a id="__codelineno-16-141" name="__codelineno-16-141" href="#__codelineno-16-141"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-142"><a id="__codelineno-16-142" name="__codelineno-16-142" href="#__codelineno-16-142"></a><span class="o">[</span>readpool<span class="o">]</span>
</span><span id="__span-16-143"><a id="__codelineno-16-143" name="__codelineno-16-143" href="#__codelineno-16-143"></a><span class="o">[</span>readpool.coprocessor<span class="o">]</span>
</span><span id="__span-16-144"><a id="__codelineno-16-144" name="__codelineno-16-144" href="#__codelineno-16-144"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-145"><a id="__codelineno-16-145" name="__codelineno-16-145" href="#__codelineno-16-145"></a><span class="o">[</span>readpool.storage<span class="o">]</span>
</span><span id="__span-16-146"><a id="__codelineno-16-146" name="__codelineno-16-146" href="#__codelineno-16-146"></a>use-unified-pool<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span id="__span-16-147"><a id="__codelineno-16-147" name="__codelineno-16-147" href="#__codelineno-16-147"></a>
</span><span id="__span-16-148"><a id="__codelineno-16-148" name="__codelineno-16-148" href="#__codelineno-16-148"></a><span class="o">[</span>server<span class="o">]</span>
</span><span id="__span-16-149"><a id="__codelineno-16-149" name="__codelineno-16-149" href="#__codelineno-16-149"></a><span class="o">[</span>server.labels<span class="o">]</span>
</span><span id="__span-16-150"><a id="__codelineno-16-150" name="__codelineno-16-150" href="#__codelineno-16-150"></a><span class="nv">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;logic-host-3&quot;</span>
</span><span id="__span-16-151"><a id="__codelineno-16-151" name="__codelineno-16-151" href="#__codelineno-16-151"></a>
</span><span id="__span-16-152"><a id="__codelineno-16-152" name="__codelineno-16-152" href="#__codelineno-16-152"></a>+++++++++++++++++++++++++++++++++++++++++++++++
</span><span id="__span-16-153"><a id="__codelineno-16-153" name="__codelineno-16-153" href="#__codelineno-16-153"></a>
</span><span id="__span-16-154"><a id="__codelineno-16-154" name="__codelineno-16-154" href="#__codelineno-16-154"></a>tiflash-9000/conf/tiflash-learner.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-155"><a id="__codelineno-16-155" name="__codelineno-16-155" href="#__codelineno-16-155"></a>tiflash-9000/conf/tiflash-preprocessed.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-156"><a id="__codelineno-16-156" name="__codelineno-16-156" href="#__codelineno-16-156"></a>tiflash-9000/conf/tiflash.toml<span class="w"> </span><span class="o">[</span>error<span class="w"> </span>opening<span class="w"> </span>dir<span class="o">]</span>
</span><span id="__span-16-157"><a id="__codelineno-16-157" name="__codelineno-16-157" href="#__codelineno-16-157"></a>
</span><span id="__span-16-158"><a id="__codelineno-16-158" name="__codelineno-16-158" href="#__codelineno-16-158"></a><span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">0</span><span class="w"> </span>files
</span><span id="__span-16-159"><a id="__codelineno-16-159" name="__codelineno-16-159" href="#__codelineno-16-159"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-160"><a id="__codelineno-16-160" name="__codelineno-16-160" href="#__codelineno-16-160"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-161"><a id="__codelineno-16-161" name="__codelineno-16-161" href="#__codelineno-16-161"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-162"><a id="__codelineno-16-162" name="__codelineno-16-162" href="#__codelineno-16-162"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-163"><a id="__codelineno-16-163" name="__codelineno-16-163" href="#__codelineno-16-163"></a><span class="c1">#   tiflash-learner:</span>
</span><span id="__span-16-164"><a id="__codelineno-16-164" name="__codelineno-16-164" href="#__codelineno-16-164"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-165"><a id="__codelineno-16-165" name="__codelineno-16-165" href="#__codelineno-16-165"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-166"><a id="__codelineno-16-166" name="__codelineno-16-166" href="#__codelineno-16-166"></a>log-file<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash_tikv.log&quot;</span>
</span><span id="__span-16-167"><a id="__codelineno-16-167" name="__codelineno-16-167" href="#__codelineno-16-167"></a>
</span><span id="__span-16-168"><a id="__codelineno-16-168" name="__codelineno-16-168" href="#__codelineno-16-168"></a><span class="o">[</span>raftstore<span class="o">]</span>
</span><span id="__span-16-169"><a id="__codelineno-16-169" name="__codelineno-16-169" href="#__codelineno-16-169"></a>apply-pool-size<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span>
</span><span id="__span-16-170"><a id="__codelineno-16-170" name="__codelineno-16-170" href="#__codelineno-16-170"></a>store-pool-size<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span>
</span><span id="__span-16-171"><a id="__codelineno-16-171" name="__codelineno-16-171" href="#__codelineno-16-171"></a>
</span><span id="__span-16-172"><a id="__codelineno-16-172" name="__codelineno-16-172" href="#__codelineno-16-172"></a><span class="o">[</span>rocksdb<span class="o">]</span>
</span><span id="__span-16-173"><a id="__codelineno-16-173" name="__codelineno-16-173" href="#__codelineno-16-173"></a>wal-dir<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-174"><a id="__codelineno-16-174" name="__codelineno-16-174" href="#__codelineno-16-174"></a>
</span><span id="__span-16-175"><a id="__codelineno-16-175" name="__codelineno-16-175" href="#__codelineno-16-175"></a><span class="o">[</span>security<span class="o">]</span>
</span><span id="__span-16-176"><a id="__codelineno-16-176" name="__codelineno-16-176" href="#__codelineno-16-176"></a>ca-path<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-177"><a id="__codelineno-16-177" name="__codelineno-16-177" href="#__codelineno-16-177"></a>cert-path<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-178"><a id="__codelineno-16-178" name="__codelineno-16-178" href="#__codelineno-16-178"></a>key-path<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-179"><a id="__codelineno-16-179" name="__codelineno-16-179" href="#__codelineno-16-179"></a>
</span><span id="__span-16-180"><a id="__codelineno-16-180" name="__codelineno-16-180" href="#__codelineno-16-180"></a><span class="o">[</span>server<span class="o">]</span>
</span><span id="__span-16-181"><a id="__codelineno-16-181" name="__codelineno-16-181" href="#__codelineno-16-181"></a><span class="nv">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.0.0.0:20170&quot;</span>
</span><span id="__span-16-182"><a id="__codelineno-16-182" name="__codelineno-16-182" href="#__codelineno-16-182"></a>advertise-addr<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:20170&quot;</span>
</span><span id="__span-16-183"><a id="__codelineno-16-183" name="__codelineno-16-183" href="#__codelineno-16-183"></a>advertise-status-addr<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:20292&quot;</span>
</span><span id="__span-16-184"><a id="__codelineno-16-184" name="__codelineno-16-184" href="#__codelineno-16-184"></a>engine-addr<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:3930&quot;</span>
</span><span id="__span-16-185"><a id="__codelineno-16-185" name="__codelineno-16-185" href="#__codelineno-16-185"></a>status-addr<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.0.0.0:20292&quot;</span>
</span><span id="__span-16-186"><a id="__codelineno-16-186" name="__codelineno-16-186" href="#__codelineno-16-186"></a>
</span><span id="__span-16-187"><a id="__codelineno-16-187" name="__codelineno-16-187" href="#__codelineno-16-187"></a><span class="o">[</span>storage<span class="o">]</span>
</span><span id="__span-16-188"><a id="__codelineno-16-188" name="__codelineno-16-188" href="#__codelineno-16-188"></a>data-dir<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-data/tiflash-9000/flash&quot;</span>
</span><span id="__span-16-189"><a id="__codelineno-16-189" name="__codelineno-16-189" href="#__codelineno-16-189"></a><span class="nv">tmp_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-data/tiflash-9000/tmp&quot;</span>
</span><span id="__span-16-190"><a id="__codelineno-16-190" name="__codelineno-16-190" href="#__codelineno-16-190"></a><span class="nv">tcp_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9000</span>
</span><span id="__span-16-191"><a id="__codelineno-16-191" name="__codelineno-16-191" href="#__codelineno-16-191"></a><span class="nv">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TiFlash&quot;</span>
</span><span id="__span-16-192"><a id="__codelineno-16-192" name="__codelineno-16-192" href="#__codelineno-16-192"></a><span class="nv">default_profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-193"><a id="__codelineno-16-193" name="__codelineno-16-193" href="#__codelineno-16-193"></a><span class="nv">mark_cache_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5368709120</span>
</span><span id="__span-16-194"><a id="__codelineno-16-194" name="__codelineno-16-194" href="#__codelineno-16-194"></a><span class="nv">http_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8123</span>
</span><span id="__span-16-195"><a id="__codelineno-16-195" name="__codelineno-16-195" href="#__codelineno-16-195"></a><span class="nv">listen_host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span>
</span><span id="__span-16-196"><a id="__codelineno-16-196" name="__codelineno-16-196" href="#__codelineno-16-196"></a><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-data/tiflash-9000&quot;</span>
</span><span id="__span-16-197"><a id="__codelineno-16-197" name="__codelineno-16-197" href="#__codelineno-16-197"></a><span class="o">[</span>users<span class="o">]</span>
</span><span id="__span-16-198"><a id="__codelineno-16-198" name="__codelineno-16-198" href="#__codelineno-16-198"></a><span class="w">    </span><span class="o">[</span>users.readonly<span class="o">]</span>
</span><span id="__span-16-199"><a id="__codelineno-16-199" name="__codelineno-16-199" href="#__codelineno-16-199"></a><span class="w">        </span><span class="nv">quota</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-200"><a id="__codelineno-16-200" name="__codelineno-16-200" href="#__codelineno-16-200"></a><span class="w">        </span><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-201"><a id="__codelineno-16-201" name="__codelineno-16-201" href="#__codelineno-16-201"></a><span class="w">        </span><span class="nv">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;readonly&quot;</span>
</span><span id="__span-16-202"><a id="__codelineno-16-202" name="__codelineno-16-202" href="#__codelineno-16-202"></a><span class="w">        </span><span class="o">[</span>users.readonly.networks<span class="o">]</span>
</span><span id="__span-16-203"><a id="__codelineno-16-203" name="__codelineno-16-203" href="#__codelineno-16-203"></a><span class="w">            </span><span class="nv">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;::/0&quot;</span>
</span><span id="__span-16-204"><a id="__codelineno-16-204" name="__codelineno-16-204" href="#__codelineno-16-204"></a><span class="w">    </span><span class="o">[</span>users.default<span class="o">]</span>
</span><span id="__span-16-205"><a id="__codelineno-16-205" name="__codelineno-16-205" href="#__codelineno-16-205"></a><span class="w">        </span><span class="nv">quota</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-206"><a id="__codelineno-16-206" name="__codelineno-16-206" href="#__codelineno-16-206"></a><span class="w">        </span><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-207"><a id="__codelineno-16-207" name="__codelineno-16-207" href="#__codelineno-16-207"></a><span class="w">        </span><span class="nv">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-208"><a id="__codelineno-16-208" name="__codelineno-16-208" href="#__codelineno-16-208"></a><span class="w">        </span><span class="o">[</span>users.default.networks<span class="o">]</span>
</span><span id="__span-16-209"><a id="__codelineno-16-209" name="__codelineno-16-209" href="#__codelineno-16-209"></a><span class="w">            </span><span class="nv">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;::/0&quot;</span>
</span><span id="__span-16-210"><a id="__codelineno-16-210" name="__codelineno-16-210" href="#__codelineno-16-210"></a><span class="o">[</span>status<span class="o">]</span>
</span><span id="__span-16-211"><a id="__codelineno-16-211" name="__codelineno-16-211" href="#__codelineno-16-211"></a><span class="w">    </span><span class="nv">metrics_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8234</span>
</span><span id="__span-16-212"><a id="__codelineno-16-212" name="__codelineno-16-212" href="#__codelineno-16-212"></a><span class="o">[</span>profiles<span class="o">]</span>
</span><span id="__span-16-213"><a id="__codelineno-16-213" name="__codelineno-16-213" href="#__codelineno-16-213"></a><span class="w">    </span><span class="o">[</span>profiles.readonly<span class="o">]</span>
</span><span id="__span-16-214"><a id="__codelineno-16-214" name="__codelineno-16-214" href="#__codelineno-16-214"></a><span class="w">        </span><span class="nb">readonly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-16-215"><a id="__codelineno-16-215" name="__codelineno-16-215" href="#__codelineno-16-215"></a><span class="w">    </span><span class="o">[</span>profiles.default<span class="o">]</span>
</span><span id="__span-16-216"><a id="__codelineno-16-216" name="__codelineno-16-216" href="#__codelineno-16-216"></a><span class="w">        </span><span class="nv">use_uncompressed_cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-217"><a id="__codelineno-16-217" name="__codelineno-16-217" href="#__codelineno-16-217"></a><span class="w">        </span><span class="nv">load_balancing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;random&quot;</span>
</span><span id="__span-16-218"><a id="__codelineno-16-218" name="__codelineno-16-218" href="#__codelineno-16-218"></a><span class="w">        </span><span class="nv">max_memory_usage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10000000000</span>
</span><span id="__span-16-219"><a id="__codelineno-16-219" name="__codelineno-16-219" href="#__codelineno-16-219"></a><span class="o">[</span>quotas<span class="o">]</span>
</span><span id="__span-16-220"><a id="__codelineno-16-220" name="__codelineno-16-220" href="#__codelineno-16-220"></a><span class="w">    </span><span class="o">[</span>quotas.default<span class="o">]</span>
</span><span id="__span-16-221"><a id="__codelineno-16-221" name="__codelineno-16-221" href="#__codelineno-16-221"></a><span class="w">        </span><span class="o">[</span>quotas.default.interval<span class="o">]</span>
</span><span id="__span-16-222"><a id="__codelineno-16-222" name="__codelineno-16-222" href="#__codelineno-16-222"></a><span class="w">            </span><span class="nv">result_rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-223"><a id="__codelineno-16-223" name="__codelineno-16-223" href="#__codelineno-16-223"></a><span class="w">            </span><span class="nv">read_rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-224"><a id="__codelineno-16-224" name="__codelineno-16-224" href="#__codelineno-16-224"></a><span class="w">            </span><span class="nv">queries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-225"><a id="__codelineno-16-225" name="__codelineno-16-225" href="#__codelineno-16-225"></a><span class="w">            </span><span class="nv">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-226"><a id="__codelineno-16-226" name="__codelineno-16-226" href="#__codelineno-16-226"></a><span class="w">            </span><span class="nv">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3600</span>
</span><span id="__span-16-227"><a id="__codelineno-16-227" name="__codelineno-16-227" href="#__codelineno-16-227"></a><span class="w">            </span><span class="nv">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-228"><a id="__codelineno-16-228" name="__codelineno-16-228" href="#__codelineno-16-228"></a><span class="o">[</span>raft<span class="o">]</span>
</span><span id="__span-16-229"><a id="__codelineno-16-229" name="__codelineno-16-229" href="#__codelineno-16-229"></a><span class="w">    </span><span class="nv">pd_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:2379&quot;</span>
</span><span id="__span-16-230"><a id="__codelineno-16-230" name="__codelineno-16-230" href="#__codelineno-16-230"></a><span class="o">[</span>flash<span class="o">]</span>
</span><span id="__span-16-231"><a id="__codelineno-16-231" name="__codelineno-16-231" href="#__codelineno-16-231"></a><span class="w">    </span><span class="nv">service_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:3930&quot;</span>
</span><span id="__span-16-232"><a id="__codelineno-16-232" name="__codelineno-16-232" href="#__codelineno-16-232"></a><span class="w">    </span><span class="nv">tidb_status_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:10080&quot;</span>
</span><span id="__span-16-233"><a id="__codelineno-16-233" name="__codelineno-16-233" href="#__codelineno-16-233"></a><span class="w">    </span><span class="o">[</span>flash.proxy<span class="o">]</span>
</span><span id="__span-16-234"><a id="__codelineno-16-234" name="__codelineno-16-234" href="#__codelineno-16-234"></a><span class="w">        </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/conf/tiflash-learner.toml&quot;</span>
</span><span id="__span-16-235"><a id="__codelineno-16-235" name="__codelineno-16-235" href="#__codelineno-16-235"></a><span class="w">    </span><span class="o">[</span>flash.flash_cluster<span class="o">]</span>
</span><span id="__span-16-236"><a id="__codelineno-16-236" name="__codelineno-16-236" href="#__codelineno-16-236"></a><span class="w">        </span><span class="nv">update_rule_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
</span><span id="__span-16-237"><a id="__codelineno-16-237" name="__codelineno-16-237" href="#__codelineno-16-237"></a><span class="w">        </span><span class="nv">master_ttl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">60</span>
</span><span id="__span-16-238"><a id="__codelineno-16-238" name="__codelineno-16-238" href="#__codelineno-16-238"></a><span class="w">        </span><span class="nv">refresh_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span>
</span><span id="__span-16-239"><a id="__codelineno-16-239" name="__codelineno-16-239" href="#__codelineno-16-239"></a><span class="w">        </span><span class="nv">cluster_manager_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/bin/tiflash/flash_cluster_manager&quot;</span>
</span><span id="__span-16-240"><a id="__codelineno-16-240" name="__codelineno-16-240" href="#__codelineno-16-240"></a><span class="w">        </span><span class="nv">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash_cluster_manager.log&quot;</span>
</span><span id="__span-16-241"><a id="__codelineno-16-241" name="__codelineno-16-241" href="#__codelineno-16-241"></a><span class="o">[</span>application<span class="o">]</span>
</span><span id="__span-16-242"><a id="__codelineno-16-242" name="__codelineno-16-242" href="#__codelineno-16-242"></a><span class="w">    </span><span class="nv">runAsDaemon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-243"><a id="__codelineno-16-243" name="__codelineno-16-243" href="#__codelineno-16-243"></a><span class="o">[</span>logger<span class="o">]</span>
</span><span id="__span-16-244"><a id="__codelineno-16-244" name="__codelineno-16-244" href="#__codelineno-16-244"></a><span class="w">    </span><span class="nv">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash.log&quot;</span>
</span><span id="__span-16-245"><a id="__codelineno-16-245" name="__codelineno-16-245" href="#__codelineno-16-245"></a><span class="w">    </span><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;info&quot;</span>
</span><span id="__span-16-246"><a id="__codelineno-16-246" name="__codelineno-16-246" href="#__codelineno-16-246"></a><span class="w">    </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1000M&quot;</span>
</span><span id="__span-16-247"><a id="__codelineno-16-247" name="__codelineno-16-247" href="#__codelineno-16-247"></a><span class="w">    </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span>
</span><span id="__span-16-248"><a id="__codelineno-16-248" name="__codelineno-16-248" href="#__codelineno-16-248"></a><span class="w">    </span><span class="nv">errorlog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash_error.log&quot;</span>
</span><span id="__span-16-249"><a id="__codelineno-16-249" name="__codelineno-16-249" href="#__codelineno-16-249"></a><span class="c1"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
</span><span id="__span-16-250"><a id="__codelineno-16-250" name="__codelineno-16-250" href="#__codelineno-16-250"></a><span class="c1"># You can use &#39;tiup cluster edit-config&#39; and &#39;tiup cluster reload&#39; to update the configuration</span>
</span><span id="__span-16-251"><a id="__codelineno-16-251" name="__codelineno-16-251" href="#__codelineno-16-251"></a><span class="c1"># All configuration items you want to change can be added to:</span>
</span><span id="__span-16-252"><a id="__codelineno-16-252" name="__codelineno-16-252" href="#__codelineno-16-252"></a><span class="c1"># server_configs:</span>
</span><span id="__span-16-253"><a id="__codelineno-16-253" name="__codelineno-16-253" href="#__codelineno-16-253"></a><span class="c1">#   tiflash:</span>
</span><span id="__span-16-254"><a id="__codelineno-16-254" name="__codelineno-16-254" href="#__codelineno-16-254"></a><span class="c1">#     aa.b1.c3: value</span>
</span><span id="__span-16-255"><a id="__codelineno-16-255" name="__codelineno-16-255" href="#__codelineno-16-255"></a><span class="c1">#     aa.b2.c4: value</span>
</span><span id="__span-16-256"><a id="__codelineno-16-256" name="__codelineno-16-256" href="#__codelineno-16-256"></a><span class="nv">default_profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-257"><a id="__codelineno-16-257" name="__codelineno-16-257" href="#__codelineno-16-257"></a><span class="nv">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TiFlash&quot;</span>
</span><span id="__span-16-258"><a id="__codelineno-16-258" name="__codelineno-16-258" href="#__codelineno-16-258"></a><span class="nv">http_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8123</span>
</span><span id="__span-16-259"><a id="__codelineno-16-259" name="__codelineno-16-259" href="#__codelineno-16-259"></a><span class="nv">listen_host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span>
</span><span id="__span-16-260"><a id="__codelineno-16-260" name="__codelineno-16-260" href="#__codelineno-16-260"></a><span class="nv">mark_cache_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5368709120</span>
</span><span id="__span-16-261"><a id="__codelineno-16-261" name="__codelineno-16-261" href="#__codelineno-16-261"></a><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-data/tiflash-9000&quot;</span>
</span><span id="__span-16-262"><a id="__codelineno-16-262" name="__codelineno-16-262" href="#__codelineno-16-262"></a><span class="nv">tcp_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9000</span>
</span><span id="__span-16-263"><a id="__codelineno-16-263" name="__codelineno-16-263" href="#__codelineno-16-263"></a><span class="nv">tmp_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-data/tiflash-9000/tmp&quot;</span>
</span><span id="__span-16-264"><a id="__codelineno-16-264" name="__codelineno-16-264" href="#__codelineno-16-264"></a>
</span><span id="__span-16-265"><a id="__codelineno-16-265" name="__codelineno-16-265" href="#__codelineno-16-265"></a><span class="o">[</span>application<span class="o">]</span>
</span><span id="__span-16-266"><a id="__codelineno-16-266" name="__codelineno-16-266" href="#__codelineno-16-266"></a><span class="nv">runAsDaemon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-16-267"><a id="__codelineno-16-267" name="__codelineno-16-267" href="#__codelineno-16-267"></a>
</span><span id="__span-16-268"><a id="__codelineno-16-268" name="__codelineno-16-268" href="#__codelineno-16-268"></a><span class="o">[</span>flash<span class="o">]</span>
</span><span id="__span-16-269"><a id="__codelineno-16-269" name="__codelineno-16-269" href="#__codelineno-16-269"></a><span class="nv">service_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:3930&quot;</span>
</span><span id="__span-16-270"><a id="__codelineno-16-270" name="__codelineno-16-270" href="#__codelineno-16-270"></a><span class="nv">tidb_status_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:10080&quot;</span>
</span><span id="__span-16-271"><a id="__codelineno-16-271" name="__codelineno-16-271" href="#__codelineno-16-271"></a><span class="o">[</span>flash.flash_cluster<span class="o">]</span>
</span><span id="__span-16-272"><a id="__codelineno-16-272" name="__codelineno-16-272" href="#__codelineno-16-272"></a><span class="nv">cluster_manager_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/bin/tiflash/flash_cluster_manager&quot;</span>
</span><span id="__span-16-273"><a id="__codelineno-16-273" name="__codelineno-16-273" href="#__codelineno-16-273"></a><span class="nv">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash_cluster_manager.log&quot;</span>
</span><span id="__span-16-274"><a id="__codelineno-16-274" name="__codelineno-16-274" href="#__codelineno-16-274"></a><span class="nv">master_ttl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">60</span>
</span><span id="__span-16-275"><a id="__codelineno-16-275" name="__codelineno-16-275" href="#__codelineno-16-275"></a><span class="nv">refresh_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span>
</span><span id="__span-16-276"><a id="__codelineno-16-276" name="__codelineno-16-276" href="#__codelineno-16-276"></a><span class="nv">update_rule_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
</span><span id="__span-16-277"><a id="__codelineno-16-277" name="__codelineno-16-277" href="#__codelineno-16-277"></a><span class="o">[</span>flash.proxy<span class="o">]</span>
</span><span id="__span-16-278"><a id="__codelineno-16-278" name="__codelineno-16-278" href="#__codelineno-16-278"></a><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/conf/tiflash-learner.toml&quot;</span>
</span><span id="__span-16-279"><a id="__codelineno-16-279" name="__codelineno-16-279" href="#__codelineno-16-279"></a>
</span><span id="__span-16-280"><a id="__codelineno-16-280" name="__codelineno-16-280" href="#__codelineno-16-280"></a><span class="o">[</span>logger<span class="o">]</span>
</span><span id="__span-16-281"><a id="__codelineno-16-281" name="__codelineno-16-281" href="#__codelineno-16-281"></a><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span>
</span><span id="__span-16-282"><a id="__codelineno-16-282" name="__codelineno-16-282" href="#__codelineno-16-282"></a><span class="nv">errorlog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash_error.log&quot;</span>
</span><span id="__span-16-283"><a id="__codelineno-16-283" name="__codelineno-16-283" href="#__codelineno-16-283"></a><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;info&quot;</span>
</span><span id="__span-16-284"><a id="__codelineno-16-284" name="__codelineno-16-284" href="#__codelineno-16-284"></a><span class="nv">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/tidb-deploy/tiflash-9000/log/tiflash.log&quot;</span>
</span><span id="__span-16-285"><a id="__codelineno-16-285" name="__codelineno-16-285" href="#__codelineno-16-285"></a><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1000M&quot;</span>
</span><span id="__span-16-286"><a id="__codelineno-16-286" name="__codelineno-16-286" href="#__codelineno-16-286"></a>
</span><span id="__span-16-287"><a id="__codelineno-16-287" name="__codelineno-16-287" href="#__codelineno-16-287"></a><span class="o">[</span>profiles<span class="o">]</span>
</span><span id="__span-16-288"><a id="__codelineno-16-288" name="__codelineno-16-288" href="#__codelineno-16-288"></a><span class="o">[</span>profiles.default<span class="o">]</span>
</span><span id="__span-16-289"><a id="__codelineno-16-289" name="__codelineno-16-289" href="#__codelineno-16-289"></a><span class="nv">load_balancing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;random&quot;</span>
</span><span id="__span-16-290"><a id="__codelineno-16-290" name="__codelineno-16-290" href="#__codelineno-16-290"></a><span class="nv">max_memory_usage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10000000000</span>
</span><span id="__span-16-291"><a id="__codelineno-16-291" name="__codelineno-16-291" href="#__codelineno-16-291"></a><span class="nv">use_uncompressed_cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-292"><a id="__codelineno-16-292" name="__codelineno-16-292" href="#__codelineno-16-292"></a><span class="o">[</span>profiles.readonly<span class="o">]</span>
</span><span id="__span-16-293"><a id="__codelineno-16-293" name="__codelineno-16-293" href="#__codelineno-16-293"></a><span class="nb">readonly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-16-294"><a id="__codelineno-16-294" name="__codelineno-16-294" href="#__codelineno-16-294"></a>
</span><span id="__span-16-295"><a id="__codelineno-16-295" name="__codelineno-16-295" href="#__codelineno-16-295"></a><span class="o">[</span>quotas<span class="o">]</span>
</span><span id="__span-16-296"><a id="__codelineno-16-296" name="__codelineno-16-296" href="#__codelineno-16-296"></a><span class="o">[</span>quotas.default<span class="o">]</span>
</span><span id="__span-16-297"><a id="__codelineno-16-297" name="__codelineno-16-297" href="#__codelineno-16-297"></a><span class="o">[</span>quotas.default.interval<span class="o">]</span>
</span><span id="__span-16-298"><a id="__codelineno-16-298" name="__codelineno-16-298" href="#__codelineno-16-298"></a><span class="nv">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3600</span>
</span><span id="__span-16-299"><a id="__codelineno-16-299" name="__codelineno-16-299" href="#__codelineno-16-299"></a><span class="nv">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-300"><a id="__codelineno-16-300" name="__codelineno-16-300" href="#__codelineno-16-300"></a><span class="nv">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-301"><a id="__codelineno-16-301" name="__codelineno-16-301" href="#__codelineno-16-301"></a><span class="nv">queries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-302"><a id="__codelineno-16-302" name="__codelineno-16-302" href="#__codelineno-16-302"></a><span class="nv">read_rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-303"><a id="__codelineno-16-303" name="__codelineno-16-303" href="#__codelineno-16-303"></a><span class="nv">result_rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span id="__span-16-304"><a id="__codelineno-16-304" name="__codelineno-16-304" href="#__codelineno-16-304"></a>
</span><span id="__span-16-305"><a id="__codelineno-16-305" name="__codelineno-16-305" href="#__codelineno-16-305"></a><span class="o">[</span>raft<span class="o">]</span>
</span><span id="__span-16-306"><a id="__codelineno-16-306" name="__codelineno-16-306" href="#__codelineno-16-306"></a><span class="nv">pd_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.101.16.245:2379&quot;</span>
</span><span id="__span-16-307"><a id="__codelineno-16-307" name="__codelineno-16-307" href="#__codelineno-16-307"></a>
</span><span id="__span-16-308"><a id="__codelineno-16-308" name="__codelineno-16-308" href="#__codelineno-16-308"></a><span class="o">[</span>status<span class="o">]</span>
</span><span id="__span-16-309"><a id="__codelineno-16-309" name="__codelineno-16-309" href="#__codelineno-16-309"></a><span class="nv">metrics_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8234</span>
</span><span id="__span-16-310"><a id="__codelineno-16-310" name="__codelineno-16-310" href="#__codelineno-16-310"></a>
</span><span id="__span-16-311"><a id="__codelineno-16-311" name="__codelineno-16-311" href="#__codelineno-16-311"></a><span class="o">[</span>users<span class="o">]</span>
</span><span id="__span-16-312"><a id="__codelineno-16-312" name="__codelineno-16-312" href="#__codelineno-16-312"></a><span class="o">[</span>users.default<span class="o">]</span>
</span><span id="__span-16-313"><a id="__codelineno-16-313" name="__codelineno-16-313" href="#__codelineno-16-313"></a><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-314"><a id="__codelineno-16-314" name="__codelineno-16-314" href="#__codelineno-16-314"></a><span class="nv">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-315"><a id="__codelineno-16-315" name="__codelineno-16-315" href="#__codelineno-16-315"></a><span class="nv">quota</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-316"><a id="__codelineno-16-316" name="__codelineno-16-316" href="#__codelineno-16-316"></a><span class="o">[</span>users.default.networks<span class="o">]</span>
</span><span id="__span-16-317"><a id="__codelineno-16-317" name="__codelineno-16-317" href="#__codelineno-16-317"></a><span class="nv">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;::/0&quot;</span>
</span><span id="__span-16-318"><a id="__codelineno-16-318" name="__codelineno-16-318" href="#__codelineno-16-318"></a><span class="o">[</span>users.readonly<span class="o">]</span>
</span><span id="__span-16-319"><a id="__codelineno-16-319" name="__codelineno-16-319" href="#__codelineno-16-319"></a><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-16-320"><a id="__codelineno-16-320" name="__codelineno-16-320" href="#__codelineno-16-320"></a><span class="nv">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;readonly&quot;</span>
</span><span id="__span-16-321"><a id="__codelineno-16-321" name="__codelineno-16-321" href="#__codelineno-16-321"></a><span class="nv">quota</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
</span><span id="__span-16-322"><a id="__codelineno-16-322" name="__codelineno-16-322" href="#__codelineno-16-322"></a><span class="o">[</span>users.readonly.networks<span class="o">]</span>
</span><span id="__span-16-323"><a id="__codelineno-16-323" name="__codelineno-16-323" href="#__codelineno-16-323"></a><span class="nv">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;::/0&quot;</span>
</span></code></pre></div>
<h3 id="_9">数据迁移</h3>
<h4 id="_10">数据导入</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># 下载示例数据</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>bikeshare-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>bikeshare-data
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>curl<span class="w"> </span>-L<span class="w"> </span>--remote-name-all<span class="w"> </span>https://s3.amazonaws.com/capitalbikeshare-data/<span class="o">{</span><span class="m">2010</span>..2017<span class="o">}</span>-capitalbikeshare-tripdata.zip
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>unzip<span class="w"> </span><span class="se">\*</span>-tripdata.zip
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="c1"># 加载数据到TIDB中</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="c1">## 创建表</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>CREATE<span class="w"> </span>DATABASE<span class="w"> </span>bikeshare<span class="p">;</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>USE<span class="w"> </span>bikeshare<span class="p">;</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>CREATE<span class="w"> </span>TABLE<span class="w"> </span>trips<span class="w"> </span><span class="o">(</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w"> </span>trip_id<span class="w"> </span>bigint<span class="w"> </span>NOT<span class="w"> </span>NULL<span class="w"> </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span>AUTO_INCREMENT,
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w"> </span>duration<span class="w"> </span>integer<span class="w"> </span>not<span class="w"> </span>null,
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w"> </span>start_date<span class="w"> </span>datetime,
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w"> </span>end_date<span class="w"> </span>datetime,
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w"> </span>start_station_number<span class="w"> </span>integer,
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w"> </span>start_station<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>,
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w"> </span>end_station_number<span class="w"> </span>integer,
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w"> </span>end_station<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>,
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w"> </span>bike_number<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>,
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w"> </span>member_type<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="o">)</span><span class="p">;</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="c1">## 导入单个文件数据</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>LOAD<span class="w"> </span>DATA<span class="w"> </span>LOCAL<span class="w"> </span>INFILE<span class="w"> </span><span class="s1">&#39;2017Q1-capitalbikeshare-tripdata.csv&#39;</span><span class="w"> </span>INTO<span class="w"> </span>TABLE<span class="w"> </span>trips
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">  </span>FIELDS<span class="w"> </span>TERMINATED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w"> </span>ENCLOSED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;&quot;&#39;</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">  </span>LINES<span class="w"> </span>TERMINATED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;\r\n&#39;</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="w">  </span>IGNORE<span class="w"> </span><span class="m">1</span><span class="w"> </span>LINES
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="o">(</span>duration,<span class="w"> </span>start_date,<span class="w"> </span>end_date,<span class="w"> </span>start_station_number,<span class="w"> </span>start_station,
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>end_station_number,<span class="w"> </span>end_station,<span class="w"> </span>bike_number,<span class="w"> </span>member_type<span class="o">)</span><span class="p">;</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="c1">## 批量导入</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="k">for</span><span class="w"> </span>FILE<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>ls<span class="w"> </span>*.csv<span class="sb">`</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;== </span><span class="nv">$FILE</span><span class="s2"> ==&quot;</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="w"> </span>mysql<span class="w"> </span>bikeshare<span class="w"> </span>--local-infile<span class="o">=</span><span class="m">1</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;LOAD DATA LOCAL INFILE &#39;</span><span class="si">${</span><span class="nv">FILE</span><span class="si">}</span><span class="s2">&#39; INTO TABLE trips FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;\&quot;&#39; LINES TERMINATED BY &#39;\r\n&#39; IGNORE 1 LINES (duration, start_date, end_date, start_station_number, start_station, end_station_number, end_station, bike_number, member_type);&quot;</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="k">done</span><span class="p">;</span>
</span></code></pre></div>
<h3 id="sysbenchtidb">Sysbench测试TIDB</h3>
<p>IDC机器：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>操作系统</td>
<td></td>
</tr>
<tr>
<td>中央处理器</td>
<td></td>
</tr>
<tr>
<td>内存</td>
<td></td>
</tr>
<tr>
<td>磁盘</td>
<td></td>
</tr>
<tr>
<td>网卡</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="_11">集群拓扑</h4>
<table>
<thead>
<tr>
<th>机器IP</th>
<th>部署实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>10.101.16.246</td>
<td>sysbench</td>
</tr>
<tr>
<td>10.101.16.246</td>
<td>tidb tikv</td>
</tr>
<tr>
<td>10.101.16.247</td>
<td>tikv pd</td>
</tr>
<tr>
<td>10.101.16.248</td>
<td>tikv tiflash</td>
</tr>
</tbody>
</table>
<h4 id="tidb_3">TIDB配置</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">[</span>log<span class="o">]</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;error&quot;</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="o">[</span>prepared-plan-cache<span class="o">]</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="nv">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span></code></pre></div>
<h4 id="tikv">TIKV配置</h4>
<p>默认CF：写入CF = 4：1</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>log-level<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;error&quot;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="o">[</span>rocksdb.defaultcf<span class="o">]</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>block-cache-size<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;8GB&quot;</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="o">[</span>rocksdb.writecf<span class="o">]</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>block-cache-size<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;2GB&quot;</span>
</span></code></pre></div>
<h4 id="reload">Reload 配置</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>tiup<span class="w"> </span>cluster<span class="w"> </span>reload<span class="w"> </span>tidb-ddyw
</span></code></pre></div>
<h4 id="_12">测试</h4>
<h5 id="sysbench">安装Sysbench</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>curl<span class="w"> </span>-s<span class="w"> </span>https://packagecloud.io/install/repositories/akopytov/sysbench/script.rpm.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>sysbench
</span></code></pre></div>
<h5 id="sysbench_1">Sysbench配置</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># 配置8个线程</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>config<span class="w"> </span><span class="s">&lt;&lt;- &#39;EOF&#39;</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="s">mysql-host=10.101.16.246</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="s">mysql-port=4000</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="s">mysql-user=root</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="s">#mysql-password=password</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="s">mysql-password=&#39;&#39;</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="s">mysql-db=sbtest</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="s">time=600</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="s">#threads={8, 16, 32, 64, 128, 256}</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="s">threads=8</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="s">report-interval=10</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="s">db-driver=mysql</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="s">EOF</span>
</span></code></pre></div>
<h5 id="tidb_4">配置TIDB</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># 登录数据库,配置参数</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nb">set</span><span class="w"> </span>global<span class="w"> </span><span class="nv">tidb_disable_txn_auto_retry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>off<span class="p">;</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c1"># 创建数据库</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>create<span class="w"> </span>database<span class="w"> </span>sbtest<span class="p">;</span>
</span></code></pre></div>
<h5 id="_13">导入数据</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># 导入数据(32张表,5000万数据)</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>prepare
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1"># 查看创建数据表</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>MySQL<span class="w"> </span><span class="o">[</span>sbtest<span class="o">]</span>&gt;<span class="w"> </span>show<span class="w"> </span>tables<span class="p">;</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>+------------------+
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="p">|</span><span class="w"> </span>Tables_in_sbtest<span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>+------------------+
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">|</span><span class="w"> </span>sbtest1<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="p">|</span><span class="w"> </span>sbtest2<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="p">|</span><span class="w"> </span>sbtest3<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="p">|</span><span class="w"> </span>sbtest4<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="p">|</span><span class="w"> </span>sbtest5<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="p">|</span><span class="w"> </span>sbtest6<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="p">|</span><span class="w"> </span>sbtest7<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="p">|</span><span class="w"> </span>sbtest8<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>+------------------+
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="m">8</span><span class="w"> </span>rows<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.01<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="c1"># 查看表结构</span>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>MySQL<span class="w"> </span><span class="o">[</span>sbtest<span class="o">]</span>&gt;<span class="w"> </span>desc<span class="w"> </span>sbtest1<span class="p">;</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>+-------+-----------+------+------+---------+----------------+
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="p">|</span><span class="w"> </span>Field<span class="w"> </span><span class="p">|</span><span class="w"> </span>Type<span class="w">      </span><span class="p">|</span><span class="w"> </span>Null<span class="w"> </span><span class="p">|</span><span class="w"> </span>Key<span class="w">  </span><span class="p">|</span><span class="w"> </span>Default<span class="w"> </span><span class="p">|</span><span class="w"> </span>Extra<span class="w">          </span><span class="p">|</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>+-------+-----------+------+------+---------+----------------+
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="p">|</span><span class="w"> </span>id<span class="w">    </span><span class="p">|</span><span class="w"> </span>int<span class="o">(</span><span class="m">11</span><span class="o">)</span><span class="w">   </span><span class="p">|</span><span class="w"> </span>NO<span class="w">   </span><span class="p">|</span><span class="w"> </span>PRI<span class="w">  </span><span class="p">|</span><span class="w"> </span>NULL<span class="w">    </span><span class="p">|</span><span class="w"> </span>auto_increment<span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="p">|</span><span class="w"> </span>k<span class="w">     </span><span class="p">|</span><span class="w"> </span>int<span class="o">(</span><span class="m">11</span><span class="o">)</span><span class="w">   </span><span class="p">|</span><span class="w"> </span>NO<span class="w">   </span><span class="p">|</span><span class="w">      </span><span class="p">|</span><span class="w"> </span><span class="m">0</span><span class="w">       </span><span class="p">|</span><span class="w">                </span><span class="p">|</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="p">|</span><span class="w"> </span>c<span class="w">     </span><span class="p">|</span><span class="w"> </span>char<span class="o">(</span><span class="m">120</span><span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>NO<span class="w">   </span><span class="p">|</span><span class="w">      </span><span class="p">|</span><span class="w">         </span><span class="p">|</span><span class="w">                </span><span class="p">|</span>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="p">|</span><span class="w"> </span>pad<span class="w">   </span><span class="p">|</span><span class="w"> </span>char<span class="o">(</span><span class="m">60</span><span class="o">)</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>NO<span class="w">   </span><span class="p">|</span><span class="w">      </span><span class="p">|</span><span class="w">         </span><span class="p">|</span><span class="w">                </span><span class="p">|</span>
</span><span id="__span-24-28"><a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a>+-------+-----------+------+------+---------+----------------+
</span><span id="__span-24-29"><a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="m">4</span><span class="w"> </span>rows<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-24-30"><a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a>
</span><span id="__span-24-31"><a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a><span class="c1"># 查看数据记录,由于分布式查询时间不固定</span>
</span><span id="__span-24-32"><a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a>MySQL<span class="w"> </span><span class="o">[</span>sbtest<span class="o">]</span>&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>count<span class="o">(</span>*<span class="o">)</span><span class="w"> </span>from<span class="w"> </span>sbtest1<span class="p">;</span>
</span><span id="__span-24-33"><a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a>+----------+
</span><span id="__span-24-34"><a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="p">|</span><span class="w"> </span>count<span class="o">(</span>*<span class="o">)</span><span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-35"><a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a>+----------+
</span><span id="__span-24-36"><a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a><span class="p">|</span><span class="w">   </span><span class="m">588081</span><span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-37"><a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a>+----------+
</span><span id="__span-24-38"><a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a><span class="m">1</span><span class="w"> </span>row<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">2</span>.07<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-24-39"><a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a>
</span><span id="__span-24-40"><a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a>MySQL<span class="w"> </span><span class="o">[</span>sbtest<span class="o">]</span>&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>count<span class="o">(</span>*<span class="o">)</span><span class="w"> </span>from<span class="w"> </span>sbtest1<span class="p">;</span>
</span><span id="__span-24-41"><a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a>+----------+
</span><span id="__span-24-42"><a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a><span class="p">|</span><span class="w"> </span>count<span class="o">(</span>*<span class="o">)</span><span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-43"><a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a>+----------+
</span><span id="__span-24-44"><a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a><span class="p">|</span><span class="w">   </span><span class="m">588081</span><span class="w"> </span><span class="p">|</span>
</span><span id="__span-24-45"><a id="__codelineno-24-45" name="__codelineno-24-45" href="#__codelineno-24-45"></a>+----------+
</span><span id="__span-24-46"><a id="__codelineno-24-46" name="__codelineno-24-46" href="#__codelineno-24-46"></a><span class="m">1</span><span class="w"> </span>row<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">1</span>.22<span class="w"> </span>sec<span class="o">)</span>
</span><span id="__span-24-47"><a id="__codelineno-24-47" name="__codelineno-24-47" href="#__codelineno-24-47"></a>
</span><span id="__span-24-48"><a id="__codelineno-24-48" name="__codelineno-24-48" href="#__codelineno-24-48"></a><span class="c1"># 单表查询测试</span>
</span><span id="__span-24-49"><a id="__codelineno-24-49" name="__codelineno-24-49" href="#__codelineno-24-49"></a>MySQL<span class="w"> </span><span class="o">[</span>sbtest<span class="o">]</span>&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>count<span class="o">(</span>id<span class="o">)</span><span class="w"> </span>from<span class="w"> </span>sbtest4<span class="p">;</span>
</span></code></pre></div>
<p>sysbench mysql 的测试类型：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">#1. bulk_insert.lua  批量写入操作</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c1">#2. oltp_delete.lua 写入和删除并行操作</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1">#3. oltp_insert.lua  纯写入操作</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1">#4. oltp_point_select.lua  只读操作，条件为唯一索引列</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c1">#5. oltp_read_only.lua  只读操作，包含聚合，去重等操作 大多数情况用于统计的压测</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="c1">#6. oltp_read_write.lua 读写混合操作，最常用的脚本  用于oltp系统的压测。</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c1">#7. oltp_update_index.lua 更新操作，通过主键进行更新</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="c1">#8. oltp_update_non_index.lua 更新操作，不通过索引列</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="c1">#9. oltp_write_only.lua 纯写操作，常用脚本，包括insert update delete</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="c1">#10. select_random_points.lua 随机集合只读操作，常用脚本，聚集索引列的selete in操作</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="c1">#11. select_random_ranges.lua 随机范围只读操作，常用脚本，聚集索引列的selete between操作</span>
</span></code></pre></div>
<h5 id="select">SELECT 测试</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># selct测试 8线程,测试时间10分钟</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="c1"># 测试结果如下</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3911</span>.12<span class="w"> </span>qps:<span class="w"> </span><span class="m">3911</span>.12<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3911</span>.12/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">6</span>.09<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6136</span>.49<span class="w"> </span>qps:<span class="w"> </span><span class="m">6136</span>.49<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6136</span>.49/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">3</span>.62<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6236</span>.03<span class="w"> </span>qps:<span class="w"> </span><span class="m">6236</span>.03<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6236</span>.03/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">3</span>.68<span class="w"> </span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">3908017</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3908017</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">3908017</span><span class="w"> </span><span class="o">(</span><span class="m">6512</span>.09<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3908017</span><span class="w"> </span><span class="o">(</span><span class="m">6512</span>.09<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1155s
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">3908017</span>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.16
</span><span id="__span-26-25"><a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">1</span>.23
</span><span id="__span-26-26"><a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">630</span>.21
</span><span id="__span-26-27"><a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">3</span>.30
</span><span id="__span-26-28"><a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4796344</span>.69
</span><span id="__span-26-29"><a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a>
</span><span id="__span-26-30"><a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-31"><a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">488502</span>.1250/1422.83
</span><span id="__span-26-32"><a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.5431/0.05
</span><span id="__span-26-33"><a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="c1"># selct测试 16线程,测试时间10分钟</span>
</span><span id="__span-26-34"><a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-35"><a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-36"><a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">11403</span>.36<span class="w"> </span>qps:<span class="w"> </span><span class="m">11403</span>.36<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">11403</span>.36/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.49<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-37"><a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">12498</span>.39<span class="w"> </span>qps:<span class="w"> </span><span class="m">12498</span>.39<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">12498</span>.39/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">3</span>.68<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-38"><a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">11772</span>.82<span class="w"> </span>qps:<span class="w"> </span><span class="m">11772</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">11772</span>.82/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.25<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-39"><a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10885</span>.84<span class="w"> </span>qps:<span class="w"> </span><span class="m">10885</span>.84<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">10885</span>.84/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">5</span>.00<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-40"><a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9687</span>.64<span class="w"> </span>qps:<span class="w"> </span><span class="m">9687</span>.64<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">9687</span>.64/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">5</span>.57<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-41"><a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-42"><a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-43"><a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">6845695</span>
</span><span id="__span-26-44"><a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-45"><a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-46"><a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">6845695</span>
</span><span id="__span-26-47"><a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">6845695</span><span class="w"> </span><span class="o">(</span><span class="m">11408</span>.77<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-48"><a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">6845695</span><span class="w"> </span><span class="o">(</span><span class="m">11408</span>.77<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-49"><a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-50"><a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-51"><a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a>
</span><span id="__span-26-52"><a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-53"><a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0364s
</span><span id="__span-26-54"><a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">6845695</span>
</span><span id="__span-26-55"><a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a>
</span><span id="__span-26-56"><a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-57"><a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.18
</span><span id="__span-26-58"><a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">1</span>.40
</span><span id="__span-26-59"><a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1114</span>.67
</span><span id="__span-26-60"><a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">4</span>.10
</span><span id="__span-26-61"><a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9593800</span>.55
</span><span id="__span-26-62"><a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a>
</span><span id="__span-26-63"><a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-64"><a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">427855</span>.9375/1035.31
</span><span id="__span-26-65"><a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.6125/0.01
</span><span id="__span-26-66"><a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a><span class="c1"># selct测试 32线程,测试时间10分钟</span>
</span><span id="__span-26-67"><a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-68"><a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-69"><a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10895</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">10895</span>.10<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">10895</span>.10/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">8</span>.28<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-70"><a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">15195</span>.12<span class="w"> </span>qps:<span class="w"> </span><span class="m">15195</span>.12<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">15195</span>.12/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">6</span>.32<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-71"><a id="__codelineno-26-71" name="__codelineno-26-71" href="#__codelineno-26-71"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">20718</span>.77<span class="w"> </span>qps:<span class="w"> </span><span class="m">20718</span>.77<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">20718</span>.77/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.49<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-72"><a id="__codelineno-26-72" name="__codelineno-26-72" href="#__codelineno-26-72"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">20349</span>.07<span class="w"> </span>qps:<span class="w"> </span><span class="m">20349</span>.07<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">20349</span>.07/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.18<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-73"><a id="__codelineno-26-73" name="__codelineno-26-73" href="#__codelineno-26-73"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">20807</span>.25<span class="w"> </span>qps:<span class="w"> </span><span class="m">20807</span>.25<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">20807</span>.25/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.57<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-74"><a id="__codelineno-26-74" name="__codelineno-26-74" href="#__codelineno-26-74"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">22122</span>.78<span class="w"> </span>qps:<span class="w"> </span><span class="m">22122</span>.78<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">22122</span>.78/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">4</span>.49<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-75"><a id="__codelineno-26-75" name="__codelineno-26-75" href="#__codelineno-26-75"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-76"><a id="__codelineno-26-76" name="__codelineno-26-76" href="#__codelineno-26-76"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-77"><a id="__codelineno-26-77" name="__codelineno-26-77" href="#__codelineno-26-77"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">10320806</span>
</span><span id="__span-26-78"><a id="__codelineno-26-78" name="__codelineno-26-78" href="#__codelineno-26-78"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-79"><a id="__codelineno-26-79" name="__codelineno-26-79" href="#__codelineno-26-79"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-80"><a id="__codelineno-26-80" name="__codelineno-26-80" href="#__codelineno-26-80"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">10320806</span>
</span><span id="__span-26-81"><a id="__codelineno-26-81" name="__codelineno-26-81" href="#__codelineno-26-81"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">10320806</span><span class="w"> </span><span class="o">(</span><span class="m">17198</span>.11<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-82"><a id="__codelineno-26-82" name="__codelineno-26-82" href="#__codelineno-26-82"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">10320806</span><span class="w"> </span><span class="o">(</span><span class="m">17198</span>.11<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-83"><a id="__codelineno-26-83" name="__codelineno-26-83" href="#__codelineno-26-83"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-84"><a id="__codelineno-26-84" name="__codelineno-26-84" href="#__codelineno-26-84"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-85"><a id="__codelineno-26-85" name="__codelineno-26-85" href="#__codelineno-26-85"></a>
</span><span id="__span-26-86"><a id="__codelineno-26-86" name="__codelineno-26-86" href="#__codelineno-26-86"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-87"><a id="__codelineno-26-87" name="__codelineno-26-87" href="#__codelineno-26-87"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1112s
</span><span id="__span-26-88"><a id="__codelineno-26-88" name="__codelineno-26-88" href="#__codelineno-26-88"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">10320806</span>
</span><span id="__span-26-89"><a id="__codelineno-26-89" name="__codelineno-26-89" href="#__codelineno-26-89"></a>
</span><span id="__span-26-90"><a id="__codelineno-26-90" name="__codelineno-26-90" href="#__codelineno-26-90"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-91"><a id="__codelineno-26-91" name="__codelineno-26-91" href="#__codelineno-26-91"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.16
</span><span id="__span-26-92"><a id="__codelineno-26-92" name="__codelineno-26-92" href="#__codelineno-26-92"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">1</span>.86
</span><span id="__span-26-93"><a id="__codelineno-26-93" name="__codelineno-26-93" href="#__codelineno-26-93"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1632</span>.43
</span><span id="__span-26-94"><a id="__codelineno-26-94" name="__codelineno-26-94" href="#__codelineno-26-94"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">5</span>.67
</span><span id="__span-26-95"><a id="__codelineno-26-95" name="__codelineno-26-95" href="#__codelineno-26-95"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19192033</span>.79
</span><span id="__span-26-96"><a id="__codelineno-26-96" name="__codelineno-26-96" href="#__codelineno-26-96"></a>
</span><span id="__span-26-97"><a id="__codelineno-26-97" name="__codelineno-26-97" href="#__codelineno-26-97"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-98"><a id="__codelineno-26-98" name="__codelineno-26-98" href="#__codelineno-26-98"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">322525</span>.1875/1060.65
</span><span id="__span-26-99"><a id="__codelineno-26-99" name="__codelineno-26-99" href="#__codelineno-26-99"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.7511/0.00
</span><span id="__span-26-100"><a id="__codelineno-26-100" name="__codelineno-26-100" href="#__codelineno-26-100"></a><span class="c1"># selct测试 64线程,测试时间10分钟</span>
</span><span id="__span-26-101"><a id="__codelineno-26-101" name="__codelineno-26-101" href="#__codelineno-26-101"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-102"><a id="__codelineno-26-102" name="__codelineno-26-102" href="#__codelineno-26-102"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-103"><a id="__codelineno-26-103" name="__codelineno-26-103" href="#__codelineno-26-103"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6306</span>.33<span class="w"> </span>qps:<span class="w"> </span><span class="m">6306</span>.33<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6306</span>.33/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">30</span>.26<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-104"><a id="__codelineno-26-104" name="__codelineno-26-104" href="#__codelineno-26-104"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">18739</span>.97<span class="w"> </span>qps:<span class="w"> </span><span class="m">18739</span>.97<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">18739</span>.97/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">9</span>.06<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-105"><a id="__codelineno-26-105" name="__codelineno-26-105" href="#__codelineno-26-105"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">20780</span>.49<span class="w"> </span>qps:<span class="w"> </span><span class="m">20780</span>.49<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">20780</span>.49/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">8</span>.28<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-106"><a id="__codelineno-26-106" name="__codelineno-26-106" href="#__codelineno-26-106"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">19896</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">19896</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">19896</span>.00/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">9</span>.91<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-107"><a id="__codelineno-26-107" name="__codelineno-26-107" href="#__codelineno-26-107"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">17163</span>.66<span class="w"> </span>qps:<span class="w"> </span><span class="m">17163</span>.66<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">17163</span>.66/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">11</span>.04<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-108"><a id="__codelineno-26-108" name="__codelineno-26-108" href="#__codelineno-26-108"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">22208</span>.62<span class="w"> </span>qps:<span class="w"> </span><span class="m">22208</span>.62<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">22208</span>.62/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">8</span>.43<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-109"><a id="__codelineno-26-109" name="__codelineno-26-109" href="#__codelineno-26-109"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-110"><a id="__codelineno-26-110" name="__codelineno-26-110" href="#__codelineno-26-110"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-111"><a id="__codelineno-26-111" name="__codelineno-26-111" href="#__codelineno-26-111"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">12871444</span>
</span><span id="__span-26-112"><a id="__codelineno-26-112" name="__codelineno-26-112" href="#__codelineno-26-112"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-113"><a id="__codelineno-26-113" name="__codelineno-26-113" href="#__codelineno-26-113"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-114"><a id="__codelineno-26-114" name="__codelineno-26-114" href="#__codelineno-26-114"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">12871444</span>
</span><span id="__span-26-115"><a id="__codelineno-26-115" name="__codelineno-26-115" href="#__codelineno-26-115"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">12871444</span><span class="w"> </span><span class="o">(</span><span class="m">21451</span>.15<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-116"><a id="__codelineno-26-116" name="__codelineno-26-116" href="#__codelineno-26-116"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">12871444</span><span class="w"> </span><span class="o">(</span><span class="m">21451</span>.15<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-117"><a id="__codelineno-26-117" name="__codelineno-26-117" href="#__codelineno-26-117"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-118"><a id="__codelineno-26-118" name="__codelineno-26-118" href="#__codelineno-26-118"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-119"><a id="__codelineno-26-119" name="__codelineno-26-119" href="#__codelineno-26-119"></a>
</span><span id="__span-26-120"><a id="__codelineno-26-120" name="__codelineno-26-120" href="#__codelineno-26-120"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-121"><a id="__codelineno-26-121" name="__codelineno-26-121" href="#__codelineno-26-121"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0336s
</span><span id="__span-26-122"><a id="__codelineno-26-122" name="__codelineno-26-122" href="#__codelineno-26-122"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">12871444</span>
</span><span id="__span-26-123"><a id="__codelineno-26-123" name="__codelineno-26-123" href="#__codelineno-26-123"></a>
</span><span id="__span-26-124"><a id="__codelineno-26-124" name="__codelineno-26-124" href="#__codelineno-26-124"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-125"><a id="__codelineno-26-125" name="__codelineno-26-125" href="#__codelineno-26-125"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.16
</span><span id="__span-26-126"><a id="__codelineno-26-126" name="__codelineno-26-126" href="#__codelineno-26-126"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">2</span>.98
</span><span id="__span-26-127"><a id="__codelineno-26-127" name="__codelineno-26-127" href="#__codelineno-26-127"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1493</span>.53
</span><span id="__span-26-128"><a id="__codelineno-26-128" name="__codelineno-26-128" href="#__codelineno-26-128"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">8</span>.43
</span><span id="__span-26-129"><a id="__codelineno-26-129" name="__codelineno-26-129" href="#__codelineno-26-129"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38391016</span>.53
</span><span id="__span-26-130"><a id="__codelineno-26-130" name="__codelineno-26-130" href="#__codelineno-26-130"></a>
</span><span id="__span-26-131"><a id="__codelineno-26-131" name="__codelineno-26-131" href="#__codelineno-26-131"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-132"><a id="__codelineno-26-132" name="__codelineno-26-132" href="#__codelineno-26-132"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">201116</span>.3125/503.93
</span><span id="__span-26-133"><a id="__codelineno-26-133" name="__codelineno-26-133" href="#__codelineno-26-133"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.8596/0.00
</span><span id="__span-26-134"><a id="__codelineno-26-134" name="__codelineno-26-134" href="#__codelineno-26-134"></a><span class="c1"># selct测试 128线程,测试时间10分钟</span>
</span><span id="__span-26-135"><a id="__codelineno-26-135" name="__codelineno-26-135" href="#__codelineno-26-135"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-136"><a id="__codelineno-26-136" name="__codelineno-26-136" href="#__codelineno-26-136"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-137"><a id="__codelineno-26-137" name="__codelineno-26-137" href="#__codelineno-26-137"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">23254</span>.21<span class="w"> </span>qps:<span class="w"> </span><span class="m">23254</span>.21<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">23254</span>.21/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">16</span>.12<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-138"><a id="__codelineno-26-138" name="__codelineno-26-138" href="#__codelineno-26-138"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">24602</span>.03<span class="w"> </span>qps:<span class="w"> </span><span class="m">24602</span>.03<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">24602</span>.03/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.22<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-139"><a id="__codelineno-26-139" name="__codelineno-26-139" href="#__codelineno-26-139"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">27695</span>.07<span class="w"> </span>qps:<span class="w"> </span><span class="m">27695</span>.07<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">27695</span>.07/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-140"><a id="__codelineno-26-140" name="__codelineno-26-140" href="#__codelineno-26-140"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">26395</span>.86<span class="w"> </span>qps:<span class="w"> </span><span class="m">26395</span>.86<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">26395</span>.86/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.98<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-141"><a id="__codelineno-26-141" name="__codelineno-26-141" href="#__codelineno-26-141"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">28633</span>.02<span class="w"> </span>qps:<span class="w"> </span><span class="m">28633</span>.02<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">28633</span>.02/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.75<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-142"><a id="__codelineno-26-142" name="__codelineno-26-142" href="#__codelineno-26-142"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">28279</span>.46<span class="w"> </span>qps:<span class="w"> </span><span class="m">28279</span>.46<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">28279</span>.46/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.98<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-143"><a id="__codelineno-26-143" name="__codelineno-26-143" href="#__codelineno-26-143"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-144"><a id="__codelineno-26-144" name="__codelineno-26-144" href="#__codelineno-26-144"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-145"><a id="__codelineno-26-145" name="__codelineno-26-145" href="#__codelineno-26-145"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">15867653</span>
</span><span id="__span-26-146"><a id="__codelineno-26-146" name="__codelineno-26-146" href="#__codelineno-26-146"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-147"><a id="__codelineno-26-147" name="__codelineno-26-147" href="#__codelineno-26-147"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-148"><a id="__codelineno-26-148" name="__codelineno-26-148" href="#__codelineno-26-148"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">15867653</span>
</span><span id="__span-26-149"><a id="__codelineno-26-149" name="__codelineno-26-149" href="#__codelineno-26-149"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">15867653</span><span class="w"> </span><span class="o">(</span><span class="m">26426</span>.46<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-150"><a id="__codelineno-26-150" name="__codelineno-26-150" href="#__codelineno-26-150"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">15867653</span><span class="w"> </span><span class="o">(</span><span class="m">26426</span>.46<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-151"><a id="__codelineno-26-151" name="__codelineno-26-151" href="#__codelineno-26-151"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-152"><a id="__codelineno-26-152" name="__codelineno-26-152" href="#__codelineno-26-152"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-153"><a id="__codelineno-26-153" name="__codelineno-26-153" href="#__codelineno-26-153"></a>
</span><span id="__span-26-154"><a id="__codelineno-26-154" name="__codelineno-26-154" href="#__codelineno-26-154"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-155"><a id="__codelineno-26-155" name="__codelineno-26-155" href="#__codelineno-26-155"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.4442s
</span><span id="__span-26-156"><a id="__codelineno-26-156" name="__codelineno-26-156" href="#__codelineno-26-156"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">15867653</span>
</span><span id="__span-26-157"><a id="__codelineno-26-157" name="__codelineno-26-157" href="#__codelineno-26-157"></a>
</span><span id="__span-26-158"><a id="__codelineno-26-158" name="__codelineno-26-158" href="#__codelineno-26-158"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-159"><a id="__codelineno-26-159" name="__codelineno-26-159" href="#__codelineno-26-159"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.16
</span><span id="__span-26-160"><a id="__codelineno-26-160" name="__codelineno-26-160" href="#__codelineno-26-160"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">4</span>.84
</span><span id="__span-26-161"><a id="__codelineno-26-161" name="__codelineno-26-161" href="#__codelineno-26-161"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1295</span>.69
</span><span id="__span-26-162"><a id="__codelineno-26-162" name="__codelineno-26-162" href="#__codelineno-26-162"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">13</span>.46
</span><span id="__span-26-163"><a id="__codelineno-26-163" name="__codelineno-26-163" href="#__codelineno-26-163"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76797738</span>.06
</span><span id="__span-26-164"><a id="__codelineno-26-164" name="__codelineno-26-164" href="#__codelineno-26-164"></a>
</span><span id="__span-26-165"><a id="__codelineno-26-165" name="__codelineno-26-165" href="#__codelineno-26-165"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-166"><a id="__codelineno-26-166" name="__codelineno-26-166" href="#__codelineno-26-166"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">123966</span>.0391/421.67
</span><span id="__span-26-167"><a id="__codelineno-26-167" name="__codelineno-26-167" href="#__codelineno-26-167"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9823/0.08
</span><span id="__span-26-168"><a id="__codelineno-26-168" name="__codelineno-26-168" href="#__codelineno-26-168"></a><span class="c1"># selct测试 256线程,测试时间10分钟</span>
</span><span id="__span-26-169"><a id="__codelineno-26-169" name="__codelineno-26-169" href="#__codelineno-26-169"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-26-170"><a id="__codelineno-26-170" name="__codelineno-26-170" href="#__codelineno-26-170"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_point_select<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-26-171"><a id="__codelineno-26-171" name="__codelineno-26-171" href="#__codelineno-26-171"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3956</span>.05<span class="w"> </span>qps:<span class="w"> </span><span class="m">3956</span>.05<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3956</span>.05/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">244</span>.38<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-172"><a id="__codelineno-26-172" name="__codelineno-26-172" href="#__codelineno-26-172"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10995</span>.73<span class="w"> </span>qps:<span class="w"> </span><span class="m">10995</span>.73<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">10995</span>.73/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">75</span>.82<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-173"><a id="__codelineno-26-173" name="__codelineno-26-173" href="#__codelineno-26-173"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">15475</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">15475</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">15475</span>.90/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">55</span>.82<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-174"><a id="__codelineno-26-174" name="__codelineno-26-174" href="#__codelineno-26-174"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">14701</span>.82<span class="w"> </span>qps:<span class="w"> </span><span class="m">14701</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">14701</span>.82/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">59</span>.99<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-175"><a id="__codelineno-26-175" name="__codelineno-26-175" href="#__codelineno-26-175"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">12388</span>.89<span class="w"> </span>qps:<span class="w"> </span><span class="m">12388</span>.89<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">12388</span>.89/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">89</span>.16<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-176"><a id="__codelineno-26-176" name="__codelineno-26-176" href="#__codelineno-26-176"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">25637</span>.06<span class="w"> </span>qps:<span class="w"> </span><span class="m">25637</span>.06<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">25637</span>.06/0.00/0.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">25</span>.28<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-26-177"><a id="__codelineno-26-177" name="__codelineno-26-177" href="#__codelineno-26-177"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-26-178"><a id="__codelineno-26-178" name="__codelineno-26-178" href="#__codelineno-26-178"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-26-179"><a id="__codelineno-26-179" name="__codelineno-26-179" href="#__codelineno-26-179"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">15188519</span>
</span><span id="__span-26-180"><a id="__codelineno-26-180" name="__codelineno-26-180" href="#__codelineno-26-180"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-181"><a id="__codelineno-26-181" name="__codelineno-26-181" href="#__codelineno-26-181"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">0</span>
</span><span id="__span-26-182"><a id="__codelineno-26-182" name="__codelineno-26-182" href="#__codelineno-26-182"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">15188519</span>
</span><span id="__span-26-183"><a id="__codelineno-26-183" name="__codelineno-26-183" href="#__codelineno-26-183"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">15188519</span><span class="w"> </span><span class="o">(</span><span class="m">25311</span>.42<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-184"><a id="__codelineno-26-184" name="__codelineno-26-184" href="#__codelineno-26-184"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">15188519</span><span class="w"> </span><span class="o">(</span><span class="m">25311</span>.42<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-185"><a id="__codelineno-26-185" name="__codelineno-26-185" href="#__codelineno-26-185"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-186"><a id="__codelineno-26-186" name="__codelineno-26-186" href="#__codelineno-26-186"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-26-187"><a id="__codelineno-26-187" name="__codelineno-26-187" href="#__codelineno-26-187"></a>
</span><span id="__span-26-188"><a id="__codelineno-26-188" name="__codelineno-26-188" href="#__codelineno-26-188"></a>General<span class="w"> </span>statistics:
</span><span id="__span-26-189"><a id="__codelineno-26-189" name="__codelineno-26-189" href="#__codelineno-26-189"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0643s
</span><span id="__span-26-190"><a id="__codelineno-26-190" name="__codelineno-26-190" href="#__codelineno-26-190"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">15188519</span>
</span><span id="__span-26-191"><a id="__codelineno-26-191" name="__codelineno-26-191" href="#__codelineno-26-191"></a>
</span><span id="__span-26-192"><a id="__codelineno-26-192" name="__codelineno-26-192" href="#__codelineno-26-192"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-26-193"><a id="__codelineno-26-193" name="__codelineno-26-193" href="#__codelineno-26-193"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.16
</span><span id="__span-26-194"><a id="__codelineno-26-194" name="__codelineno-26-194" href="#__codelineno-26-194"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">10</span>.11
</span><span id="__span-26-195"><a id="__codelineno-26-195" name="__codelineno-26-195" href="#__codelineno-26-195"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2198</span>.00
</span><span id="__span-26-196"><a id="__codelineno-26-196" name="__codelineno-26-196" href="#__codelineno-26-196"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">27</span>.17
</span><span id="__span-26-197"><a id="__codelineno-26-197" name="__codelineno-26-197" href="#__codelineno-26-197"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153591443</span>.49
</span><span id="__span-26-198"><a id="__codelineno-26-198" name="__codelineno-26-198" href="#__codelineno-26-198"></a>
</span><span id="__span-26-199"><a id="__codelineno-26-199" name="__codelineno-26-199" href="#__codelineno-26-199"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-26-200"><a id="__codelineno-26-200" name="__codelineno-26-200" href="#__codelineno-26-200"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">59330</span>.1523/254.59
</span><span id="__span-26-201"><a id="__codelineno-26-201" name="__codelineno-26-201" href="#__codelineno-26-201"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9666/0.02
</span><span id="__span-26-202"><a id="__codelineno-26-202" name="__codelineno-26-202" href="#__codelineno-26-202"></a>
</span><span id="__span-26-203"><a id="__codelineno-26-203" name="__codelineno-26-203" href="#__codelineno-26-203"></a><span class="c1"># 只读测试</span>
</span><span id="__span-26-204"><a id="__codelineno-26-204" name="__codelineno-26-204" href="#__codelineno-26-204"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span></code></pre></div>
<h5 id="update">UPDATE 主键更新测试</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># update index 8线程　10分钟</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">105</span>.97<span class="w"> </span>qps:<span class="w"> </span><span class="m">105</span>.97<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/104.87/1.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">257</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">185</span>.20<span class="w"> </span>qps:<span class="w"> </span><span class="m">185</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/183.00/2.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">80</span>.03<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">171</span>.99<span class="w"> </span>qps:<span class="w"> </span><span class="m">171</span>.99<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/170.69/1.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">92</span>.42<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">219</span>.92<span class="w"> </span>qps:<span class="w"> </span><span class="m">219</span>.92<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/217.82/2.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">80</span>.03<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">293</span>.50<span class="w"> </span>qps:<span class="w"> </span><span class="m">293</span>.50<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/289.90/3.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">42</span>.61<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">358</span>.60<span class="w"> </span>qps:<span class="w"> </span><span class="m">358</span>.60<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/355.40/3.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">36</span>.24<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">150714</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">1363</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">152077</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">152077</span><span class="w"> </span><span class="o">(</span><span class="m">253</span>.45<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">152077</span><span class="w"> </span><span class="o">(</span><span class="m">253</span>.45<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0337s
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">152077</span>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.45
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">31</span>.56
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2484</span>.02
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">62</span>.19
</span><span id="__span-27-30"><a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4799864</span>.38
</span><span id="__span-27-31"><a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a>
</span><span id="__span-27-32"><a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-33"><a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">19009</span>.6250/71.48
</span><span id="__span-27-34"><a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9830/0.01
</span><span id="__span-27-35"><a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a>
</span><span id="__span-27-36"><a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a><span class="c1"># update index 16线程　10分钟</span>
</span><span id="__span-27-37"><a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-38"><a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-39"><a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">286</span>.55<span class="w"> </span>qps:<span class="w"> </span><span class="m">286</span>.55<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/284.45/2.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">144</span>.97<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-40"><a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">374</span>.59<span class="w"> </span>qps:<span class="w"> </span><span class="m">374</span>.59<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/371.19/3.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">78</span>.60<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-41"><a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">325</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">325</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/321.50/4.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">101</span>.13<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-42"><a id="__codelineno-27-42" name="__codelineno-27-42" href="#__codelineno-27-42"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">223</span>.41<span class="w"> </span>qps:<span class="w"> </span><span class="m">223</span>.41<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/221.51/1.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">287</span>.38<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-43"><a id="__codelineno-27-43" name="__codelineno-27-43" href="#__codelineno-27-43"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">372</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">372</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/368.10/3.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">65</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-44"><a id="__codelineno-27-44" name="__codelineno-27-44" href="#__codelineno-27-44"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">435</span>.20<span class="w"> </span>qps:<span class="w"> </span><span class="m">435</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/432.20/3.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">65</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-45"><a id="__codelineno-27-45" name="__codelineno-27-45" href="#__codelineno-27-45"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-46"><a id="__codelineno-27-46" name="__codelineno-27-46" href="#__codelineno-27-46"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-47"><a id="__codelineno-27-47" name="__codelineno-27-47" href="#__codelineno-27-47"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-48"><a id="__codelineno-27-48" name="__codelineno-27-48" href="#__codelineno-27-48"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">273213</span>
</span><span id="__span-27-49"><a id="__codelineno-27-49" name="__codelineno-27-49" href="#__codelineno-27-49"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">2444</span>
</span><span id="__span-27-50"><a id="__codelineno-27-50" name="__codelineno-27-50" href="#__codelineno-27-50"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">275657</span>
</span><span id="__span-27-51"><a id="__codelineno-27-51" name="__codelineno-27-51" href="#__codelineno-27-51"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">275657</span><span class="w"> </span><span class="o">(</span><span class="m">459</span>.40<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-52"><a id="__codelineno-27-52" name="__codelineno-27-52" href="#__codelineno-27-52"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">275657</span><span class="w"> </span><span class="o">(</span><span class="m">459</span>.40<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-53"><a id="__codelineno-27-53" name="__codelineno-27-53" href="#__codelineno-27-53"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-54"><a id="__codelineno-27-54" name="__codelineno-27-54" href="#__codelineno-27-54"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-55"><a id="__codelineno-27-55" name="__codelineno-27-55" href="#__codelineno-27-55"></a>
</span><span id="__span-27-56"><a id="__codelineno-27-56" name="__codelineno-27-56" href="#__codelineno-27-56"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-57"><a id="__codelineno-27-57" name="__codelineno-27-57" href="#__codelineno-27-57"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0415s
</span><span id="__span-27-58"><a id="__codelineno-27-58" name="__codelineno-27-58" href="#__codelineno-27-58"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">275657</span>
</span><span id="__span-27-59"><a id="__codelineno-27-59" name="__codelineno-27-59" href="#__codelineno-27-59"></a>
</span><span id="__span-27-60"><a id="__codelineno-27-60" name="__codelineno-27-60" href="#__codelineno-27-60"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-61"><a id="__codelineno-27-61" name="__codelineno-27-61" href="#__codelineno-27-61"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.42
</span><span id="__span-27-62"><a id="__codelineno-27-62" name="__codelineno-27-62" href="#__codelineno-27-62"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">34</span>.83
</span><span id="__span-27-63"><a id="__codelineno-27-63" name="__codelineno-27-63" href="#__codelineno-27-63"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2363</span>.14
</span><span id="__span-27-64"><a id="__codelineno-27-64" name="__codelineno-27-64" href="#__codelineno-27-64"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">75</span>.82
</span><span id="__span-27-65"><a id="__codelineno-27-65" name="__codelineno-27-65" href="#__codelineno-27-65"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9599848</span>.16
</span><span id="__span-27-66"><a id="__codelineno-27-66" name="__codelineno-27-66" href="#__codelineno-27-66"></a>
</span><span id="__span-27-67"><a id="__codelineno-27-67" name="__codelineno-27-67" href="#__codelineno-27-67"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-68"><a id="__codelineno-27-68" name="__codelineno-27-68" href="#__codelineno-27-68"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">17228</span>.5625/61.31
</span><span id="__span-27-69"><a id="__codelineno-27-69" name="__codelineno-27-69" href="#__codelineno-27-69"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9905/0.01
</span><span id="__span-27-70"><a id="__codelineno-27-70" name="__codelineno-27-70" href="#__codelineno-27-70"></a>
</span><span id="__span-27-71"><a id="__codelineno-27-71" name="__codelineno-27-71" href="#__codelineno-27-71"></a><span class="c1"># update index 16线程　10分钟</span>
</span><span id="__span-27-72"><a id="__codelineno-27-72" name="__codelineno-27-72" href="#__codelineno-27-72"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-73"><a id="__codelineno-27-73" name="__codelineno-27-73" href="#__codelineno-27-73"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-74"><a id="__codelineno-27-74" name="__codelineno-27-74" href="#__codelineno-27-74"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">640</span>.93<span class="w"> </span>qps:<span class="w"> </span><span class="m">640</span>.93<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/635.83/5.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">80</span>.03<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-75"><a id="__codelineno-27-75" name="__codelineno-27-75" href="#__codelineno-27-75"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">637</span>.31<span class="w"> </span>qps:<span class="w"> </span><span class="m">637</span>.31<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/631.81/5.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">94</span>.10<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-76"><a id="__codelineno-27-76" name="__codelineno-27-76" href="#__codelineno-27-76"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">825</span>.59<span class="w"> </span>qps:<span class="w"> </span><span class="m">825</span>.59<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/818.39/7.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">66</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-77"><a id="__codelineno-27-77" name="__codelineno-27-77" href="#__codelineno-27-77"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">677</span>.69<span class="w"> </span>qps:<span class="w"> </span><span class="m">677</span>.69<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/671.79/5.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">95</span>.81<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-78"><a id="__codelineno-27-78" name="__codelineno-27-78" href="#__codelineno-27-78"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">986</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">986</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/976.30/9.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">64</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-79"><a id="__codelineno-27-79" name="__codelineno-27-79" href="#__codelineno-27-79"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1095</span>.82<span class="w"> </span>qps:<span class="w"> </span><span class="m">1095</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1085.52/10.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">52</span>.89<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-80"><a id="__codelineno-27-80" name="__codelineno-27-80" href="#__codelineno-27-80"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-81"><a id="__codelineno-27-81" name="__codelineno-27-81" href="#__codelineno-27-81"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-82"><a id="__codelineno-27-82" name="__codelineno-27-82" href="#__codelineno-27-82"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-83"><a id="__codelineno-27-83" name="__codelineno-27-83" href="#__codelineno-27-83"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">674705</span>
</span><span id="__span-27-84"><a id="__codelineno-27-84" name="__codelineno-27-84" href="#__codelineno-27-84"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">6017</span>
</span><span id="__span-27-85"><a id="__codelineno-27-85" name="__codelineno-27-85" href="#__codelineno-27-85"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">680722</span>
</span><span id="__span-27-86"><a id="__codelineno-27-86" name="__codelineno-27-86" href="#__codelineno-27-86"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">680722</span><span class="w"> </span><span class="o">(</span><span class="m">1134</span>.22<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-87"><a id="__codelineno-27-87" name="__codelineno-27-87" href="#__codelineno-27-87"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">680722</span><span class="w"> </span><span class="o">(</span><span class="m">1134</span>.22<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-88"><a id="__codelineno-27-88" name="__codelineno-27-88" href="#__codelineno-27-88"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-89"><a id="__codelineno-27-89" name="__codelineno-27-89" href="#__codelineno-27-89"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-90"><a id="__codelineno-27-90" name="__codelineno-27-90" href="#__codelineno-27-90"></a>
</span><span id="__span-27-91"><a id="__codelineno-27-91" name="__codelineno-27-91" href="#__codelineno-27-91"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-92"><a id="__codelineno-27-92" name="__codelineno-27-92" href="#__codelineno-27-92"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1651s
</span><span id="__span-27-93"><a id="__codelineno-27-93" name="__codelineno-27-93" href="#__codelineno-27-93"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">680722</span>
</span><span id="__span-27-94"><a id="__codelineno-27-94" name="__codelineno-27-94" href="#__codelineno-27-94"></a>
</span><span id="__span-27-95"><a id="__codelineno-27-95" name="__codelineno-27-95" href="#__codelineno-27-95"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-96"><a id="__codelineno-27-96" name="__codelineno-27-96" href="#__codelineno-27-96"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.38
</span><span id="__span-27-97"><a id="__codelineno-27-97" name="__codelineno-27-97" href="#__codelineno-27-97"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">28</span>.21
</span><span id="__span-27-98"><a id="__codelineno-27-98" name="__codelineno-27-98" href="#__codelineno-27-98"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1179</span>.24
</span><span id="__span-27-99"><a id="__codelineno-27-99" name="__codelineno-27-99" href="#__codelineno-27-99"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">53</span>.85
</span><span id="__span-27-100"><a id="__codelineno-27-100" name="__codelineno-27-100" href="#__codelineno-27-100"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19201507</span>.50
</span><span id="__span-27-101"><a id="__codelineno-27-101" name="__codelineno-27-101" href="#__codelineno-27-101"></a>
</span><span id="__span-27-102"><a id="__codelineno-27-102" name="__codelineno-27-102" href="#__codelineno-27-102"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-103"><a id="__codelineno-27-103" name="__codelineno-27-103" href="#__codelineno-27-103"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">21272</span>.5625/57.52
</span><span id="__span-27-104"><a id="__codelineno-27-104" name="__codelineno-27-104" href="#__codelineno-27-104"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0471/0.04
</span><span id="__span-27-105"><a id="__codelineno-27-105" name="__codelineno-27-105" href="#__codelineno-27-105"></a><span class="c1"># update index 64线程　10分钟</span>
</span><span id="__span-27-106"><a id="__codelineno-27-106" name="__codelineno-27-106" href="#__codelineno-27-106"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-107"><a id="__codelineno-27-107" name="__codelineno-27-107" href="#__codelineno-27-107"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-108"><a id="__codelineno-27-108" name="__codelineno-27-108" href="#__codelineno-27-108"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2180</span>.69<span class="w"> </span>qps:<span class="w"> </span><span class="m">2180</span>.69<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2158.20/22.49<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">47</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-109"><a id="__codelineno-27-109" name="__codelineno-27-109" href="#__codelineno-27-109"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1979</span>.82<span class="w"> </span>qps:<span class="w"> </span><span class="m">1979</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1960.52/19.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">52</span>.89<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-110"><a id="__codelineno-27-110" name="__codelineno-27-110" href="#__codelineno-27-110"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1898</span>.09<span class="w"> </span>qps:<span class="w"> </span><span class="m">1898</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1882.09/16.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">65</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-111"><a id="__codelineno-27-111" name="__codelineno-27-111" href="#__codelineno-27-111"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1968</span>.12<span class="w"> </span>qps:<span class="w"> </span><span class="m">1968</span>.12<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1951.42/16.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">50</span>.11<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-112"><a id="__codelineno-27-112" name="__codelineno-27-112" href="#__codelineno-27-112"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2244</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">2244</span>.30<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2224.10/20.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">44</span>.17<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-113"><a id="__codelineno-27-113" name="__codelineno-27-113" href="#__codelineno-27-113"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1448</span>.81<span class="w"> </span>qps:<span class="w"> </span><span class="m">1448</span>.81<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1436.21/12.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">118</span>.92<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-114"><a id="__codelineno-27-114" name="__codelineno-27-114" href="#__codelineno-27-114"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-115"><a id="__codelineno-27-115" name="__codelineno-27-115" href="#__codelineno-27-115"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-116"><a id="__codelineno-27-116" name="__codelineno-27-116" href="#__codelineno-27-116"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-117"><a id="__codelineno-27-117" name="__codelineno-27-117" href="#__codelineno-27-117"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1145001</span>
</span><span id="__span-27-118"><a id="__codelineno-27-118" name="__codelineno-27-118" href="#__codelineno-27-118"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">10176</span>
</span><span id="__span-27-119"><a id="__codelineno-27-119" name="__codelineno-27-119" href="#__codelineno-27-119"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1155177</span>
</span><span id="__span-27-120"><a id="__codelineno-27-120" name="__codelineno-27-120" href="#__codelineno-27-120"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">1155177</span><span class="w"> </span><span class="o">(</span><span class="m">1925</span>.14<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-121"><a id="__codelineno-27-121" name="__codelineno-27-121" href="#__codelineno-27-121"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1155177</span><span class="w"> </span><span class="o">(</span><span class="m">1925</span>.14<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-122"><a id="__codelineno-27-122" name="__codelineno-27-122" href="#__codelineno-27-122"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-123"><a id="__codelineno-27-123" name="__codelineno-27-123" href="#__codelineno-27-123"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-124"><a id="__codelineno-27-124" name="__codelineno-27-124" href="#__codelineno-27-124"></a>
</span><span id="__span-27-125"><a id="__codelineno-27-125" name="__codelineno-27-125" href="#__codelineno-27-125"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-126"><a id="__codelineno-27-126" name="__codelineno-27-126" href="#__codelineno-27-126"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0474s
</span><span id="__span-27-127"><a id="__codelineno-27-127" name="__codelineno-27-127" href="#__codelineno-27-127"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">1155177</span>
</span><span id="__span-27-128"><a id="__codelineno-27-128" name="__codelineno-27-128" href="#__codelineno-27-128"></a>
</span><span id="__span-27-129"><a id="__codelineno-27-129" name="__codelineno-27-129" href="#__codelineno-27-129"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-130"><a id="__codelineno-27-130" name="__codelineno-27-130" href="#__codelineno-27-130"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.45
</span><span id="__span-27-131"><a id="__codelineno-27-131" name="__codelineno-27-131" href="#__codelineno-27-131"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">33</span>.24
</span><span id="__span-27-132"><a id="__codelineno-27-132" name="__codelineno-27-132" href="#__codelineno-27-132"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2247</span>.91
</span><span id="__span-27-133"><a id="__codelineno-27-133" name="__codelineno-27-133" href="#__codelineno-27-133"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">56</span>.84
</span><span id="__span-27-134"><a id="__codelineno-27-134" name="__codelineno-27-134" href="#__codelineno-27-134"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38399975</span>.13
</span><span id="__span-27-135"><a id="__codelineno-27-135" name="__codelineno-27-135" href="#__codelineno-27-135"></a>
</span><span id="__span-27-136"><a id="__codelineno-27-136" name="__codelineno-27-136" href="#__codelineno-27-136"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-137"><a id="__codelineno-27-137" name="__codelineno-27-137" href="#__codelineno-27-137"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">18049</span>.6406/49.49
</span><span id="__span-27-138"><a id="__codelineno-27-138" name="__codelineno-27-138" href="#__codelineno-27-138"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9996/0.01
</span><span id="__span-27-139"><a id="__codelineno-27-139" name="__codelineno-27-139" href="#__codelineno-27-139"></a><span class="c1"># update index 128线程　10分钟</span>
</span><span id="__span-27-140"><a id="__codelineno-27-140" name="__codelineno-27-140" href="#__codelineno-27-140"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-141"><a id="__codelineno-27-141" name="__codelineno-27-141" href="#__codelineno-27-141"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-142"><a id="__codelineno-27-142" name="__codelineno-27-142" href="#__codelineno-27-142"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2940</span>.58<span class="w"> </span>qps:<span class="w"> </span><span class="m">2940</span>.58<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2915.20/25.38<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">87</span>.56<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-143"><a id="__codelineno-27-143" name="__codelineno-27-143" href="#__codelineno-27-143"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2761</span>.92<span class="w"> </span>qps:<span class="w"> </span><span class="m">2761</span>.92<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2737.02/24.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">80</span>.03<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-144"><a id="__codelineno-27-144" name="__codelineno-27-144" href="#__codelineno-27-144"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2847</span>.77<span class="w"> </span>qps:<span class="w"> </span><span class="m">2847</span>.77<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2823.67/24.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">84</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-145"><a id="__codelineno-27-145" name="__codelineno-27-145" href="#__codelineno-27-145"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2562</span>.89<span class="w"> </span>qps:<span class="w"> </span><span class="m">2562</span>.89<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2539.79/23.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">74</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-146"><a id="__codelineno-27-146" name="__codelineno-27-146" href="#__codelineno-27-146"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2779</span>.34<span class="w"> </span>qps:<span class="w"> </span><span class="m">2779</span>.34<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2754.14/25.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">101</span>.13<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-147"><a id="__codelineno-27-147" name="__codelineno-27-147" href="#__codelineno-27-147"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3990</span>.12<span class="w"> </span>qps:<span class="w"> </span><span class="m">3990</span>.12<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3952.02/38.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">59</span>.99<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-148"><a id="__codelineno-27-148" name="__codelineno-27-148" href="#__codelineno-27-148"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-149"><a id="__codelineno-27-149" name="__codelineno-27-149" href="#__codelineno-27-149"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-150"><a id="__codelineno-27-150" name="__codelineno-27-150" href="#__codelineno-27-150"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-151"><a id="__codelineno-27-151" name="__codelineno-27-151" href="#__codelineno-27-151"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">2381625</span>
</span><span id="__span-27-152"><a id="__codelineno-27-152" name="__codelineno-27-152" href="#__codelineno-27-152"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">21414</span>
</span><span id="__span-27-153"><a id="__codelineno-27-153" name="__codelineno-27-153" href="#__codelineno-27-153"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">2403039</span>
</span><span id="__span-27-154"><a id="__codelineno-27-154" name="__codelineno-27-154" href="#__codelineno-27-154"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">2403039</span><span class="w"> </span><span class="o">(</span><span class="m">4004</span>.38<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-155"><a id="__codelineno-27-155" name="__codelineno-27-155" href="#__codelineno-27-155"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">2403039</span><span class="w"> </span><span class="o">(</span><span class="m">4004</span>.38<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-156"><a id="__codelineno-27-156" name="__codelineno-27-156" href="#__codelineno-27-156"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-157"><a id="__codelineno-27-157" name="__codelineno-27-157" href="#__codelineno-27-157"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-158"><a id="__codelineno-27-158" name="__codelineno-27-158" href="#__codelineno-27-158"></a>
</span><span id="__span-27-159"><a id="__codelineno-27-159" name="__codelineno-27-159" href="#__codelineno-27-159"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-160"><a id="__codelineno-27-160" name="__codelineno-27-160" href="#__codelineno-27-160"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1009s
</span><span id="__span-27-161"><a id="__codelineno-27-161" name="__codelineno-27-161" href="#__codelineno-27-161"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">2403039</span>
</span><span id="__span-27-162"><a id="__codelineno-27-162" name="__codelineno-27-162" href="#__codelineno-27-162"></a>
</span><span id="__span-27-163"><a id="__codelineno-27-163" name="__codelineno-27-163" href="#__codelineno-27-163"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-164"><a id="__codelineno-27-164" name="__codelineno-27-164" href="#__codelineno-27-164"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.44
</span><span id="__span-27-165"><a id="__codelineno-27-165" name="__codelineno-27-165" href="#__codelineno-27-165"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">31</span>.96
</span><span id="__span-27-166"><a id="__codelineno-27-166" name="__codelineno-27-166" href="#__codelineno-27-166"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2111</span>.37
</span><span id="__span-27-167"><a id="__codelineno-27-167" name="__codelineno-27-167" href="#__codelineno-27-167"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">58</span>.92
</span><span id="__span-27-168"><a id="__codelineno-27-168" name="__codelineno-27-168" href="#__codelineno-27-168"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76804828</span>.46
</span><span id="__span-27-169"><a id="__codelineno-27-169" name="__codelineno-27-169" href="#__codelineno-27-169"></a>
</span><span id="__span-27-170"><a id="__codelineno-27-170" name="__codelineno-27-170" href="#__codelineno-27-170"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-171"><a id="__codelineno-27-171" name="__codelineno-27-171" href="#__codelineno-27-171"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">18773</span>.7422/47.75
</span><span id="__span-27-172"><a id="__codelineno-27-172" name="__codelineno-27-172" href="#__codelineno-27-172"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0377/0.02
</span><span id="__span-27-173"><a id="__codelineno-27-173" name="__codelineno-27-173" href="#__codelineno-27-173"></a><span class="c1"># update index 256线程　10分钟</span>
</span><span id="__span-27-174"><a id="__codelineno-27-174" name="__codelineno-27-174" href="#__codelineno-27-174"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-27-175"><a id="__codelineno-27-175" name="__codelineno-27-175" href="#__codelineno-27-175"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-27-176"><a id="__codelineno-27-176" name="__codelineno-27-176" href="#__codelineno-27-176"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3950</span>.63<span class="w"> </span>qps:<span class="w"> </span><span class="m">3950</span>.63<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3916.67/33.95<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">142</span>.39<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-177"><a id="__codelineno-27-177" name="__codelineno-27-177" href="#__codelineno-27-177"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3807</span>.87<span class="w"> </span>qps:<span class="w"> </span><span class="m">3807</span>.87<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3775.37/32.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">134</span>.90<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-178"><a id="__codelineno-27-178" name="__codelineno-27-178" href="#__codelineno-27-178"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4390</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">4390</span>.40<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4348.90/41.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">112</span>.67<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-179"><a id="__codelineno-27-179" name="__codelineno-27-179" href="#__codelineno-27-179"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4877</span>.34<span class="w"> </span>qps:<span class="w"> </span><span class="m">4877</span>.34<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4833.34/44.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">106</span>.75<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-180"><a id="__codelineno-27-180" name="__codelineno-27-180" href="#__codelineno-27-180"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5416</span>.16<span class="w"> </span>qps:<span class="w"> </span><span class="m">5416</span>.16<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5371.16/45.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">94</span>.10<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-181"><a id="__codelineno-27-181" name="__codelineno-27-181" href="#__codelineno-27-181"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5808</span>.93<span class="w"> </span>qps:<span class="w"> </span><span class="m">5808</span>.93<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5759.15/49.77<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">81</span>.48<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-27-182"><a id="__codelineno-27-182" name="__codelineno-27-182" href="#__codelineno-27-182"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-27-183"><a id="__codelineno-27-183" name="__codelineno-27-183" href="#__codelineno-27-183"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-27-184"><a id="__codelineno-27-184" name="__codelineno-27-184" href="#__codelineno-27-184"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-27-185"><a id="__codelineno-27-185" name="__codelineno-27-185" href="#__codelineno-27-185"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">3129355</span>
</span><span id="__span-27-186"><a id="__codelineno-27-186" name="__codelineno-27-186" href="#__codelineno-27-186"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">27823</span>
</span><span id="__span-27-187"><a id="__codelineno-27-187" name="__codelineno-27-187" href="#__codelineno-27-187"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3157178</span>
</span><span id="__span-27-188"><a id="__codelineno-27-188" name="__codelineno-27-188" href="#__codelineno-27-188"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">3157178</span><span class="w"> </span><span class="o">(</span><span class="m">5258</span>.48<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-189"><a id="__codelineno-27-189" name="__codelineno-27-189" href="#__codelineno-27-189"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3157178</span><span class="w"> </span><span class="o">(</span><span class="m">5258</span>.48<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-190"><a id="__codelineno-27-190" name="__codelineno-27-190" href="#__codelineno-27-190"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-191"><a id="__codelineno-27-191" name="__codelineno-27-191" href="#__codelineno-27-191"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-27-192"><a id="__codelineno-27-192" name="__codelineno-27-192" href="#__codelineno-27-192"></a>
</span><span id="__span-27-193"><a id="__codelineno-27-193" name="__codelineno-27-193" href="#__codelineno-27-193"></a>General<span class="w"> </span>statistics:
</span><span id="__span-27-194"><a id="__codelineno-27-194" name="__codelineno-27-194" href="#__codelineno-27-194"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.3958s
</span><span id="__span-27-195"><a id="__codelineno-27-195" name="__codelineno-27-195" href="#__codelineno-27-195"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">3157178</span>
</span><span id="__span-27-196"><a id="__codelineno-27-196" name="__codelineno-27-196" href="#__codelineno-27-196"></a>
</span><span id="__span-27-197"><a id="__codelineno-27-197" name="__codelineno-27-197" href="#__codelineno-27-197"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-27-198"><a id="__codelineno-27-198" name="__codelineno-27-198" href="#__codelineno-27-198"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.44
</span><span id="__span-27-199"><a id="__codelineno-27-199" name="__codelineno-27-199" href="#__codelineno-27-199"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">48</span>.67
</span><span id="__span-27-200"><a id="__codelineno-27-200" name="__codelineno-27-200" href="#__codelineno-27-200"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2368</span>.23
</span><span id="__span-27-201"><a id="__codelineno-27-201" name="__codelineno-27-201" href="#__codelineno-27-201"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">97</span>.55
</span><span id="__span-27-202"><a id="__codelineno-27-202" name="__codelineno-27-202" href="#__codelineno-27-202"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153649411</span>.42
</span><span id="__span-27-203"><a id="__codelineno-27-203" name="__codelineno-27-203" href="#__codelineno-27-203"></a>
</span><span id="__span-27-204"><a id="__codelineno-27-204" name="__codelineno-27-204" href="#__codelineno-27-204"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-27-205"><a id="__codelineno-27-205" name="__codelineno-27-205" href="#__codelineno-27-205"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">12332</span>.7266/50.73
</span><span id="__span-27-206"><a id="__codelineno-27-206" name="__codelineno-27-206" href="#__codelineno-27-206"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.1930/0.11
</span></code></pre></div>
<h5 id="_14">读写混合测试</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># select insert 8线程　10分钟</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">172</span>.47<span class="w"> </span>qps:<span class="w"> </span><span class="m">3460</span>.48<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">2423</span>.67/685.78/351.04<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">65</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">207</span>.91<span class="w"> </span>qps:<span class="w"> </span><span class="m">4156</span>.23<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">2908</span>.69/825.93/421.61<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">49</span>.21<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">206</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">4132</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">2893</span>.50/819.30/419.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">50</span>.11<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">216</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">4320</span>.19<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3024</span>.00/858.60/437.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">47</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">215</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">4310</span>.49<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3017</span>.10/856.80/436.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">47</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">213</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">4264</span>.18<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">2985</span>.18/845.50/433.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">48</span>.34<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">1439326</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">408522</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">208332</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">2056180</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">102809</span><span class="w"> </span><span class="o">(</span><span class="m">171</span>.34<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">2056180</span><span class="w"> </span><span class="o">(</span><span class="m">3426</span>.83<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0231s
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">102809</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">20</span>.55
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">46</span>.69
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1381</span>.74
</span><span id="__span-28-29"><a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">78</span>.60
</span><span id="__span-28-30"><a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4799764</span>.06
</span><span id="__span-28-31"><a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a>
</span><span id="__span-28-32"><a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-33"><a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">12851</span>.1250/18.58
</span><span id="__span-28-34"><a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9705/0.01
</span><span id="__span-28-35"><a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a>
</span><span id="__span-28-36"><a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="c1"># select insert 16线程　10分钟</span>
</span><span id="__span-28-37"><a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-38"><a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-39"><a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">169</span>.97<span class="w"> </span>qps:<span class="w"> </span><span class="m">3421</span>.92<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">2398</span>.22/676.66/347.03<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">144</span>.97<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-40"><a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">231</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">4637</span>.37<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3246</span>.15/921.22/470.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">104</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-41"><a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">311</span>.78<span class="w"> </span>qps:<span class="w"> </span><span class="m">6237</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">4366</span>.92/1237.01/633.17<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">65</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-42"><a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">287</span>.50<span class="w"> </span>qps:<span class="w"> </span><span class="m">5753</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">4026</span>.51/1145.20/582.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">69</span>.29<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-43"><a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">284</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">5680</span>.37<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">3977</span>.48/1127.59/575.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">69</span>.29<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-44"><a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">303</span>.70<span class="w"> </span>qps:<span class="w"> </span><span class="m">6073</span>.10<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">4250</span>.10/1206.90/616.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">68</span>.05<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-45"><a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-46"><a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-47"><a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">2325722</span>
</span><span id="__span-28-48"><a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">660088</span>
</span><span id="__span-28-49"><a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">336650</span>
</span><span id="__span-28-50"><a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3322460</span>
</span><span id="__span-28-51"><a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">166123</span><span class="w"> </span><span class="o">(</span><span class="m">276</span>.84<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-52"><a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3322460</span><span class="w"> </span><span class="o">(</span><span class="m">5536</span>.80<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-53"><a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-54"><a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-55"><a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a>
</span><span id="__span-28-56"><a id="__codelineno-28-56" name="__codelineno-28-56" href="#__codelineno-28-56"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-57"><a id="__codelineno-28-57" name="__codelineno-28-57" href="#__codelineno-28-57"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0672s
</span><span id="__span-28-58"><a id="__codelineno-28-58" name="__codelineno-28-58" href="#__codelineno-28-58"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">166123</span>
</span><span id="__span-28-59"><a id="__codelineno-28-59" name="__codelineno-28-59" href="#__codelineno-28-59"></a>
</span><span id="__span-28-60"><a id="__codelineno-28-60" name="__codelineno-28-60" href="#__codelineno-28-60"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-61"><a id="__codelineno-28-61" name="__codelineno-28-61" href="#__codelineno-28-61"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">24</span>.50
</span><span id="__span-28-62"><a id="__codelineno-28-62" name="__codelineno-28-62" href="#__codelineno-28-62"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">57</span>.79
</span><span id="__span-28-63"><a id="__codelineno-28-63" name="__codelineno-28-63" href="#__codelineno-28-63"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1233</span>.54
</span><span id="__span-28-64"><a id="__codelineno-28-64" name="__codelineno-28-64" href="#__codelineno-28-64"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">95</span>.81
</span><span id="__span-28-65"><a id="__codelineno-28-65" name="__codelineno-28-65" href="#__codelineno-28-65"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9599917</span>.16
</span><span id="__span-28-66"><a id="__codelineno-28-66" name="__codelineno-28-66" href="#__codelineno-28-66"></a>
</span><span id="__span-28-67"><a id="__codelineno-28-67" name="__codelineno-28-67" href="#__codelineno-28-67"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-68"><a id="__codelineno-28-68" name="__codelineno-28-68" href="#__codelineno-28-68"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">10382</span>.6875/22.65
</span><span id="__span-28-69"><a id="__codelineno-28-69" name="__codelineno-28-69" href="#__codelineno-28-69"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9948/0.01
</span><span id="__span-28-70"><a id="__codelineno-28-70" name="__codelineno-28-70" href="#__codelineno-28-70"></a>
</span><span id="__span-28-71"><a id="__codelineno-28-71" name="__codelineno-28-71" href="#__codelineno-28-71"></a><span class="c1"># select insert 32线程　10分钟</span>
</span><span id="__span-28-72"><a id="__codelineno-28-72" name="__codelineno-28-72" href="#__codelineno-28-72"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-73"><a id="__codelineno-28-73" name="__codelineno-28-73" href="#__codelineno-28-73"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-74"><a id="__codelineno-28-74" name="__codelineno-28-74" href="#__codelineno-28-74"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">444</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">8941</span>.18<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6264</span>.55/1774.02/902.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">95</span>.81<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-75"><a id="__codelineno-28-75" name="__codelineno-28-75" href="#__codelineno-28-75"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">447</span>.59<span class="w"> </span>qps:<span class="w"> </span><span class="m">8959</span>.13<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6272</span>.58/1779.86/906.69<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">86</span>.00<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-76"><a id="__codelineno-28-76" name="__codelineno-28-76" href="#__codelineno-28-76"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">440</span>.89<span class="w"> </span>qps:<span class="w"> </span><span class="m">8805</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6161</span>.66/1752.06/892.18<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">87</span>.56<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-77"><a id="__codelineno-28-77" name="__codelineno-28-77" href="#__codelineno-28-77"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">505</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">10106</span>.91<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7073</span>.90/2008.90/1024.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">82</span>.96<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-78"><a id="__codelineno-28-78" name="__codelineno-28-78" href="#__codelineno-28-78"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">486</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">9739</span>.97<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6820</span>.75/1934.91/984.31<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">84</span>.47<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-79"><a id="__codelineno-28-79" name="__codelineno-28-79" href="#__codelineno-28-79"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">477</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">9532</span>.05<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6671</span>.67/1894.19/966.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">87</span>.56<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-80"><a id="__codelineno-28-80" name="__codelineno-28-80" href="#__codelineno-28-80"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-81"><a id="__codelineno-28-81" name="__codelineno-28-81" href="#__codelineno-28-81"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-82"><a id="__codelineno-28-82" name="__codelineno-28-82" href="#__codelineno-28-82"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">3419850</span>
</span><span id="__span-28-83"><a id="__codelineno-28-83" name="__codelineno-28-83" href="#__codelineno-28-83"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">970844</span>
</span><span id="__span-28-84"><a id="__codelineno-28-84" name="__codelineno-28-84" href="#__codelineno-28-84"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">494806</span>
</span><span id="__span-28-85"><a id="__codelineno-28-85" name="__codelineno-28-85" href="#__codelineno-28-85"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">4885500</span>
</span><span id="__span-28-86"><a id="__codelineno-28-86" name="__codelineno-28-86" href="#__codelineno-28-86"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">244275</span><span class="w"> </span><span class="o">(</span><span class="m">407</span>.05<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-87"><a id="__codelineno-28-87" name="__codelineno-28-87" href="#__codelineno-28-87"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">4885500</span><span class="w"> </span><span class="o">(</span><span class="m">8141</span>.05<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-88"><a id="__codelineno-28-88" name="__codelineno-28-88" href="#__codelineno-28-88"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-89"><a id="__codelineno-28-89" name="__codelineno-28-89" href="#__codelineno-28-89"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-90"><a id="__codelineno-28-90" name="__codelineno-28-90" href="#__codelineno-28-90"></a>
</span><span id="__span-28-91"><a id="__codelineno-28-91" name="__codelineno-28-91" href="#__codelineno-28-91"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-92"><a id="__codelineno-28-92" name="__codelineno-28-92" href="#__codelineno-28-92"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1055s
</span><span id="__span-28-93"><a id="__codelineno-28-93" name="__codelineno-28-93" href="#__codelineno-28-93"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">244275</span>
</span><span id="__span-28-94"><a id="__codelineno-28-94" name="__codelineno-28-94" href="#__codelineno-28-94"></a>
</span><span id="__span-28-95"><a id="__codelineno-28-95" name="__codelineno-28-95" href="#__codelineno-28-95"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-96"><a id="__codelineno-28-96" name="__codelineno-28-96" href="#__codelineno-28-96"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">23</span>.04
</span><span id="__span-28-97"><a id="__codelineno-28-97" name="__codelineno-28-97" href="#__codelineno-28-97"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">78</span>.60
</span><span id="__span-28-98"><a id="__codelineno-28-98" name="__codelineno-28-98" href="#__codelineno-28-98"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1441</span>.26
</span><span id="__span-28-99"><a id="__codelineno-28-99" name="__codelineno-28-99" href="#__codelineno-28-99"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">121</span>.08
</span><span id="__span-28-100"><a id="__codelineno-28-100" name="__codelineno-28-100" href="#__codelineno-28-100"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19200207</span>.50
</span><span id="__span-28-101"><a id="__codelineno-28-101" name="__codelineno-28-101" href="#__codelineno-28-101"></a>
</span><span id="__span-28-102"><a id="__codelineno-28-102" name="__codelineno-28-102" href="#__codelineno-28-102"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-103"><a id="__codelineno-28-103" name="__codelineno-28-103" href="#__codelineno-28-103"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">7633</span>.5938/16.54
</span><span id="__span-28-104"><a id="__codelineno-28-104" name="__codelineno-28-104" href="#__codelineno-28-104"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0065/0.02
</span><span id="__span-28-105"><a id="__codelineno-28-105" name="__codelineno-28-105" href="#__codelineno-28-105"></a><span class="c1"># select insert 64线程　10分钟</span>
</span><span id="__span-28-106"><a id="__codelineno-28-106" name="__codelineno-28-106" href="#__codelineno-28-106"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-107"><a id="__codelineno-28-107" name="__codelineno-28-107" href="#__codelineno-28-107"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-108"><a id="__codelineno-28-108" name="__codelineno-28-108" href="#__codelineno-28-108"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">424</span>.39<span class="w"> </span>qps:<span class="w"> </span><span class="m">8593</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6026</span>.48/1700.35/866.37<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">253</span>.35<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-109"><a id="__codelineno-28-109" name="__codelineno-28-109" href="#__codelineno-28-109"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">451</span>.41<span class="w"> </span>qps:<span class="w"> </span><span class="m">9010</span>.57<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">6308</span>.92/1786.73/914.92<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">193</span>.38<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-110"><a id="__codelineno-28-110" name="__codelineno-28-110" href="#__codelineno-28-110"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">417</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">8363</span>.85<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">5852</span>.16/1664.29/847.39<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">272</span>.27<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-111"><a id="__codelineno-28-111" name="__codelineno-28-111" href="#__codelineno-28-111"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">539</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">10782</span>.19<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7547</span>.89/2141.50/1092.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">161</span>.51<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-112"><a id="__codelineno-28-112" name="__codelineno-28-112" href="#__codelineno-28-112"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">515</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">10305</span>.70<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7214</span>.40/2047.30/1044.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">164</span>.45<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-113"><a id="__codelineno-28-113" name="__codelineno-28-113" href="#__codelineno-28-113"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">546</span>.27<span class="w"> </span>qps:<span class="w"> </span><span class="m">10927</span>.74<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7649</span>.00/2174.09/1104.64<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">158</span>.63<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-114"><a id="__codelineno-28-114" name="__codelineno-28-114" href="#__codelineno-28-114"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-115"><a id="__codelineno-28-115" name="__codelineno-28-115" href="#__codelineno-28-115"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-116"><a id="__codelineno-28-116" name="__codelineno-28-116" href="#__codelineno-28-116"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">4306274</span>
</span><span id="__span-28-117"><a id="__codelineno-28-117" name="__codelineno-28-117" href="#__codelineno-28-117"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1222527</span>
</span><span id="__span-28-118"><a id="__codelineno-28-118" name="__codelineno-28-118" href="#__codelineno-28-118"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">623019</span>
</span><span id="__span-28-119"><a id="__codelineno-28-119" name="__codelineno-28-119" href="#__codelineno-28-119"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">6151820</span>
</span><span id="__span-28-120"><a id="__codelineno-28-120" name="__codelineno-28-120" href="#__codelineno-28-120"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">307591</span><span class="w"> </span><span class="o">(</span><span class="m">512</span>.48<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-121"><a id="__codelineno-28-121" name="__codelineno-28-121" href="#__codelineno-28-121"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">6151820</span><span class="w"> </span><span class="o">(</span><span class="m">10249</span>.68<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-122"><a id="__codelineno-28-122" name="__codelineno-28-122" href="#__codelineno-28-122"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-123"><a id="__codelineno-28-123" name="__codelineno-28-123" href="#__codelineno-28-123"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-124"><a id="__codelineno-28-124" name="__codelineno-28-124" href="#__codelineno-28-124"></a>
</span><span id="__span-28-125"><a id="__codelineno-28-125" name="__codelineno-28-125" href="#__codelineno-28-125"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-126"><a id="__codelineno-28-126" name="__codelineno-28-126" href="#__codelineno-28-126"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1948s
</span><span id="__span-28-127"><a id="__codelineno-28-127" name="__codelineno-28-127" href="#__codelineno-28-127"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">307591</span>
</span><span id="__span-28-128"><a id="__codelineno-28-128" name="__codelineno-28-128" href="#__codelineno-28-128"></a>
</span><span id="__span-28-129"><a id="__codelineno-28-129" name="__codelineno-28-129" href="#__codelineno-28-129"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-130"><a id="__codelineno-28-130" name="__codelineno-28-130" href="#__codelineno-28-130"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">26</span>.25
</span><span id="__span-28-131"><a id="__codelineno-28-131" name="__codelineno-28-131" href="#__codelineno-28-131"></a><span class="w">         </span>avg:<span class="w">                                  </span><span class="m">124</span>.86
</span><span id="__span-28-132"><a id="__codelineno-28-132" name="__codelineno-28-132" href="#__codelineno-28-132"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1593</span>.38
</span><span id="__span-28-133"><a id="__codelineno-28-133" name="__codelineno-28-133" href="#__codelineno-28-133"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">183</span>.21
</span><span id="__span-28-134"><a id="__codelineno-28-134" name="__codelineno-28-134" href="#__codelineno-28-134"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38406426</span>.60
</span><span id="__span-28-135"><a id="__codelineno-28-135" name="__codelineno-28-135" href="#__codelineno-28-135"></a>
</span><span id="__span-28-136"><a id="__codelineno-28-136" name="__codelineno-28-136" href="#__codelineno-28-136"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-137"><a id="__codelineno-28-137" name="__codelineno-28-137" href="#__codelineno-28-137"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">4806</span>.1094/14.48
</span><span id="__span-28-138"><a id="__codelineno-28-138" name="__codelineno-28-138" href="#__codelineno-28-138"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.1004/0.05
</span><span id="__span-28-139"><a id="__codelineno-28-139" name="__codelineno-28-139" href="#__codelineno-28-139"></a>
</span><span id="__span-28-140"><a id="__codelineno-28-140" name="__codelineno-28-140" href="#__codelineno-28-140"></a><span class="c1"># select insert 128线程　10分钟</span>
</span><span id="__span-28-141"><a id="__codelineno-28-141" name="__codelineno-28-141" href="#__codelineno-28-141"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-142"><a id="__codelineno-28-142" name="__codelineno-28-142" href="#__codelineno-28-142"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-143"><a id="__codelineno-28-143" name="__codelineno-28-143" href="#__codelineno-28-143"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">590</span>.39<span class="w"> </span>qps:<span class="w"> </span><span class="m">12021</span>.37<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8442</span>.39/2367.34/1211.63<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">292</span>.60<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-144"><a id="__codelineno-28-144" name="__codelineno-28-144" href="#__codelineno-28-144"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">534</span>.41<span class="w"> </span>qps:<span class="w"> </span><span class="m">10671</span>.02<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7462</span>.98/2124.82/1083.21<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">511</span>.33<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-145"><a id="__codelineno-28-145" name="__codelineno-28-145" href="#__codelineno-28-145"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">589</span>.19<span class="w"> </span>qps:<span class="w"> </span><span class="m">11736</span>.22<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8211</span>.87/2329.76/1194.58<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">320</span>.17<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-146"><a id="__codelineno-28-146" name="__codelineno-28-146" href="#__codelineno-28-146"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">610</span>.91<span class="w"> </span>qps:<span class="w"> </span><span class="m">12240</span>.69<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8574</span>.63/2428.44/1237.62<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">282</span>.25<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-147"><a id="__codelineno-28-147" name="__codelineno-28-147" href="#__codelineno-28-147"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">570</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">11418</span>.01<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7991</span>.91/2271.00/1155.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">308</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-148"><a id="__codelineno-28-148" name="__codelineno-28-148" href="#__codelineno-28-148"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">543</span>.47<span class="w"> </span>qps:<span class="w"> </span><span class="m">10845</span>.10<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7586</span>.78/2158.68/1099.64<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">404</span>.61<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-149"><a id="__codelineno-28-149" name="__codelineno-28-149" href="#__codelineno-28-149"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-150"><a id="__codelineno-28-150" name="__codelineno-28-150" href="#__codelineno-28-150"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-151"><a id="__codelineno-28-151" name="__codelineno-28-151" href="#__codelineno-28-151"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">4876886</span>
</span><span id="__span-28-152"><a id="__codelineno-28-152" name="__codelineno-28-152" href="#__codelineno-28-152"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1384663</span>
</span><span id="__span-28-153"><a id="__codelineno-28-153" name="__codelineno-28-153" href="#__codelineno-28-153"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">705431</span>
</span><span id="__span-28-154"><a id="__codelineno-28-154" name="__codelineno-28-154" href="#__codelineno-28-154"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">6966980</span>
</span><span id="__span-28-155"><a id="__codelineno-28-155" name="__codelineno-28-155" href="#__codelineno-28-155"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">348349</span><span class="w"> </span><span class="o">(</span><span class="m">580</span>.43<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-156"><a id="__codelineno-28-156" name="__codelineno-28-156" href="#__codelineno-28-156"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">6966980</span><span class="w"> </span><span class="o">(</span><span class="m">11608</span>.66<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-157"><a id="__codelineno-28-157" name="__codelineno-28-157" href="#__codelineno-28-157"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-158"><a id="__codelineno-28-158" name="__codelineno-28-158" href="#__codelineno-28-158"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-159"><a id="__codelineno-28-159" name="__codelineno-28-159" href="#__codelineno-28-159"></a>
</span><span id="__span-28-160"><a id="__codelineno-28-160" name="__codelineno-28-160" href="#__codelineno-28-160"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-161"><a id="__codelineno-28-161" name="__codelineno-28-161" href="#__codelineno-28-161"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1523s
</span><span id="__span-28-162"><a id="__codelineno-28-162" name="__codelineno-28-162" href="#__codelineno-28-162"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">348349</span>
</span><span id="__span-28-163"><a id="__codelineno-28-163" name="__codelineno-28-163" href="#__codelineno-28-163"></a>
</span><span id="__span-28-164"><a id="__codelineno-28-164" name="__codelineno-28-164" href="#__codelineno-28-164"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-165"><a id="__codelineno-28-165" name="__codelineno-28-165" href="#__codelineno-28-165"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">21</span>.36
</span><span id="__span-28-166"><a id="__codelineno-28-166" name="__codelineno-28-166" href="#__codelineno-28-166"></a><span class="w">         </span>avg:<span class="w">                                  </span><span class="m">220</span>.50
</span><span id="__span-28-167"><a id="__codelineno-28-167" name="__codelineno-28-167" href="#__codelineno-28-167"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1633</span>.75
</span><span id="__span-28-168"><a id="__codelineno-28-168" name="__codelineno-28-168" href="#__codelineno-28-168"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">325</span>.98
</span><span id="__span-28-169"><a id="__codelineno-28-169" name="__codelineno-28-169" href="#__codelineno-28-169"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76810380</span>.95
</span><span id="__span-28-170"><a id="__codelineno-28-170" name="__codelineno-28-170" href="#__codelineno-28-170"></a>
</span><span id="__span-28-171"><a id="__codelineno-28-171" name="__codelineno-28-171" href="#__codelineno-28-171"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-172"><a id="__codelineno-28-172" name="__codelineno-28-172" href="#__codelineno-28-172"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">2721</span>.4766/12.10
</span><span id="__span-28-173"><a id="__codelineno-28-173" name="__codelineno-28-173" href="#__codelineno-28-173"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0811/0.03
</span><span id="__span-28-174"><a id="__codelineno-28-174" name="__codelineno-28-174" href="#__codelineno-28-174"></a>
</span><span id="__span-28-175"><a id="__codelineno-28-175" name="__codelineno-28-175" href="#__codelineno-28-175"></a><span class="c1"># select insert 256线程　10分钟</span>
</span><span id="__span-28-176"><a id="__codelineno-28-176" name="__codelineno-28-176" href="#__codelineno-28-176"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-28-177"><a id="__codelineno-28-177" name="__codelineno-28-177" href="#__codelineno-28-177"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_read_write<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-28-178"><a id="__codelineno-28-178" name="__codelineno-28-178" href="#__codelineno-28-178"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">481</span>.34<span class="w"> </span>qps:<span class="w"> </span><span class="m">9985</span>.82<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">7030</span>.71/1956.00/999.11<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">1327</span>.91<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-179"><a id="__codelineno-28-179" name="__codelineno-28-179" href="#__codelineno-28-179"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">601</span>.64<span class="w"> </span>qps:<span class="w"> </span><span class="m">11971</span>.39<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8379</span>.42/2375.18/1216.79<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">590</span>.56<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-180"><a id="__codelineno-28-180" name="__codelineno-28-180" href="#__codelineno-28-180"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">626</span>.57<span class="w"> </span>qps:<span class="w"> </span><span class="m">12537</span>.25<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8779</span>.05/2488.98/1269.23<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">601</span>.29<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-181"><a id="__codelineno-28-181" name="__codelineno-28-181" href="#__codelineno-28-181"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">605</span>.78<span class="w"> </span>qps:<span class="w"> </span><span class="m">12177</span>.38<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8511</span>.77/2438.34/1227.27<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">634</span>.66<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-182"><a id="__codelineno-28-182" name="__codelineno-28-182" href="#__codelineno-28-182"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">575</span>.83<span class="w"> </span>qps:<span class="w"> </span><span class="m">11480</span>.88<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8046</span>.78/2268.63/1165.47<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">707</span>.07<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-183"><a id="__codelineno-28-183" name="__codelineno-28-183" href="#__codelineno-28-183"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">603</span>.38<span class="w"> </span>qps:<span class="w"> </span><span class="m">12011</span>.43<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">8397</span>.97/2393.81/1219.65<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">612</span>.21<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-28-184"><a id="__codelineno-28-184" name="__codelineno-28-184" href="#__codelineno-28-184"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-28-185"><a id="__codelineno-28-185" name="__codelineno-28-185" href="#__codelineno-28-185"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-28-186"><a id="__codelineno-28-186" name="__codelineno-28-186" href="#__codelineno-28-186"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">5317970</span>
</span><span id="__span-28-187"><a id="__codelineno-28-187" name="__codelineno-28-187" href="#__codelineno-28-187"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1510266</span>
</span><span id="__span-28-188"><a id="__codelineno-28-188" name="__codelineno-28-188" href="#__codelineno-28-188"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">768864</span>
</span><span id="__span-28-189"><a id="__codelineno-28-189" name="__codelineno-28-189" href="#__codelineno-28-189"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">7597100</span>
</span><span id="__span-28-190"><a id="__codelineno-28-190" name="__codelineno-28-190" href="#__codelineno-28-190"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">379855</span><span class="w"> </span><span class="o">(</span><span class="m">632</span>.73<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-191"><a id="__codelineno-28-191" name="__codelineno-28-191" href="#__codelineno-28-191"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">7597100</span><span class="w"> </span><span class="o">(</span><span class="m">12654</span>.61<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-192"><a id="__codelineno-28-192" name="__codelineno-28-192" href="#__codelineno-28-192"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-193"><a id="__codelineno-28-193" name="__codelineno-28-193" href="#__codelineno-28-193"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-28-194"><a id="__codelineno-28-194" name="__codelineno-28-194" href="#__codelineno-28-194"></a>
</span><span id="__span-28-195"><a id="__codelineno-28-195" name="__codelineno-28-195" href="#__codelineno-28-195"></a>General<span class="w"> </span>statistics:
</span><span id="__span-28-196"><a id="__codelineno-28-196" name="__codelineno-28-196" href="#__codelineno-28-196"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.3413s
</span><span id="__span-28-197"><a id="__codelineno-28-197" name="__codelineno-28-197" href="#__codelineno-28-197"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">379855</span>
</span><span id="__span-28-198"><a id="__codelineno-28-198" name="__codelineno-28-198" href="#__codelineno-28-198"></a>
</span><span id="__span-28-199"><a id="__codelineno-28-199" name="__codelineno-28-199" href="#__codelineno-28-199"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-28-200"><a id="__codelineno-28-200" name="__codelineno-28-200" href="#__codelineno-28-200"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">22</span>.27
</span><span id="__span-28-201"><a id="__codelineno-28-201" name="__codelineno-28-201" href="#__codelineno-28-201"></a><span class="w">         </span>avg:<span class="w">                                  </span><span class="m">404</span>.48
</span><span id="__span-28-202"><a id="__codelineno-28-202" name="__codelineno-28-202" href="#__codelineno-28-202"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2959</span>.56
</span><span id="__span-28-203"><a id="__codelineno-28-203" name="__codelineno-28-203" href="#__codelineno-28-203"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">580</span>.02
</span><span id="__span-28-204"><a id="__codelineno-28-204" name="__codelineno-28-204" href="#__codelineno-28-204"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153642558</span>.00
</span><span id="__span-28-205"><a id="__codelineno-28-205" name="__codelineno-28-205" href="#__codelineno-28-205"></a>
</span><span id="__span-28-206"><a id="__codelineno-28-206" name="__codelineno-28-206" href="#__codelineno-28-206"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-28-207"><a id="__codelineno-28-207" name="__codelineno-28-207" href="#__codelineno-28-207"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">1483</span>.8086/7.28
</span><span id="__span-28-208"><a id="__codelineno-28-208" name="__codelineno-28-208" href="#__codelineno-28-208"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.1662/0.09
</span></code></pre></div>
<h5 id="_15">更新操作不通过索引列</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># select insert 8线程　10分钟</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1022</span>.25<span class="w"> </span>qps:<span class="w"> </span><span class="m">1022</span>.25<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1013.55/8.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">11</span>.04<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1022</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">1022</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1015.90/7.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1051</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">1051</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1044.10/7.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.27<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1059</span>.20<span class="w"> </span>qps:<span class="w"> </span><span class="m">1059</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1050.70/8.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">994</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">994</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/985.90/8.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.27<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1067</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">1067</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1058.10/8.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">577971</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">4621</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">582592</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">582592</span><span class="w"> </span><span class="o">(</span><span class="m">970</span>.97<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">582592</span><span class="w"> </span><span class="o">(</span><span class="m">970</span>.97<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0085s
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">582592</span>
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.38
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">8</span>.24
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">588</span>.56
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">12</span>.52
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4799235</span>.71
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">72824</span>.0000/62.01
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9045/0.00
</span><span id="__span-29-35"><a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a>
</span><span id="__span-29-36"><a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="c1"># select insert 16线程　10分钟</span>
</span><span id="__span-29-37"><a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-38"><a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-39"><a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1894</span>.52<span class="w"> </span>qps:<span class="w"> </span><span class="m">1894</span>.52<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1878.92/15.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.30<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-40"><a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1848</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">1848</span>.30<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1833.90/14.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">11</span>.45<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-41"><a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1949</span>.59<span class="w"> </span>qps:<span class="w"> </span><span class="m">1949</span>.59<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1933.69/15.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-42"><a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1944</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">1944</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1929.80/15.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">10</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-43"><a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1871</span>.71<span class="w"> </span>qps:<span class="w"> </span><span class="m">1871</span>.71<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1857.21/14.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">11</span>.45<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-44"><a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1762</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">1762</span>.30<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1748.40/13.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">11</span>.45<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-45"><a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-46"><a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-47"><a id="__codelineno-29-47" name="__codelineno-29-47" href="#__codelineno-29-47"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-48"><a id="__codelineno-29-48" name="__codelineno-29-48" href="#__codelineno-29-48"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1080035</span>
</span><span id="__span-29-49"><a id="__codelineno-29-49" name="__codelineno-29-49" href="#__codelineno-29-49"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">8856</span>
</span><span id="__span-29-50"><a id="__codelineno-29-50" name="__codelineno-29-50" href="#__codelineno-29-50"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1088891</span>
</span><span id="__span-29-51"><a id="__codelineno-29-51" name="__codelineno-29-51" href="#__codelineno-29-51"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">1088891</span><span class="w"> </span><span class="o">(</span><span class="m">1814</span>.79<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-52"><a id="__codelineno-29-52" name="__codelineno-29-52" href="#__codelineno-29-52"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1088891</span><span class="w"> </span><span class="o">(</span><span class="m">1814</span>.79<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-53"><a id="__codelineno-29-53" name="__codelineno-29-53" href="#__codelineno-29-53"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-54"><a id="__codelineno-29-54" name="__codelineno-29-54" href="#__codelineno-29-54"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-55"><a id="__codelineno-29-55" name="__codelineno-29-55" href="#__codelineno-29-55"></a>
</span><span id="__span-29-56"><a id="__codelineno-29-56" name="__codelineno-29-56" href="#__codelineno-29-56"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-57"><a id="__codelineno-29-57" name="__codelineno-29-57" href="#__codelineno-29-57"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0077s
</span><span id="__span-29-58"><a id="__codelineno-29-58" name="__codelineno-29-58" href="#__codelineno-29-58"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">1088891</span>
</span><span id="__span-29-59"><a id="__codelineno-29-59" name="__codelineno-29-59" href="#__codelineno-29-59"></a>
</span><span id="__span-29-60"><a id="__codelineno-29-60" name="__codelineno-29-60" href="#__codelineno-29-60"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-61"><a id="__codelineno-29-61" name="__codelineno-29-61" href="#__codelineno-29-61"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.41
</span><span id="__span-29-62"><a id="__codelineno-29-62" name="__codelineno-29-62" href="#__codelineno-29-62"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">8</span>.82
</span><span id="__span-29-63"><a id="__codelineno-29-63" name="__codelineno-29-63" href="#__codelineno-29-63"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">757</span>.97
</span><span id="__span-29-64"><a id="__codelineno-29-64" name="__codelineno-29-64" href="#__codelineno-29-64"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">13</span>.22
</span><span id="__span-29-65"><a id="__codelineno-29-65" name="__codelineno-29-65" href="#__codelineno-29-65"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9598670</span>.78
</span><span id="__span-29-66"><a id="__codelineno-29-66" name="__codelineno-29-66" href="#__codelineno-29-66"></a>
</span><span id="__span-29-67"><a id="__codelineno-29-67" name="__codelineno-29-67" href="#__codelineno-29-67"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-68"><a id="__codelineno-29-68" name="__codelineno-29-68" href="#__codelineno-29-68"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">68055</span>.6875/61.00
</span><span id="__span-29-69"><a id="__codelineno-29-69" name="__codelineno-29-69" href="#__codelineno-29-69"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9169/0.00
</span><span id="__span-29-70"><a id="__codelineno-29-70" name="__codelineno-29-70" href="#__codelineno-29-70"></a><span class="c1"># select insert 32线程　10分钟</span>
</span><span id="__span-29-71"><a id="__codelineno-29-71" name="__codelineno-29-71" href="#__codelineno-29-71"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-72"><a id="__codelineno-29-72" name="__codelineno-29-72" href="#__codelineno-29-72"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-73"><a id="__codelineno-29-73" name="__codelineno-29-73" href="#__codelineno-29-73"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3248</span>.33<span class="w"> </span>qps:<span class="w"> </span><span class="m">3248</span>.33<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3224.63/23.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-74"><a id="__codelineno-29-74" name="__codelineno-29-74" href="#__codelineno-29-74"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3178</span>.02<span class="w"> </span>qps:<span class="w"> </span><span class="m">3178</span>.02<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3153.52/24.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.98<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-75"><a id="__codelineno-29-75" name="__codelineno-29-75" href="#__codelineno-29-75"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3405</span>.79<span class="w"> </span>qps:<span class="w"> </span><span class="m">3405</span>.79<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3376.89/28.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.52<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-76"><a id="__codelineno-29-76" name="__codelineno-29-76" href="#__codelineno-29-76"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3367</span>.72<span class="w"> </span>qps:<span class="w"> </span><span class="m">3367</span>.72<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3339.32/28.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.52<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-77"><a id="__codelineno-29-77" name="__codelineno-29-77" href="#__codelineno-29-77"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3265</span>.01<span class="w"> </span>qps:<span class="w"> </span><span class="m">3265</span>.01<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3238.41/26.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.22<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-78"><a id="__codelineno-29-78" name="__codelineno-29-78" href="#__codelineno-29-78"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3237</span>.49<span class="w"> </span>qps:<span class="w"> </span><span class="m">3237</span>.49<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3213.79/23.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>.98<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-79"><a id="__codelineno-29-79" name="__codelineno-29-79" href="#__codelineno-29-79"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-80"><a id="__codelineno-29-80" name="__codelineno-29-80" href="#__codelineno-29-80"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-81"><a id="__codelineno-29-81" name="__codelineno-29-81" href="#__codelineno-29-81"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-82"><a id="__codelineno-29-82" name="__codelineno-29-82" href="#__codelineno-29-82"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1957338</span>
</span><span id="__span-29-83"><a id="__codelineno-29-83" name="__codelineno-29-83" href="#__codelineno-29-83"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">15562</span>
</span><span id="__span-29-84"><a id="__codelineno-29-84" name="__codelineno-29-84" href="#__codelineno-29-84"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1957338</span>
</span><span id="__span-29-85"><a id="__codelineno-29-85" name="__codelineno-29-85" href="#__codelineno-29-85"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">1957338</span><span class="w"> </span><span class="o">(</span><span class="m">3262</span>.18<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-86"><a id="__codelineno-29-86" name="__codelineno-29-86" href="#__codelineno-29-86"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1957338</span><span class="w"> </span><span class="o">(</span><span class="m">3262</span>.18<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-87"><a id="__codelineno-29-87" name="__codelineno-29-87" href="#__codelineno-29-87"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-88"><a id="__codelineno-29-88" name="__codelineno-29-88" href="#__codelineno-29-88"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-89"><a id="__codelineno-29-89" name="__codelineno-29-89" href="#__codelineno-29-89"></a>
</span><span id="__span-29-90"><a id="__codelineno-29-90" name="__codelineno-29-90" href="#__codelineno-29-90"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-91"><a id="__codelineno-29-91" name="__codelineno-29-91" href="#__codelineno-29-91"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0078s
</span><span id="__span-29-92"><a id="__codelineno-29-92" name="__codelineno-29-92" href="#__codelineno-29-92"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">1957338</span>
</span><span id="__span-29-93"><a id="__codelineno-29-93" name="__codelineno-29-93" href="#__codelineno-29-93"></a>
</span><span id="__span-29-94"><a id="__codelineno-29-94" name="__codelineno-29-94" href="#__codelineno-29-94"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-95"><a id="__codelineno-29-95" name="__codelineno-29-95" href="#__codelineno-29-95"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.41
</span><span id="__span-29-96"><a id="__codelineno-29-96" name="__codelineno-29-96" href="#__codelineno-29-96"></a><span class="w">         </span>avg:<span class="w">                                    </span><span class="m">9</span>.81
</span><span id="__span-29-97"><a id="__codelineno-29-97" name="__codelineno-29-97" href="#__codelineno-29-97"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">902</span>.52
</span><span id="__span-29-98"><a id="__codelineno-29-98" name="__codelineno-29-98" href="#__codelineno-29-98"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">13</span>.46
</span><span id="__span-29-99"><a id="__codelineno-29-99" name="__codelineno-29-99" href="#__codelineno-29-99"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19197804</span>.63
</span><span id="__span-29-100"><a id="__codelineno-29-100" name="__codelineno-29-100" href="#__codelineno-29-100"></a>
</span><span id="__span-29-101"><a id="__codelineno-29-101" name="__codelineno-29-101" href="#__codelineno-29-101"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-102"><a id="__codelineno-29-102" name="__codelineno-29-102" href="#__codelineno-29-102"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">61166</span>.8125/61.01
</span><span id="__span-29-103"><a id="__codelineno-29-103" name="__codelineno-29-103" href="#__codelineno-29-103"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9314/0.00
</span><span id="__span-29-104"><a id="__codelineno-29-104" name="__codelineno-29-104" href="#__codelineno-29-104"></a><span class="c1"># select insert 64线程　10分钟</span>
</span><span id="__span-29-105"><a id="__codelineno-29-105" name="__codelineno-29-105" href="#__codelineno-29-105"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-106"><a id="__codelineno-29-106" name="__codelineno-29-106" href="#__codelineno-29-106"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-107"><a id="__codelineno-29-107" name="__codelineno-29-107" href="#__codelineno-29-107"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5254</span>.99<span class="w"> </span>qps:<span class="w"> </span><span class="m">5254</span>.99<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5212.31/42.68<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">17</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-108"><a id="__codelineno-29-108" name="__codelineno-29-108" href="#__codelineno-29-108"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5625</span>.60<span class="w"> </span>qps:<span class="w"> </span><span class="m">5625</span>.60<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5581.80/43.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">16</span>.12<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-109"><a id="__codelineno-29-109" name="__codelineno-29-109" href="#__codelineno-29-109"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5203</span>.48<span class="w"> </span>qps:<span class="w"> </span><span class="m">5203</span>.48<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5162.28/41.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">19</span>.29<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-110"><a id="__codelineno-29-110" name="__codelineno-29-110" href="#__codelineno-29-110"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3663</span>.77<span class="w"> </span>qps:<span class="w"> </span><span class="m">3663</span>.77<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3633.67/30.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">33</span>.72<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-111"><a id="__codelineno-29-111" name="__codelineno-29-111" href="#__codelineno-29-111"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5478</span>.25<span class="w"> </span>qps:<span class="w"> </span><span class="m">5478</span>.25<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5434.95/43.30<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">20</span>.00<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-112"><a id="__codelineno-29-112" name="__codelineno-29-112" href="#__codelineno-29-112"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5174</span>.52<span class="w"> </span>qps:<span class="w"> </span><span class="m">5174</span>.52<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5129.92/44.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">17</span>.63<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-113"><a id="__codelineno-29-113" name="__codelineno-29-113" href="#__codelineno-29-113"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-114"><a id="__codelineno-29-114" name="__codelineno-29-114" href="#__codelineno-29-114"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-115"><a id="__codelineno-29-115" name="__codelineno-29-115" href="#__codelineno-29-115"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-116"><a id="__codelineno-29-116" name="__codelineno-29-116" href="#__codelineno-29-116"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">3042486</span>
</span><span id="__span-29-117"><a id="__codelineno-29-117" name="__codelineno-29-117" href="#__codelineno-29-117"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">24646</span>
</span><span id="__span-29-118"><a id="__codelineno-29-118" name="__codelineno-29-118" href="#__codelineno-29-118"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3067132</span>
</span><span id="__span-29-119"><a id="__codelineno-29-119" name="__codelineno-29-119" href="#__codelineno-29-119"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">3067132</span><span class="w"> </span><span class="o">(</span><span class="m">5111</span>.78<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-120"><a id="__codelineno-29-120" name="__codelineno-29-120" href="#__codelineno-29-120"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3067132</span><span class="w"> </span><span class="o">(</span><span class="m">5111</span>.78<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-121"><a id="__codelineno-29-121" name="__codelineno-29-121" href="#__codelineno-29-121"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-122"><a id="__codelineno-29-122" name="__codelineno-29-122" href="#__codelineno-29-122"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-123"><a id="__codelineno-29-123" name="__codelineno-29-123" href="#__codelineno-29-123"></a>
</span><span id="__span-29-124"><a id="__codelineno-29-124" name="__codelineno-29-124" href="#__codelineno-29-124"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-125"><a id="__codelineno-29-125" name="__codelineno-29-125" href="#__codelineno-29-125"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0115s
</span><span id="__span-29-126"><a id="__codelineno-29-126" name="__codelineno-29-126" href="#__codelineno-29-126"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">3067132</span>
</span><span id="__span-29-127"><a id="__codelineno-29-127" name="__codelineno-29-127" href="#__codelineno-29-127"></a>
</span><span id="__span-29-128"><a id="__codelineno-29-128" name="__codelineno-29-128" href="#__codelineno-29-128"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-129"><a id="__codelineno-29-129" name="__codelineno-29-129" href="#__codelineno-29-129"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.41
</span><span id="__span-29-130"><a id="__codelineno-29-130" name="__codelineno-29-130" href="#__codelineno-29-130"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">12</span>.52
</span><span id="__span-29-131"><a id="__codelineno-29-131" name="__codelineno-29-131" href="#__codelineno-29-131"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1070</span>.55
</span><span id="__span-29-132"><a id="__codelineno-29-132" name="__codelineno-29-132" href="#__codelineno-29-132"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">18</span>.95
</span><span id="__span-29-133"><a id="__codelineno-29-133" name="__codelineno-29-133" href="#__codelineno-29-133"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38396613</span>.65
</span><span id="__span-29-134"><a id="__codelineno-29-134" name="__codelineno-29-134" href="#__codelineno-29-134"></a>
</span><span id="__span-29-135"><a id="__codelineno-29-135" name="__codelineno-29-135" href="#__codelineno-29-135"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-136"><a id="__codelineno-29-136" name="__codelineno-29-136" href="#__codelineno-29-136"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">47923</span>.9375/58.56
</span><span id="__span-29-137"><a id="__codelineno-29-137" name="__codelineno-29-137" href="#__codelineno-29-137"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9471/0.00
</span><span id="__span-29-138"><a id="__codelineno-29-138" name="__codelineno-29-138" href="#__codelineno-29-138"></a><span class="c1"># select insert 128线程　10分钟</span>
</span><span id="__span-29-139"><a id="__codelineno-29-139" name="__codelineno-29-139" href="#__codelineno-29-139"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-140"><a id="__codelineno-29-140" name="__codelineno-29-140" href="#__codelineno-29-140"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-141"><a id="__codelineno-29-141" name="__codelineno-29-141" href="#__codelineno-29-141"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">7684</span>.84<span class="w"> </span>qps:<span class="w"> </span><span class="m">7684</span>.84<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/7622.50/62.35<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">27</span>.66<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-142"><a id="__codelineno-29-142" name="__codelineno-29-142" href="#__codelineno-29-142"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">7721</span>.65<span class="w"> </span>qps:<span class="w"> </span><span class="m">7721</span>.65<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/7660.55/61.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">27</span>.17<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-143"><a id="__codelineno-29-143" name="__codelineno-29-143" href="#__codelineno-29-143"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">8408</span>.18<span class="w"> </span>qps:<span class="w"> </span><span class="m">8408</span>.18<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/8343.68/64.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">25</span>.74<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-144"><a id="__codelineno-29-144" name="__codelineno-29-144" href="#__codelineno-29-144"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">7419</span>.08<span class="w"> </span>qps:<span class="w"> </span><span class="m">7419</span>.08<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/7358.58/60.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">31</span>.37<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-145"><a id="__codelineno-29-145" name="__codelineno-29-145" href="#__codelineno-29-145"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">5580</span>.22<span class="w"> </span>qps:<span class="w"> </span><span class="m">5580</span>.22<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5537.53/42.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">51</span>.02<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-146"><a id="__codelineno-29-146" name="__codelineno-29-146" href="#__codelineno-29-146"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6943</span>.18<span class="w"> </span>qps:<span class="w"> </span><span class="m">6943</span>.18<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6883.98/59.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">41</span>.10<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-147"><a id="__codelineno-29-147" name="__codelineno-29-147" href="#__codelineno-29-147"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-148"><a id="__codelineno-29-148" name="__codelineno-29-148" href="#__codelineno-29-148"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-149"><a id="__codelineno-29-149" name="__codelineno-29-149" href="#__codelineno-29-149"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-150"><a id="__codelineno-29-150" name="__codelineno-29-150" href="#__codelineno-29-150"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">4387663</span>
</span><span id="__span-29-151"><a id="__codelineno-29-151" name="__codelineno-29-151" href="#__codelineno-29-151"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">35553</span>
</span><span id="__span-29-152"><a id="__codelineno-29-152" name="__codelineno-29-152" href="#__codelineno-29-152"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">4423216</span>
</span><span id="__span-29-153"><a id="__codelineno-29-153" name="__codelineno-29-153" href="#__codelineno-29-153"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">4423216</span><span class="w"> </span><span class="o">(</span><span class="m">7371</span>.75<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-154"><a id="__codelineno-29-154" name="__codelineno-29-154" href="#__codelineno-29-154"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">4423216</span><span class="w"> </span><span class="o">(</span><span class="m">7371</span>.75<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-155"><a id="__codelineno-29-155" name="__codelineno-29-155" href="#__codelineno-29-155"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-156"><a id="__codelineno-29-156" name="__codelineno-29-156" href="#__codelineno-29-156"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-157"><a id="__codelineno-29-157" name="__codelineno-29-157" href="#__codelineno-29-157"></a>
</span><span id="__span-29-158"><a id="__codelineno-29-158" name="__codelineno-29-158" href="#__codelineno-29-158"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-159"><a id="__codelineno-29-159" name="__codelineno-29-159" href="#__codelineno-29-159"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0212s
</span><span id="__span-29-160"><a id="__codelineno-29-160" name="__codelineno-29-160" href="#__codelineno-29-160"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">4423216</span>
</span><span id="__span-29-161"><a id="__codelineno-29-161" name="__codelineno-29-161" href="#__codelineno-29-161"></a>
</span><span id="__span-29-162"><a id="__codelineno-29-162" name="__codelineno-29-162" href="#__codelineno-29-162"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-163"><a id="__codelineno-29-163" name="__codelineno-29-163" href="#__codelineno-29-163"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.43
</span><span id="__span-29-164"><a id="__codelineno-29-164" name="__codelineno-29-164" href="#__codelineno-29-164"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">17</span>.36
</span><span id="__span-29-165"><a id="__codelineno-29-165" name="__codelineno-29-165" href="#__codelineno-29-165"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">809</span>.63
</span><span id="__span-29-166"><a id="__codelineno-29-166" name="__codelineno-29-166" href="#__codelineno-29-166"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">32</span>.53
</span><span id="__span-29-167"><a id="__codelineno-29-167" name="__codelineno-29-167" href="#__codelineno-29-167"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76796124</span>.53
</span><span id="__span-29-168"><a id="__codelineno-29-168" name="__codelineno-29-168" href="#__codelineno-29-168"></a>
</span><span id="__span-29-169"><a id="__codelineno-29-169" name="__codelineno-29-169" href="#__codelineno-29-169"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-170"><a id="__codelineno-29-170" name="__codelineno-29-170" href="#__codelineno-29-170"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">34556</span>.3750/76.45
</span><span id="__span-29-171"><a id="__codelineno-29-171" name="__codelineno-29-171" href="#__codelineno-29-171"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9697/0.01
</span><span id="__span-29-172"><a id="__codelineno-29-172" name="__codelineno-29-172" href="#__codelineno-29-172"></a><span class="c1"># select insert 256线程　10分钟</span>
</span><span id="__span-29-173"><a id="__codelineno-29-173" name="__codelineno-29-173" href="#__codelineno-29-173"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-29-174"><a id="__codelineno-29-174" name="__codelineno-29-174" href="#__codelineno-29-174"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_update_non_index<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-29-175"><a id="__codelineno-29-175" name="__codelineno-29-175" href="#__codelineno-29-175"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10767</span>.47<span class="w"> </span>qps:<span class="w"> </span><span class="m">10767</span>.57<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/10679.60/87.97<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">44</span>.98<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-176"><a id="__codelineno-29-176" name="__codelineno-29-176" href="#__codelineno-29-176"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9622</span>.65<span class="w"> </span>qps:<span class="w"> </span><span class="m">9622</span>.55<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/9538.56/84.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">49</span>.21<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-177"><a id="__codelineno-29-177" name="__codelineno-29-177" href="#__codelineno-29-177"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9375</span>.97<span class="w"> </span>qps:<span class="w"> </span><span class="m">9375</span>.97<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/9301.17/74.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">52</span>.89<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-178"><a id="__codelineno-29-178" name="__codelineno-29-178" href="#__codelineno-29-178"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10087</span>.61<span class="w"> </span>qps:<span class="w"> </span><span class="m">10087</span>.61<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/10003.91/83.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">54</span>.83<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-179"><a id="__codelineno-29-179" name="__codelineno-29-179" href="#__codelineno-29-179"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9808</span>.50<span class="w"> </span>qps:<span class="w"> </span><span class="m">9808</span>.50<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/9731.70/76.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">51</span>.02<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-180"><a id="__codelineno-29-180" name="__codelineno-29-180" href="#__codelineno-29-180"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">10201</span>.78<span class="w"> </span>qps:<span class="w"> </span><span class="m">10201</span>.78<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/10119.98/81.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">53</span>.85<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-29-181"><a id="__codelineno-29-181" name="__codelineno-29-181" href="#__codelineno-29-181"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-29-182"><a id="__codelineno-29-182" name="__codelineno-29-182" href="#__codelineno-29-182"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-29-183"><a id="__codelineno-29-183" name="__codelineno-29-183" href="#__codelineno-29-183"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-29-184"><a id="__codelineno-29-184" name="__codelineno-29-184" href="#__codelineno-29-184"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">5666278</span>
</span><span id="__span-29-185"><a id="__codelineno-29-185" name="__codelineno-29-185" href="#__codelineno-29-185"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">45899</span>
</span><span id="__span-29-186"><a id="__codelineno-29-186" name="__codelineno-29-186" href="#__codelineno-29-186"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">5712177</span>
</span><span id="__span-29-187"><a id="__codelineno-29-187" name="__codelineno-29-187" href="#__codelineno-29-187"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">5712177</span><span class="w"> </span><span class="o">(</span><span class="m">9519</span>.67<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-188"><a id="__codelineno-29-188" name="__codelineno-29-188" href="#__codelineno-29-188"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">5712177</span><span class="w"> </span><span class="o">(</span><span class="m">9519</span>.67<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-189"><a id="__codelineno-29-189" name="__codelineno-29-189" href="#__codelineno-29-189"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-190"><a id="__codelineno-29-190" name="__codelineno-29-190" href="#__codelineno-29-190"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-29-191"><a id="__codelineno-29-191" name="__codelineno-29-191" href="#__codelineno-29-191"></a>
</span><span id="__span-29-192"><a id="__codelineno-29-192" name="__codelineno-29-192" href="#__codelineno-29-192"></a>General<span class="w"> </span>statistics:
</span><span id="__span-29-193"><a id="__codelineno-29-193" name="__codelineno-29-193" href="#__codelineno-29-193"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0379s
</span><span id="__span-29-194"><a id="__codelineno-29-194" name="__codelineno-29-194" href="#__codelineno-29-194"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">5712177</span>
</span><span id="__span-29-195"><a id="__codelineno-29-195" name="__codelineno-29-195" href="#__codelineno-29-195"></a>
</span><span id="__span-29-196"><a id="__codelineno-29-196" name="__codelineno-29-196" href="#__codelineno-29-196"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-29-197"><a id="__codelineno-29-197" name="__codelineno-29-197" href="#__codelineno-29-197"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.47
</span><span id="__span-29-198"><a id="__codelineno-29-198" name="__codelineno-29-198" href="#__codelineno-29-198"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">26</span>.89
</span><span id="__span-29-199"><a id="__codelineno-29-199" name="__codelineno-29-199" href="#__codelineno-29-199"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1339</span>.52
</span><span id="__span-29-200"><a id="__codelineno-29-200" name="__codelineno-29-200" href="#__codelineno-29-200"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">55</span>.82
</span><span id="__span-29-201"><a id="__codelineno-29-201" name="__codelineno-29-201" href="#__codelineno-29-201"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153596923</span>.52
</span><span id="__span-29-202"><a id="__codelineno-29-202" name="__codelineno-29-202" href="#__codelineno-29-202"></a>
</span><span id="__span-29-203"><a id="__codelineno-29-203" name="__codelineno-29-203" href="#__codelineno-29-203"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-29-204"><a id="__codelineno-29-204" name="__codelineno-29-204" href="#__codelineno-29-204"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">22313</span>.1914/73.30
</span><span id="__span-29-205"><a id="__codelineno-29-205" name="__codelineno-29-205" href="#__codelineno-29-205"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9880/0.01
</span></code></pre></div>
<h5 id="_16">只写入测试</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># select insert 8线程　10分钟</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">383</span>.63<span class="w"> </span>qps:<span class="w"> </span><span class="m">2303</span>.99<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1526.03/777.96<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">26</span>.20<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">362</span>.21<span class="w"> </span>qps:<span class="w"> </span><span class="m">2173</span>.16<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1441.24/731.92<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">27</span>.17<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">394</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">2369</span>.40<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1570.70/798.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">26</span>.20<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">397</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">2384</span>.51<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1579.81/804.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">25</span>.74<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">395</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">2371</span>.51<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1570.11/801.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">25</span>.74<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">384</span>.20<span class="w"> </span>qps:<span class="w"> </span><span class="m">2305</span>.99<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1529.09/776.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">26</span>.20<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">710760</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">361812</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1072572</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">178762</span><span class="w"> </span><span class="o">(</span><span class="m">297</span>.90<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1072572</span><span class="w"> </span><span class="o">(</span><span class="m">1787</span>.37<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-20"><a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a>
</span><span id="__span-30-21"><a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-22"><a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0819s
</span><span id="__span-30-23"><a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">178762</span>
</span><span id="__span-30-24"><a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a>
</span><span id="__span-30-25"><a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-26"><a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">11</span>.69
</span><span id="__span-30-27"><a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">26</span>.85
</span><span id="__span-30-28"><a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1572</span>.86
</span><span id="__span-30-29"><a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">41</span>.85
</span><span id="__span-30-30"><a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4799929</span>.32
</span><span id="__span-30-31"><a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a>
</span><span id="__span-30-32"><a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-33"><a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">22345</span>.2500/21.72
</span><span id="__span-30-34"><a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9912/0.02
</span><span id="__span-30-35"><a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a><span class="c1"># select insert 16线程　10分钟</span>
</span><span id="__span-30-36"><a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-37"><a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-38"><a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">576</span>.19<span class="w"> </span>qps:<span class="w"> </span><span class="m">3462</span>.96<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2294.47/1168.48<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">33</span>.72<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-39"><a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">565</span>.92<span class="w"> </span>qps:<span class="w"> </span><span class="m">3394</span>.51<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2248.58/1145.94<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">34</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-40"><a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">554</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">3326</span>.81<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2204.10/1122.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">38</span>.25<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-41"><a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">517</span>.70<span class="w"> </span>qps:<span class="w"> </span><span class="m">3105</span>.10<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2055.60/1049.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">40</span>.37<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-42"><a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">543</span>.60<span class="w"> </span>qps:<span class="w"> </span><span class="m">3264</span>.38<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2163.99/1100.39<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">37</span>.56<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-43"><a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">599</span>.00<span class="w"> </span>qps:<span class="w"> </span><span class="m">3592</span>.12<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2382.41/1209.71<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">36</span>.24<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-44"><a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-45"><a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-46"><a id="__codelineno-30-46" name="__codelineno-30-46" href="#__codelineno-30-46"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-47"><a id="__codelineno-30-47" name="__codelineno-30-47" href="#__codelineno-30-47"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1056694</span>
</span><span id="__span-30-48"><a id="__codelineno-30-48" name="__codelineno-30-48" href="#__codelineno-30-48"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">537968</span>
</span><span id="__span-30-49"><a id="__codelineno-30-49" name="__codelineno-30-49" href="#__codelineno-30-49"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1594662</span>
</span><span id="__span-30-50"><a id="__codelineno-30-50" name="__codelineno-30-50" href="#__codelineno-30-50"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">265777</span><span class="w"> </span><span class="o">(</span><span class="m">442</span>.93<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-51"><a id="__codelineno-30-51" name="__codelineno-30-51" href="#__codelineno-30-51"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1594662</span><span class="w"> </span><span class="o">(</span><span class="m">2657</span>.57<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-52"><a id="__codelineno-30-52" name="__codelineno-30-52" href="#__codelineno-30-52"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-53"><a id="__codelineno-30-53" name="__codelineno-30-53" href="#__codelineno-30-53"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-54"><a id="__codelineno-30-54" name="__codelineno-30-54" href="#__codelineno-30-54"></a>
</span><span id="__span-30-55"><a id="__codelineno-30-55" name="__codelineno-30-55" href="#__codelineno-30-55"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-56"><a id="__codelineno-30-56" name="__codelineno-30-56" href="#__codelineno-30-56"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0444s
</span><span id="__span-30-57"><a id="__codelineno-30-57" name="__codelineno-30-57" href="#__codelineno-30-57"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">265777</span>
</span><span id="__span-30-58"><a id="__codelineno-30-58" name="__codelineno-30-58" href="#__codelineno-30-58"></a>
</span><span id="__span-30-59"><a id="__codelineno-30-59" name="__codelineno-30-59" href="#__codelineno-30-59"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-60"><a id="__codelineno-30-60" name="__codelineno-30-60" href="#__codelineno-30-60"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">9</span>.65
</span><span id="__span-30-61"><a id="__codelineno-30-61" name="__codelineno-30-61" href="#__codelineno-30-61"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">36</span>.12
</span><span id="__span-30-62"><a id="__codelineno-30-62" name="__codelineno-30-62" href="#__codelineno-30-62"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1488</span>.15
</span><span id="__span-30-63"><a id="__codelineno-30-63" name="__codelineno-30-63" href="#__codelineno-30-63"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">75</span>.82
</span><span id="__span-30-64"><a id="__codelineno-30-64" name="__codelineno-30-64" href="#__codelineno-30-64"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9599571</span>.75
</span><span id="__span-30-65"><a id="__codelineno-30-65" name="__codelineno-30-65" href="#__codelineno-30-65"></a>
</span><span id="__span-30-66"><a id="__codelineno-30-66" name="__codelineno-30-66" href="#__codelineno-30-66"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-67"><a id="__codelineno-30-67" name="__codelineno-30-67" href="#__codelineno-30-67"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">16611</span>.0625/27.35
</span><span id="__span-30-68"><a id="__codelineno-30-68" name="__codelineno-30-68" href="#__codelineno-30-68"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9732/0.01
</span><span id="__span-30-69"><a id="__codelineno-30-69" name="__codelineno-30-69" href="#__codelineno-30-69"></a><span class="c1"># select insert 32线程　10分钟</span>
</span><span id="__span-30-70"><a id="__codelineno-30-70" name="__codelineno-30-70" href="#__codelineno-30-70"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-71"><a id="__codelineno-30-71" name="__codelineno-30-71" href="#__codelineno-30-71"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-72"><a id="__codelineno-30-72" name="__codelineno-30-72" href="#__codelineno-30-72"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">859</span>.62<span class="w"> </span>qps:<span class="w"> </span><span class="m">5170</span>.24<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3428.50/1741.74<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">45</span>.79<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-73"><a id="__codelineno-30-73" name="__codelineno-30-73" href="#__codelineno-30-73"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">885</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">5307</span>.11<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3514.91/1792.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">45</span>.79<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-74"><a id="__codelineno-30-74" name="__codelineno-30-74" href="#__codelineno-30-74"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">799</span>.70<span class="w"> </span>qps:<span class="w"> </span><span class="m">4799</span>.20<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3182.60/1616.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">51</span>.02<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-75"><a id="__codelineno-30-75" name="__codelineno-30-75" href="#__codelineno-30-75"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">868</span>.30<span class="w"> </span>qps:<span class="w"> </span><span class="m">5211</span>.60<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3455.90/1755.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">48</span>.34<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-76"><a id="__codelineno-30-76" name="__codelineno-30-76" href="#__codelineno-30-76"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">818</span>.26<span class="w"> </span>qps:<span class="w"> </span><span class="m">4908</span>.36<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3254.14/1654.22<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">53</span>.85<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-77"><a id="__codelineno-30-77" name="__codelineno-30-77" href="#__codelineno-30-77"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">753</span>.32<span class="w"> </span>qps:<span class="w"> </span><span class="m">4520</span>.79<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2996.16/1524.63<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">56</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-78"><a id="__codelineno-30-78" name="__codelineno-30-78" href="#__codelineno-30-78"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-79"><a id="__codelineno-30-79" name="__codelineno-30-79" href="#__codelineno-30-79"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-80"><a id="__codelineno-30-80" name="__codelineno-30-80" href="#__codelineno-30-80"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-81"><a id="__codelineno-30-81" name="__codelineno-30-81" href="#__codelineno-30-81"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1971854</span>
</span><span id="__span-30-82"><a id="__codelineno-30-82" name="__codelineno-30-82" href="#__codelineno-30-82"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">1003240</span>
</span><span id="__span-30-83"><a id="__codelineno-30-83" name="__codelineno-30-83" href="#__codelineno-30-83"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">2975094</span>
</span><span id="__span-30-84"><a id="__codelineno-30-84" name="__codelineno-30-84" href="#__codelineno-30-84"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">495849</span><span class="w"> </span><span class="o">(</span><span class="m">826</span>.37<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-85"><a id="__codelineno-30-85" name="__codelineno-30-85" href="#__codelineno-30-85"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">2975094</span><span class="w"> </span><span class="o">(</span><span class="m">4958</span>.20<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-86"><a id="__codelineno-30-86" name="__codelineno-30-86" href="#__codelineno-30-86"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-87"><a id="__codelineno-30-87" name="__codelineno-30-87" href="#__codelineno-30-87"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-88"><a id="__codelineno-30-88" name="__codelineno-30-88" href="#__codelineno-30-88"></a>
</span><span id="__span-30-89"><a id="__codelineno-30-89" name="__codelineno-30-89" href="#__codelineno-30-89"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-90"><a id="__codelineno-30-90" name="__codelineno-30-90" href="#__codelineno-30-90"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0342s
</span><span id="__span-30-91"><a id="__codelineno-30-91" name="__codelineno-30-91" href="#__codelineno-30-91"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">495849</span>
</span><span id="__span-30-92"><a id="__codelineno-30-92" name="__codelineno-30-92" href="#__codelineno-30-92"></a>
</span><span id="__span-30-93"><a id="__codelineno-30-93" name="__codelineno-30-93" href="#__codelineno-30-93"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-94"><a id="__codelineno-30-94" name="__codelineno-30-94" href="#__codelineno-30-94"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">12</span>.46
</span><span id="__span-30-95"><a id="__codelineno-30-95" name="__codelineno-30-95" href="#__codelineno-30-95"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">38</span>.72
</span><span id="__span-30-96"><a id="__codelineno-30-96" name="__codelineno-30-96" href="#__codelineno-30-96"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1465</span>.32
</span><span id="__span-30-97"><a id="__codelineno-30-97" name="__codelineno-30-97" href="#__codelineno-30-97"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">61</span>.08
</span><span id="__span-30-98"><a id="__codelineno-30-98" name="__codelineno-30-98" href="#__codelineno-30-98"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19199052</span>.08
</span><span id="__span-30-99"><a id="__codelineno-30-99" name="__codelineno-30-99" href="#__codelineno-30-99"></a>
</span><span id="__span-30-100"><a id="__codelineno-30-100" name="__codelineno-30-100" href="#__codelineno-30-100"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-101"><a id="__codelineno-30-101" name="__codelineno-30-101" href="#__codelineno-30-101"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">15495</span>.2812/20.61
</span><span id="__span-30-102"><a id="__codelineno-30-102" name="__codelineno-30-102" href="#__codelineno-30-102"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9704/0.01
</span><span id="__span-30-103"><a id="__codelineno-30-103" name="__codelineno-30-103" href="#__codelineno-30-103"></a><span class="c1"># select insert 64线程　10分钟</span>
</span><span id="__span-30-104"><a id="__codelineno-30-104" name="__codelineno-30-104" href="#__codelineno-30-104"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-105"><a id="__codelineno-30-105" name="__codelineno-30-105" href="#__codelineno-30-105"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-106"><a id="__codelineno-30-106" name="__codelineno-30-106" href="#__codelineno-30-106"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1093</span>.67<span class="w"> </span>qps:<span class="w"> </span><span class="m">6581</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4362.47/2218.62<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">81</span>.48<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-107"><a id="__codelineno-30-107" name="__codelineno-30-107" href="#__codelineno-30-107"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1178</span>.65<span class="w"> </span>qps:<span class="w"> </span><span class="m">7073</span>.00<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4689.40/2383.60<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">81</span>.48<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-108"><a id="__codelineno-30-108" name="__codelineno-30-108" href="#__codelineno-30-108"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1192</span>.91<span class="w"> </span>qps:<span class="w"> </span><span class="m">7155</span>.27<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4743.05/2412.22<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">78</span>.60<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-109"><a id="__codelineno-30-109" name="__codelineno-30-109" href="#__codelineno-30-109"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1112</span>.55<span class="w"> </span>qps:<span class="w"> </span><span class="m">6676</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4427.20/2248.88<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">97</span>.55<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-110"><a id="__codelineno-30-110" name="__codelineno-30-110" href="#__codelineno-30-110"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1235</span>.21<span class="w"> </span>qps:<span class="w"> </span><span class="m">7412</span>.53<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4919.91/2492.62<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">71</span>.83<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-111"><a id="__codelineno-30-111" name="__codelineno-30-111" href="#__codelineno-30-111"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1168</span>.49<span class="w"> </span>qps:<span class="w"> </span><span class="m">7011</span>.36<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4650.08/2361.29<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">75</span>.82<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-112"><a id="__codelineno-30-112" name="__codelineno-30-112" href="#__codelineno-30-112"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-113"><a id="__codelineno-30-113" name="__codelineno-30-113" href="#__codelineno-30-113"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-114"><a id="__codelineno-30-114" name="__codelineno-30-114" href="#__codelineno-30-114"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-115"><a id="__codelineno-30-115" name="__codelineno-30-115" href="#__codelineno-30-115"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">2584664</span>
</span><span id="__span-30-116"><a id="__codelineno-30-116" name="__codelineno-30-116" href="#__codelineno-30-116"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">1313014</span>
</span><span id="__span-30-117"><a id="__codelineno-30-117" name="__codelineno-30-117" href="#__codelineno-30-117"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3897678</span>
</span><span id="__span-30-118"><a id="__codelineno-30-118" name="__codelineno-30-118" href="#__codelineno-30-118"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">649613</span><span class="w"> </span><span class="o">(</span><span class="m">1082</span>.59<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-119"><a id="__codelineno-30-119" name="__codelineno-30-119" href="#__codelineno-30-119"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3897678</span><span class="w"> </span><span class="o">(</span><span class="m">6495</span>.57<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-120"><a id="__codelineno-30-120" name="__codelineno-30-120" href="#__codelineno-30-120"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-121"><a id="__codelineno-30-121" name="__codelineno-30-121" href="#__codelineno-30-121"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-122"><a id="__codelineno-30-122" name="__codelineno-30-122" href="#__codelineno-30-122"></a>
</span><span id="__span-30-123"><a id="__codelineno-30-123" name="__codelineno-30-123" href="#__codelineno-30-123"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-124"><a id="__codelineno-30-124" name="__codelineno-30-124" href="#__codelineno-30-124"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0507s
</span><span id="__span-30-125"><a id="__codelineno-30-125" name="__codelineno-30-125" href="#__codelineno-30-125"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">649613</span>
</span><span id="__span-30-126"><a id="__codelineno-30-126" name="__codelineno-30-126" href="#__codelineno-30-126"></a>
</span><span id="__span-30-127"><a id="__codelineno-30-127" name="__codelineno-30-127" href="#__codelineno-30-127"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-128"><a id="__codelineno-30-128" name="__codelineno-30-128" href="#__codelineno-30-128"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">13</span>.69
</span><span id="__span-30-129"><a id="__codelineno-30-129" name="__codelineno-30-129" href="#__codelineno-30-129"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">59</span>.11
</span><span id="__span-30-130"><a id="__codelineno-30-130" name="__codelineno-30-130" href="#__codelineno-30-130"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1652</span>.85
</span><span id="__span-30-131"><a id="__codelineno-30-131" name="__codelineno-30-131" href="#__codelineno-30-131"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">97</span>.55
</span><span id="__span-30-132"><a id="__codelineno-30-132" name="__codelineno-30-132" href="#__codelineno-30-132"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38399561</span>.18
</span><span id="__span-30-133"><a id="__codelineno-30-133" name="__codelineno-30-133" href="#__codelineno-30-133"></a>
</span><span id="__span-30-134"><a id="__codelineno-30-134" name="__codelineno-30-134" href="#__codelineno-30-134"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-135"><a id="__codelineno-30-135" name="__codelineno-30-135" href="#__codelineno-30-135"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">10150</span>.2031/19.65
</span><span id="__span-30-136"><a id="__codelineno-30-136" name="__codelineno-30-136" href="#__codelineno-30-136"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9931/0.01
</span><span id="__span-30-137"><a id="__codelineno-30-137" name="__codelineno-30-137" href="#__codelineno-30-137"></a>
</span><span id="__span-30-138"><a id="__codelineno-30-138" name="__codelineno-30-138" href="#__codelineno-30-138"></a><span class="c1"># select insert 128线程　10分钟</span>
</span><span id="__span-30-139"><a id="__codelineno-30-139" name="__codelineno-30-139" href="#__codelineno-30-139"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-140"><a id="__codelineno-30-140" name="__codelineno-30-140" href="#__codelineno-30-140"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-141"><a id="__codelineno-30-141" name="__codelineno-30-141" href="#__codelineno-30-141"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1556</span>.63<span class="w"> </span>qps:<span class="w"> </span><span class="m">9380</span>.96<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6225.83/3155.12<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">123</span>.28<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-142"><a id="__codelineno-30-142" name="__codelineno-30-142" href="#__codelineno-30-142"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1487</span>.15<span class="w"> </span>qps:<span class="w"> </span><span class="m">8921</span>.02<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5918.31/3002.71<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">127</span>.81<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-143"><a id="__codelineno-30-143" name="__codelineno-30-143" href="#__codelineno-30-143"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1570</span>.02<span class="w"> </span>qps:<span class="w"> </span><span class="m">9419</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6244.46/3174.63<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">118</span>.92<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-144"><a id="__codelineno-30-144" name="__codelineno-30-144" href="#__codelineno-30-144"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1491</span>.44<span class="w"> </span>qps:<span class="w"> </span><span class="m">8948</span>.62<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5938.95/3009.67<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">142</span>.39<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-145"><a id="__codelineno-30-145" name="__codelineno-30-145" href="#__codelineno-30-145"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1623</span>.63<span class="w"> </span>qps:<span class="w"> </span><span class="m">9748</span>.36<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6465.61/3282.75<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">121</span>.08<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-146"><a id="__codelineno-30-146" name="__codelineno-30-146" href="#__codelineno-30-146"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1580</span>.54<span class="w"> </span>qps:<span class="w"> </span><span class="m">9487</span>.24<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6290.56/3196.69<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">127</span>.81<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-147"><a id="__codelineno-30-147" name="__codelineno-30-147" href="#__codelineno-30-147"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-148"><a id="__codelineno-30-148" name="__codelineno-30-148" href="#__codelineno-30-148"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-149"><a id="__codelineno-30-149" name="__codelineno-30-149" href="#__codelineno-30-149"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-150"><a id="__codelineno-30-150" name="__codelineno-30-150" href="#__codelineno-30-150"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">3509747</span>
</span><span id="__span-30-151"><a id="__codelineno-30-151" name="__codelineno-30-151" href="#__codelineno-30-151"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">1781467</span>
</span><span id="__span-30-152"><a id="__codelineno-30-152" name="__codelineno-30-152" href="#__codelineno-30-152"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">5291214</span>
</span><span id="__span-30-153"><a id="__codelineno-30-153" name="__codelineno-30-153" href="#__codelineno-30-153"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">881869</span><span class="w"> </span><span class="o">(</span><span class="m">1469</span>.53<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-154"><a id="__codelineno-30-154" name="__codelineno-30-154" href="#__codelineno-30-154"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">5291214</span><span class="w"> </span><span class="o">(</span><span class="m">8817</span>.17<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-155"><a id="__codelineno-30-155" name="__codelineno-30-155" href="#__codelineno-30-155"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-156"><a id="__codelineno-30-156" name="__codelineno-30-156" href="#__codelineno-30-156"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-157"><a id="__codelineno-30-157" name="__codelineno-30-157" href="#__codelineno-30-157"></a>
</span><span id="__span-30-158"><a id="__codelineno-30-158" name="__codelineno-30-158" href="#__codelineno-30-158"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-159"><a id="__codelineno-30-159" name="__codelineno-30-159" href="#__codelineno-30-159"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1021s
</span><span id="__span-30-160"><a id="__codelineno-30-160" name="__codelineno-30-160" href="#__codelineno-30-160"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">881869</span>
</span><span id="__span-30-161"><a id="__codelineno-30-161" name="__codelineno-30-161" href="#__codelineno-30-161"></a>
</span><span id="__span-30-162"><a id="__codelineno-30-162" name="__codelineno-30-162" href="#__codelineno-30-162"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-163"><a id="__codelineno-30-163" name="__codelineno-30-163" href="#__codelineno-30-163"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">14</span>.31
</span><span id="__span-30-164"><a id="__codelineno-30-164" name="__codelineno-30-164" href="#__codelineno-30-164"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">87</span>.09
</span><span id="__span-30-165"><a id="__codelineno-30-165" name="__codelineno-30-165" href="#__codelineno-30-165"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">2300</span>.36
</span><span id="__span-30-166"><a id="__codelineno-30-166" name="__codelineno-30-166" href="#__codelineno-30-166"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">137</span>.35
</span><span id="__span-30-167"><a id="__codelineno-30-167" name="__codelineno-30-167" href="#__codelineno-30-167"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76803193</span>.61
</span><span id="__span-30-168"><a id="__codelineno-30-168" name="__codelineno-30-168" href="#__codelineno-30-168"></a>
</span><span id="__span-30-169"><a id="__codelineno-30-169" name="__codelineno-30-169" href="#__codelineno-30-169"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-170"><a id="__codelineno-30-170" name="__codelineno-30-170" href="#__codelineno-30-170"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">6889</span>.6016/17.75
</span><span id="__span-30-171"><a id="__codelineno-30-171" name="__codelineno-30-171" href="#__codelineno-30-171"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0250/0.03
</span><span id="__span-30-172"><a id="__codelineno-30-172" name="__codelineno-30-172" href="#__codelineno-30-172"></a>
</span><span id="__span-30-173"><a id="__codelineno-30-173" name="__codelineno-30-173" href="#__codelineno-30-173"></a><span class="c1"># select insert 256线程　10分钟</span>
</span><span id="__span-30-174"><a id="__codelineno-30-174" name="__codelineno-30-174" href="#__codelineno-30-174"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-30-175"><a id="__codelineno-30-175" name="__codelineno-30-175" href="#__codelineno-30-175"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_write_only<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-30-176"><a id="__codelineno-30-176" name="__codelineno-30-176" href="#__codelineno-30-176"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1466</span>.07<span class="w"> </span>qps:<span class="w"> </span><span class="m">8894</span>.63<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5909.39/2985.24<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">363</span>.18<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-177"><a id="__codelineno-30-177" name="__codelineno-30-177" href="#__codelineno-30-177"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1367</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">8193</span>.03<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5432.02/2761.01<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">580</span>.02<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-178"><a id="__codelineno-30-178" name="__codelineno-30-178" href="#__codelineno-30-178"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1569</span>.85<span class="w"> </span>qps:<span class="w"> </span><span class="m">9425</span>.41<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/6254.20/3171.20<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">227</span>.40<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-179"><a id="__codelineno-30-179" name="__codelineno-30-179" href="#__codelineno-30-179"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">938</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">5636</span>.79<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3741.69/1895.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">877</span>.61<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-180"><a id="__codelineno-30-180" name="__codelineno-30-180" href="#__codelineno-30-180"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1494</span>.38<span class="w"> </span>qps:<span class="w"> </span><span class="m">8950</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5931.53/3019.37<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">277</span>.21<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-181"><a id="__codelineno-30-181" name="__codelineno-30-181" href="#__codelineno-30-181"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1281</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">7691</span>.88<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5101.29/2590.59<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">493</span>.24<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-30-182"><a id="__codelineno-30-182" name="__codelineno-30-182" href="#__codelineno-30-182"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-30-183"><a id="__codelineno-30-183" name="__codelineno-30-183" href="#__codelineno-30-183"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-30-184"><a id="__codelineno-30-184" name="__codelineno-30-184" href="#__codelineno-30-184"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-30-185"><a id="__codelineno-30-185" name="__codelineno-30-185" href="#__codelineno-30-185"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">3973855</span>
</span><span id="__span-30-186"><a id="__codelineno-30-186" name="__codelineno-30-186" href="#__codelineno-30-186"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">2015555</span>
</span><span id="__span-30-187"><a id="__codelineno-30-187" name="__codelineno-30-187" href="#__codelineno-30-187"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">5989410</span>
</span><span id="__span-30-188"><a id="__codelineno-30-188" name="__codelineno-30-188" href="#__codelineno-30-188"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">998235</span><span class="w"> </span><span class="o">(</span><span class="m">1663</span>.36<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-189"><a id="__codelineno-30-189" name="__codelineno-30-189" href="#__codelineno-30-189"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">5989410</span><span class="w"> </span><span class="o">(</span><span class="m">9980</span>.18<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-190"><a id="__codelineno-30-190" name="__codelineno-30-190" href="#__codelineno-30-190"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-191"><a id="__codelineno-30-191" name="__codelineno-30-191" href="#__codelineno-30-191"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-30-192"><a id="__codelineno-30-192" name="__codelineno-30-192" href="#__codelineno-30-192"></a>
</span><span id="__span-30-193"><a id="__codelineno-30-193" name="__codelineno-30-193" href="#__codelineno-30-193"></a>General<span class="w"> </span>statistics:
</span><span id="__span-30-194"><a id="__codelineno-30-194" name="__codelineno-30-194" href="#__codelineno-30-194"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.1287s
</span><span id="__span-30-195"><a id="__codelineno-30-195" name="__codelineno-30-195" href="#__codelineno-30-195"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">998235</span>
</span><span id="__span-30-196"><a id="__codelineno-30-196" name="__codelineno-30-196" href="#__codelineno-30-196"></a>
</span><span id="__span-30-197"><a id="__codelineno-30-197" name="__codelineno-30-197" href="#__codelineno-30-197"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-30-198"><a id="__codelineno-30-198" name="__codelineno-30-198" href="#__codelineno-30-198"></a><span class="w">         </span>min:<span class="w">                                   </span><span class="m">14</span>.18
</span><span id="__span-30-199"><a id="__codelineno-30-199" name="__codelineno-30-199" href="#__codelineno-30-199"></a><span class="w">         </span>avg:<span class="w">                                  </span><span class="m">153</span>.88
</span><span id="__span-30-200"><a id="__codelineno-30-200" name="__codelineno-30-200" href="#__codelineno-30-200"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">3163</span>.24
</span><span id="__span-30-201"><a id="__codelineno-30-201" name="__codelineno-30-201" href="#__codelineno-30-201"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                      </span><span class="m">287</span>.38
</span><span id="__span-30-202"><a id="__codelineno-30-202" name="__codelineno-30-202" href="#__codelineno-30-202"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153611743</span>.50
</span><span id="__span-30-203"><a id="__codelineno-30-203" name="__codelineno-30-203" href="#__codelineno-30-203"></a>
</span><span id="__span-30-204"><a id="__codelineno-30-204" name="__codelineno-30-204" href="#__codelineno-30-204"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-30-205"><a id="__codelineno-30-205" name="__codelineno-30-205" href="#__codelineno-30-205"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">3899</span>.3555/16.97
</span><span id="__span-30-206"><a id="__codelineno-30-206" name="__codelineno-30-206" href="#__codelineno-30-206"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0459/0.04
</span></code></pre></div>
<h5 id="_17">写入和删除并行</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># select insert 8线程　10分钟</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=8/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">348</span>.04<span class="w"> </span>qps:<span class="w"> </span><span class="m">348</span>.04<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/345.34/2.70<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">38</span>.25<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">544</span>.31<span class="w"> </span>qps:<span class="w"> </span><span class="m">544</span>.31<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/541.51/2.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">23</span>.52<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">716</span>.41<span class="w"> </span>qps:<span class="w"> </span><span class="m">716</span>.41<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/711.31/5.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">17</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">831</span>.29<span class="w"> </span>qps:<span class="w"> </span><span class="m">831</span>.29<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/825.79/5.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">808</span>.50<span class="w"> </span>qps:<span class="w"> </span><span class="m">808</span>.50<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/802.50/6.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.95<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">8</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">853</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">853</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/847.00/6.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">13</span>.70<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">399568</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">7832</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">407400</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">407400</span><span class="w"> </span><span class="o">(</span><span class="m">678</span>.99<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">407400</span><span class="w"> </span><span class="o">(</span><span class="m">678</span>.99<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0086s
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">407400</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.42
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">11</span>.78
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">613</span>.16
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">21</span>.50
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">4799469</span>.44
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-33"><a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">50925</span>.0000/81.12
</span><span id="__span-31-34"><a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9337/0.00
</span><span id="__span-31-35"><a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a>
</span><span id="__span-31-36"><a id="__codelineno-31-36" name="__codelineno-31-36" href="#__codelineno-31-36"></a><span class="c1"># select insert 16线程　10分钟</span>
</span><span id="__span-31-37"><a id="__codelineno-31-37" name="__codelineno-31-37" href="#__codelineno-31-37"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=16/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-38"><a id="__codelineno-31-38" name="__codelineno-31-38" href="#__codelineno-31-38"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-39"><a id="__codelineno-31-39" name="__codelineno-31-39" href="#__codelineno-31-39"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1207</span>.72<span class="w"> </span>qps:<span class="w"> </span><span class="m">1207</span>.72<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1168.83/38.89<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">23</span>.52<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-40"><a id="__codelineno-31-40" name="__codelineno-31-40" href="#__codelineno-31-40"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1433</span>.40<span class="w"> </span>qps:<span class="w"> </span><span class="m">1433</span>.40<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1380.60/52.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">15</span>.83<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-41"><a id="__codelineno-31-41" name="__codelineno-31-41" href="#__codelineno-31-41"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1440</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">1440</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1393.40/47.40<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">15</span>.55<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-42"><a id="__codelineno-31-42" name="__codelineno-31-42" href="#__codelineno-31-42"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1304</span>.10<span class="w"> </span>qps:<span class="w"> </span><span class="m">1304</span>.10<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1261.30/42.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">16</span>.12<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-43"><a id="__codelineno-31-43" name="__codelineno-31-43" href="#__codelineno-31-43"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1359</span>.79<span class="w"> </span>qps:<span class="w"> </span><span class="m">1359</span>.79<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1312.89/46.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">16</span>.71<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-44"><a id="__codelineno-31-44" name="__codelineno-31-44" href="#__codelineno-31-44"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">16</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1305</span>.90<span class="w"> </span>qps:<span class="w"> </span><span class="m">1305</span>.90<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1258.40/47.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">17</span>.32<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-45"><a id="__codelineno-31-45" name="__codelineno-31-45" href="#__codelineno-31-45"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-46"><a id="__codelineno-31-46" name="__codelineno-31-46" href="#__codelineno-31-46"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-47"><a id="__codelineno-31-47" name="__codelineno-31-47" href="#__codelineno-31-47"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-48"><a id="__codelineno-31-48" name="__codelineno-31-48" href="#__codelineno-31-48"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">706819</span>
</span><span id="__span-31-49"><a id="__codelineno-31-49" name="__codelineno-31-49" href="#__codelineno-31-49"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">40642</span>
</span><span id="__span-31-50"><a id="__codelineno-31-50" name="__codelineno-31-50" href="#__codelineno-31-50"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">747461</span>
</span><span id="__span-31-51"><a id="__codelineno-31-51" name="__codelineno-31-51" href="#__codelineno-31-51"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">747461</span><span class="w"> </span><span class="o">(</span><span class="m">1245</span>.71<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-52"><a id="__codelineno-31-52" name="__codelineno-31-52" href="#__codelineno-31-52"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">747461</span><span class="w"> </span><span class="o">(</span><span class="m">1245</span>.71<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-53"><a id="__codelineno-31-53" name="__codelineno-31-53" href="#__codelineno-31-53"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-54"><a id="__codelineno-31-54" name="__codelineno-31-54" href="#__codelineno-31-54"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-55"><a id="__codelineno-31-55" name="__codelineno-31-55" href="#__codelineno-31-55"></a>
</span><span id="__span-31-56"><a id="__codelineno-31-56" name="__codelineno-31-56" href="#__codelineno-31-56"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-57"><a id="__codelineno-31-57" name="__codelineno-31-57" href="#__codelineno-31-57"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0255s
</span><span id="__span-31-58"><a id="__codelineno-31-58" name="__codelineno-31-58" href="#__codelineno-31-58"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">747461</span>
</span><span id="__span-31-59"><a id="__codelineno-31-59" name="__codelineno-31-59" href="#__codelineno-31-59"></a>
</span><span id="__span-31-60"><a id="__codelineno-31-60" name="__codelineno-31-60" href="#__codelineno-31-60"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-61"><a id="__codelineno-31-61" name="__codelineno-31-61" href="#__codelineno-31-61"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.43
</span><span id="__span-31-62"><a id="__codelineno-31-62" name="__codelineno-31-62" href="#__codelineno-31-62"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">12</span>.84
</span><span id="__span-31-63"><a id="__codelineno-31-63" name="__codelineno-31-63" href="#__codelineno-31-63"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">670</span>.51
</span><span id="__span-31-64"><a id="__codelineno-31-64" name="__codelineno-31-64" href="#__codelineno-31-64"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">26</span>.20
</span><span id="__span-31-65"><a id="__codelineno-31-65" name="__codelineno-31-65" href="#__codelineno-31-65"></a><span class="w">         </span>sum:<span class="w">                              </span><span class="m">9599297</span>.16
</span><span id="__span-31-66"><a id="__codelineno-31-66" name="__codelineno-31-66" href="#__codelineno-31-66"></a>
</span><span id="__span-31-67"><a id="__codelineno-31-67" name="__codelineno-31-67" href="#__codelineno-31-67"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-68"><a id="__codelineno-31-68" name="__codelineno-31-68" href="#__codelineno-31-68"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">46716</span>.3125/67.97
</span><span id="__span-31-69"><a id="__codelineno-31-69" name="__codelineno-31-69" href="#__codelineno-31-69"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9561/0.01
</span><span id="__span-31-70"><a id="__codelineno-31-70" name="__codelineno-31-70" href="#__codelineno-31-70"></a>
</span><span id="__span-31-71"><a id="__codelineno-31-71" name="__codelineno-31-71" href="#__codelineno-31-71"></a><span class="c1"># select insert 32线程　10分钟</span>
</span><span id="__span-31-72"><a id="__codelineno-31-72" name="__codelineno-31-72" href="#__codelineno-31-72"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=32/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-73"><a id="__codelineno-31-73" name="__codelineno-31-73" href="#__codelineno-31-73"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-74"><a id="__codelineno-31-74" name="__codelineno-31-74" href="#__codelineno-31-74"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1224</span>.24<span class="w"> </span>qps:<span class="w"> </span><span class="m">1224</span>.24<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1130.06/94.18<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">62</span>.19<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-75"><a id="__codelineno-31-75" name="__codelineno-31-75" href="#__codelineno-31-75"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1434</span>.09<span class="w"> </span>qps:<span class="w"> </span><span class="m">1434</span>.09<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1321.99/112.10<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">57</span>.87<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-76"><a id="__codelineno-31-76" name="__codelineno-31-76" href="#__codelineno-31-76"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1347</span>.71<span class="w"> </span>qps:<span class="w"> </span><span class="m">1347</span>.71<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1242.32/105.39<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">59</span>.99<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-77"><a id="__codelineno-31-77" name="__codelineno-31-77" href="#__codelineno-31-77"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1515</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">1515</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1389.79/126.01<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">57</span>.87<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-78"><a id="__codelineno-31-78" name="__codelineno-31-78" href="#__codelineno-31-78"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">1355</span>.64<span class="w"> </span>qps:<span class="w"> </span><span class="m">1355</span>.64<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/1248.84/106.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">56</span>.84<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-79"><a id="__codelineno-31-79" name="__codelineno-31-79" href="#__codelineno-31-79"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">32</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">2596</span>.62<span class="w"> </span>qps:<span class="w"> </span><span class="m">2596</span>.62<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2384.71/211.91<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">19</span>.29<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-80"><a id="__codelineno-31-80" name="__codelineno-31-80" href="#__codelineno-31-80"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-81"><a id="__codelineno-31-81" name="__codelineno-31-81" href="#__codelineno-31-81"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-82"><a id="__codelineno-31-82" name="__codelineno-31-82" href="#__codelineno-31-82"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-83"><a id="__codelineno-31-83" name="__codelineno-31-83" href="#__codelineno-31-83"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1200197</span>
</span><span id="__span-31-84"><a id="__codelineno-31-84" name="__codelineno-31-84" href="#__codelineno-31-84"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">155257</span>
</span><span id="__span-31-85"><a id="__codelineno-31-85" name="__codelineno-31-85" href="#__codelineno-31-85"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">1355454</span>
</span><span id="__span-31-86"><a id="__codelineno-31-86" name="__codelineno-31-86" href="#__codelineno-31-86"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">1355454</span><span class="w"> </span><span class="o">(</span><span class="m">2259</span>.03<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-87"><a id="__codelineno-31-87" name="__codelineno-31-87" href="#__codelineno-31-87"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">1355454</span><span class="w"> </span><span class="o">(</span><span class="m">2259</span>.03<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-88"><a id="__codelineno-31-88" name="__codelineno-31-88" href="#__codelineno-31-88"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-89"><a id="__codelineno-31-89" name="__codelineno-31-89" href="#__codelineno-31-89"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-90"><a id="__codelineno-31-90" name="__codelineno-31-90" href="#__codelineno-31-90"></a>
</span><span id="__span-31-91"><a id="__codelineno-31-91" name="__codelineno-31-91" href="#__codelineno-31-91"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-92"><a id="__codelineno-31-92" name="__codelineno-31-92" href="#__codelineno-31-92"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0144s
</span><span id="__span-31-93"><a id="__codelineno-31-93" name="__codelineno-31-93" href="#__codelineno-31-93"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">1355454</span>
</span><span id="__span-31-94"><a id="__codelineno-31-94" name="__codelineno-31-94" href="#__codelineno-31-94"></a>
</span><span id="__span-31-95"><a id="__codelineno-31-95" name="__codelineno-31-95" href="#__codelineno-31-95"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-96"><a id="__codelineno-31-96" name="__codelineno-31-96" href="#__codelineno-31-96"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.40
</span><span id="__span-31-97"><a id="__codelineno-31-97" name="__codelineno-31-97" href="#__codelineno-31-97"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">14</span>.16
</span><span id="__span-31-98"><a id="__codelineno-31-98" name="__codelineno-31-98" href="#__codelineno-31-98"></a><span class="w">         </span>max:<span class="w">                                  </span><span class="m">994</span>.74
</span><span id="__span-31-99"><a id="__codelineno-31-99" name="__codelineno-31-99" href="#__codelineno-31-99"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">31</span>.37
</span><span id="__span-31-100"><a id="__codelineno-31-100" name="__codelineno-31-100" href="#__codelineno-31-100"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">19198477</span>.28
</span><span id="__span-31-101"><a id="__codelineno-31-101" name="__codelineno-31-101" href="#__codelineno-31-101"></a>
</span><span id="__span-31-102"><a id="__codelineno-31-102" name="__codelineno-31-102" href="#__codelineno-31-102"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-103"><a id="__codelineno-31-103" name="__codelineno-31-103" href="#__codelineno-31-103"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">42357</span>.9375/92.54
</span><span id="__span-31-104"><a id="__codelineno-31-104" name="__codelineno-31-104" href="#__codelineno-31-104"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9524/0.00
</span><span id="__span-31-105"><a id="__codelineno-31-105" name="__codelineno-31-105" href="#__codelineno-31-105"></a>
</span><span id="__span-31-106"><a id="__codelineno-31-106" name="__codelineno-31-106" href="#__codelineno-31-106"></a><span class="c1"># select insert 64线程　10分钟</span>
</span><span id="__span-31-107"><a id="__codelineno-31-107" name="__codelineno-31-107" href="#__codelineno-31-107"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=64/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-108"><a id="__codelineno-31-108" name="__codelineno-31-108" href="#__codelineno-31-108"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-109"><a id="__codelineno-31-109" name="__codelineno-31-109" href="#__codelineno-31-109"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3905</span>.66<span class="w"> </span>qps:<span class="w"> </span><span class="m">3905</span>.66<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3305.53/600.14<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">26</span>.68<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-110"><a id="__codelineno-31-110" name="__codelineno-31-110" href="#__codelineno-31-110"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4473</span>.34<span class="w"> </span>qps:<span class="w"> </span><span class="m">4473</span>.34<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3772.41/700.93<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">23</span>.10<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-111"><a id="__codelineno-31-111" name="__codelineno-31-111" href="#__codelineno-31-111"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4169</span>.47<span class="w"> </span>qps:<span class="w"> </span><span class="m">4169</span>.47<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3521.56/647.91<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">24</span>.38<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-112"><a id="__codelineno-31-112" name="__codelineno-31-112" href="#__codelineno-31-112"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3177</span>.36<span class="w"> </span>qps:<span class="w"> </span><span class="m">3177</span>.36<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2673.27/504.09<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">50</span>.11<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-113"><a id="__codelineno-31-113" name="__codelineno-31-113" href="#__codelineno-31-113"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4199</span>.14<span class="w"> </span>qps:<span class="w"> </span><span class="m">4199</span>.14<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3525.13/674.01<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">29</span>.19<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-114"><a id="__codelineno-31-114" name="__codelineno-31-114" href="#__codelineno-31-114"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">64</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">3963</span>.50<span class="w"> </span>qps:<span class="w"> </span><span class="m">3963</span>.50<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/3330.60/632.90<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">29</span>.19<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-115"><a id="__codelineno-31-115" name="__codelineno-31-115" href="#__codelineno-31-115"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-116"><a id="__codelineno-31-116" name="__codelineno-31-116" href="#__codelineno-31-116"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-117"><a id="__codelineno-31-117" name="__codelineno-31-117" href="#__codelineno-31-117"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-118"><a id="__codelineno-31-118" name="__codelineno-31-118" href="#__codelineno-31-118"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">1899872</span>
</span><span id="__span-31-119"><a id="__codelineno-31-119" name="__codelineno-31-119" href="#__codelineno-31-119"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">501168</span>
</span><span id="__span-31-120"><a id="__codelineno-31-120" name="__codelineno-31-120" href="#__codelineno-31-120"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">2401040</span>
</span><span id="__span-31-121"><a id="__codelineno-31-121" name="__codelineno-31-121" href="#__codelineno-31-121"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">2401040</span><span class="w"> </span><span class="o">(</span><span class="m">4001</span>.57<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-122"><a id="__codelineno-31-122" name="__codelineno-31-122" href="#__codelineno-31-122"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">2401040</span><span class="w"> </span><span class="o">(</span><span class="m">4001</span>.57<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-123"><a id="__codelineno-31-123" name="__codelineno-31-123" href="#__codelineno-31-123"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-124"><a id="__codelineno-31-124" name="__codelineno-31-124" href="#__codelineno-31-124"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-125"><a id="__codelineno-31-125" name="__codelineno-31-125" href="#__codelineno-31-125"></a>
</span><span id="__span-31-126"><a id="__codelineno-31-126" name="__codelineno-31-126" href="#__codelineno-31-126"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-127"><a id="__codelineno-31-127" name="__codelineno-31-127" href="#__codelineno-31-127"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0238s
</span><span id="__span-31-128"><a id="__codelineno-31-128" name="__codelineno-31-128" href="#__codelineno-31-128"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">2401040</span>
</span><span id="__span-31-129"><a id="__codelineno-31-129" name="__codelineno-31-129" href="#__codelineno-31-129"></a>
</span><span id="__span-31-130"><a id="__codelineno-31-130" name="__codelineno-31-130" href="#__codelineno-31-130"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-131"><a id="__codelineno-31-131" name="__codelineno-31-131" href="#__codelineno-31-131"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.42
</span><span id="__span-31-132"><a id="__codelineno-31-132" name="__codelineno-31-132" href="#__codelineno-31-132"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">15</span>.99
</span><span id="__span-31-133"><a id="__codelineno-31-133" name="__codelineno-31-133" href="#__codelineno-31-133"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1186</span>.76
</span><span id="__span-31-134"><a id="__codelineno-31-134" name="__codelineno-31-134" href="#__codelineno-31-134"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">34</span>.95
</span><span id="__span-31-135"><a id="__codelineno-31-135" name="__codelineno-31-135" href="#__codelineno-31-135"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">38397943</span>.33
</span><span id="__span-31-136"><a id="__codelineno-31-136" name="__codelineno-31-136" href="#__codelineno-31-136"></a>
</span><span id="__span-31-137"><a id="__codelineno-31-137" name="__codelineno-31-137" href="#__codelineno-31-137"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-138"><a id="__codelineno-31-138" name="__codelineno-31-138" href="#__codelineno-31-138"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">37516</span>.2500/103.31
</span><span id="__span-31-139"><a id="__codelineno-31-139" name="__codelineno-31-139" href="#__codelineno-31-139"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9679/0.01
</span><span id="__span-31-140"><a id="__codelineno-31-140" name="__codelineno-31-140" href="#__codelineno-31-140"></a>
</span><span id="__span-31-141"><a id="__codelineno-31-141" name="__codelineno-31-141" href="#__codelineno-31-141"></a><span class="c1"># select insert 128线程　10分钟</span>
</span><span id="__span-31-142"><a id="__codelineno-31-142" name="__codelineno-31-142" href="#__codelineno-31-142"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=128/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-143"><a id="__codelineno-31-143" name="__codelineno-31-143" href="#__codelineno-31-143"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-144"><a id="__codelineno-31-144" name="__codelineno-31-144" href="#__codelineno-31-144"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6033</span>.46<span class="w"> </span>qps:<span class="w"> </span><span class="m">6033</span>.46<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4447.60/1585.86<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">38</span>.94<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-145"><a id="__codelineno-31-145" name="__codelineno-31-145" href="#__codelineno-31-145"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6400</span>.79<span class="w"> </span>qps:<span class="w"> </span><span class="m">6400</span>.79<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4686.63/1714.16<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">38</span>.25<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-146"><a id="__codelineno-31-146" name="__codelineno-31-146" href="#__codelineno-31-146"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6386</span>.65<span class="w"> </span>qps:<span class="w"> </span><span class="m">6386</span>.65<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4668.27/1718.38<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">39</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-147"><a id="__codelineno-31-147" name="__codelineno-31-147" href="#__codelineno-31-147"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6619</span>.81<span class="w"> </span>qps:<span class="w"> </span><span class="m">6619</span>.81<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4822.01/1797.80<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">38</span>.94<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-148"><a id="__codelineno-31-148" name="__codelineno-31-148" href="#__codelineno-31-148"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6397</span>.74<span class="w"> </span>qps:<span class="w"> </span><span class="m">6397</span>.74<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4629.15/1768.58<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">40</span>.37<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-149"><a id="__codelineno-31-149" name="__codelineno-31-149" href="#__codelineno-31-149"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">128</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">6618</span>.83<span class="w"> </span>qps:<span class="w"> </span><span class="m">6618</span>.83<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4771.96/1846.87<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">39</span>.65<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-150"><a id="__codelineno-31-150" name="__codelineno-31-150" href="#__codelineno-31-150"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-151"><a id="__codelineno-31-151" name="__codelineno-31-151" href="#__codelineno-31-151"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-152"><a id="__codelineno-31-152" name="__codelineno-31-152" href="#__codelineno-31-152"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-153"><a id="__codelineno-31-153" name="__codelineno-31-153" href="#__codelineno-31-153"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">2502286</span>
</span><span id="__span-31-154"><a id="__codelineno-31-154" name="__codelineno-31-154" href="#__codelineno-31-154"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">1256654</span>
</span><span id="__span-31-155"><a id="__codelineno-31-155" name="__codelineno-31-155" href="#__codelineno-31-155"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">3758940</span>
</span><span id="__span-31-156"><a id="__codelineno-31-156" name="__codelineno-31-156" href="#__codelineno-31-156"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">3758940</span><span class="w"> </span><span class="o">(</span><span class="m">6264</span>.62<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-157"><a id="__codelineno-31-157" name="__codelineno-31-157" href="#__codelineno-31-157"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">3758940</span><span class="w"> </span><span class="o">(</span><span class="m">6264</span>.62<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-158"><a id="__codelineno-31-158" name="__codelineno-31-158" href="#__codelineno-31-158"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-159"><a id="__codelineno-31-159" name="__codelineno-31-159" href="#__codelineno-31-159"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-160"><a id="__codelineno-31-160" name="__codelineno-31-160" href="#__codelineno-31-160"></a>
</span><span id="__span-31-161"><a id="__codelineno-31-161" name="__codelineno-31-161" href="#__codelineno-31-161"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-162"><a id="__codelineno-31-162" name="__codelineno-31-162" href="#__codelineno-31-162"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0259s
</span><span id="__span-31-163"><a id="__codelineno-31-163" name="__codelineno-31-163" href="#__codelineno-31-163"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">3758940</span>
</span><span id="__span-31-164"><a id="__codelineno-31-164" name="__codelineno-31-164" href="#__codelineno-31-164"></a>
</span><span id="__span-31-165"><a id="__codelineno-31-165" name="__codelineno-31-165" href="#__codelineno-31-165"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-166"><a id="__codelineno-31-166" name="__codelineno-31-166" href="#__codelineno-31-166"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.41
</span><span id="__span-31-167"><a id="__codelineno-31-167" name="__codelineno-31-167" href="#__codelineno-31-167"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">20</span>.43
</span><span id="__span-31-168"><a id="__codelineno-31-168" name="__codelineno-31-168" href="#__codelineno-31-168"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1379</span>.84
</span><span id="__span-31-169"><a id="__codelineno-31-169" name="__codelineno-31-169" href="#__codelineno-31-169"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">50</span>.11
</span><span id="__span-31-170"><a id="__codelineno-31-170" name="__codelineno-31-170" href="#__codelineno-31-170"></a><span class="w">         </span>sum:<span class="w">                             </span><span class="m">76796715</span>.81
</span><span id="__span-31-171"><a id="__codelineno-31-171" name="__codelineno-31-171" href="#__codelineno-31-171"></a>
</span><span id="__span-31-172"><a id="__codelineno-31-172" name="__codelineno-31-172" href="#__codelineno-31-172"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-173"><a id="__codelineno-31-173" name="__codelineno-31-173" href="#__codelineno-31-173"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">29366</span>.7188/123.76
</span><span id="__span-31-174"><a id="__codelineno-31-174" name="__codelineno-31-174" href="#__codelineno-31-174"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">599</span>.9743/0.01
</span><span id="__span-31-175"><a id="__codelineno-31-175" name="__codelineno-31-175" href="#__codelineno-31-175"></a>
</span><span id="__span-31-176"><a id="__codelineno-31-176" name="__codelineno-31-176" href="#__codelineno-31-176"></a><span class="c1"># select insert 256线程　10分钟</span>
</span><span id="__span-31-177"><a id="__codelineno-31-177" name="__codelineno-31-177" href="#__codelineno-31-177"></a>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/^threads=.*/threads=256/g&#39;</span><span class="w"> </span>config
</span><span id="__span-31-178"><a id="__codelineno-31-178" name="__codelineno-31-178" href="#__codelineno-31-178"></a>sysbench<span class="w"> </span>--config-file<span class="o">=</span>config<span class="w"> </span>oltp_delete<span class="w"> </span>--tables<span class="o">=</span><span class="m">24</span><span class="w"> </span>--table-size<span class="o">=</span><span class="m">50000000</span><span class="w"> </span>run
</span><span id="__span-31-179"><a id="__codelineno-31-179" name="__codelineno-31-179" href="#__codelineno-31-179"></a><span class="o">[</span><span class="w"> </span>10s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">4187</span>.74<span class="w"> </span>qps:<span class="w"> </span><span class="m">4187</span>.74<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/2502.24/1685.50<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">231</span>.53<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-180"><a id="__codelineno-31-180" name="__codelineno-31-180" href="#__codelineno-31-180"></a><span class="o">[</span><span class="w"> </span>20s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">8577</span>.92<span class="w"> </span>qps:<span class="w"> </span><span class="m">8577</span>.92<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5148.07/3429.85<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">73</span>.13<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-181"><a id="__codelineno-31-181" name="__codelineno-31-181" href="#__codelineno-31-181"></a><span class="o">[</span><span class="w"> </span>30s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9409</span>.80<span class="w"> </span>qps:<span class="w"> </span><span class="m">9409</span>.80<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5631.80/3778.00<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">71</span>.83<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-182"><a id="__codelineno-31-182" name="__codelineno-31-182" href="#__codelineno-31-182"></a><span class="o">[</span><span class="w"> </span>40s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">8414</span>.93<span class="w"> </span>qps:<span class="w"> </span><span class="m">8414</span>.93<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/4979.84/3435.09<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">74</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-183"><a id="__codelineno-31-183" name="__codelineno-31-183" href="#__codelineno-31-183"></a><span class="o">[</span><span class="w"> </span>50s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9383</span>.60<span class="w"> </span>qps:<span class="w"> </span><span class="m">9383</span>.60<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5558.87/3824.73<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">71</span>.83<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-184"><a id="__codelineno-31-184" name="__codelineno-31-184" href="#__codelineno-31-184"></a><span class="o">[</span><span class="w"> </span>60s<span class="w"> </span><span class="o">]</span><span class="w"> </span>thds:<span class="w"> </span><span class="m">256</span><span class="w"> </span>tps:<span class="w"> </span><span class="m">9210</span>.60<span class="w"> </span>qps:<span class="w"> </span><span class="m">9210</span>.60<span class="w"> </span><span class="o">(</span>r/w/o:<span class="w"> </span><span class="m">0</span>.00/5412.52/3798.09<span class="o">)</span><span class="w"> </span>lat<span class="w"> </span><span class="o">(</span>ms,95%<span class="o">)</span>:<span class="w"> </span><span class="m">74</span>.46<span class="w"> </span>err/s:<span class="w"> </span><span class="m">0</span>.00<span class="w"> </span>reconn/s:<span class="w"> </span><span class="m">0</span>.00
</span><span id="__span-31-185"><a id="__codelineno-31-185" name="__codelineno-31-185" href="#__codelineno-31-185"></a>SQL<span class="w"> </span>statistics:
</span><span id="__span-31-186"><a id="__codelineno-31-186" name="__codelineno-31-186" href="#__codelineno-31-186"></a><span class="w">    </span>queries<span class="w"> </span>performed:
</span><span id="__span-31-187"><a id="__codelineno-31-187" name="__codelineno-31-187" href="#__codelineno-31-187"></a><span class="w">        </span>read:<span class="w">                            </span><span class="m">0</span>
</span><span id="__span-31-188"><a id="__codelineno-31-188" name="__codelineno-31-188" href="#__codelineno-31-188"></a><span class="w">        </span>write:<span class="w">                           </span><span class="m">2847913</span>
</span><span id="__span-31-189"><a id="__codelineno-31-189" name="__codelineno-31-189" href="#__codelineno-31-189"></a><span class="w">        </span>other:<span class="w">                           </span><span class="m">2531947</span>
</span><span id="__span-31-190"><a id="__codelineno-31-190" name="__codelineno-31-190" href="#__codelineno-31-190"></a><span class="w">        </span>total:<span class="w">                           </span><span class="m">5379860</span>
</span><span id="__span-31-191"><a id="__codelineno-31-191" name="__codelineno-31-191" href="#__codelineno-31-191"></a><span class="w">    </span>transactions:<span class="w">                        </span><span class="m">5379860</span><span class="w"> </span><span class="o">(</span><span class="m">8965</span>.40<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-192"><a id="__codelineno-31-192" name="__codelineno-31-192" href="#__codelineno-31-192"></a><span class="w">    </span>queries:<span class="w">                             </span><span class="m">5379860</span><span class="w"> </span><span class="o">(</span><span class="m">8965</span>.40<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-193"><a id="__codelineno-31-193" name="__codelineno-31-193" href="#__codelineno-31-193"></a><span class="w">    </span>ignored<span class="w"> </span>errors:<span class="w">                      </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-194"><a id="__codelineno-31-194" name="__codelineno-31-194" href="#__codelineno-31-194"></a><span class="w">    </span>reconnects:<span class="w">                          </span><span class="m">0</span><span class="w">      </span><span class="o">(</span><span class="m">0</span>.00<span class="w"> </span>per<span class="w"> </span>sec.<span class="o">)</span>
</span><span id="__span-31-195"><a id="__codelineno-31-195" name="__codelineno-31-195" href="#__codelineno-31-195"></a>
</span><span id="__span-31-196"><a id="__codelineno-31-196" name="__codelineno-31-196" href="#__codelineno-31-196"></a>General<span class="w"> </span>statistics:
</span><span id="__span-31-197"><a id="__codelineno-31-197" name="__codelineno-31-197" href="#__codelineno-31-197"></a><span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">600</span>.0677s
</span><span id="__span-31-198"><a id="__codelineno-31-198" name="__codelineno-31-198" href="#__codelineno-31-198"></a><span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">5379860</span>
</span><span id="__span-31-199"><a id="__codelineno-31-199" name="__codelineno-31-199" href="#__codelineno-31-199"></a>
</span><span id="__span-31-200"><a id="__codelineno-31-200" name="__codelineno-31-200" href="#__codelineno-31-200"></a>Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
</span><span id="__span-31-201"><a id="__codelineno-31-201" name="__codelineno-31-201" href="#__codelineno-31-201"></a><span class="w">         </span>min:<span class="w">                                    </span><span class="m">0</span>.40
</span><span id="__span-31-202"><a id="__codelineno-31-202" name="__codelineno-31-202" href="#__codelineno-31-202"></a><span class="w">         </span>avg:<span class="w">                                   </span><span class="m">28</span>.55
</span><span id="__span-31-203"><a id="__codelineno-31-203" name="__codelineno-31-203" href="#__codelineno-31-203"></a><span class="w">         </span>max:<span class="w">                                 </span><span class="m">1388</span>.04
</span><span id="__span-31-204"><a id="__codelineno-31-204" name="__codelineno-31-204" href="#__codelineno-31-204"></a><span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                       </span><span class="m">81</span>.48
</span><span id="__span-31-205"><a id="__codelineno-31-205" name="__codelineno-31-205" href="#__codelineno-31-205"></a><span class="w">         </span>sum:<span class="w">                            </span><span class="m">153602514</span>.04
</span><span id="__span-31-206"><a id="__codelineno-31-206" name="__codelineno-31-206" href="#__codelineno-31-206"></a>
</span><span id="__span-31-207"><a id="__codelineno-31-207" name="__codelineno-31-207" href="#__codelineno-31-207"></a>Threads<span class="w"> </span>fairness:
</span><span id="__span-31-208"><a id="__codelineno-31-208" name="__codelineno-31-208" href="#__codelineno-31-208"></a><span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">21015</span>.0781/128.10
</span><span id="__span-31-209"><a id="__codelineno-31-209" name="__codelineno-31-209" href="#__codelineno-31-209"></a><span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">600</span>.0098/0.02
</span></code></pre></div>
<h4 id="_18">测试结果</h4>
<h5 id="_19">主键查询</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>6512.09</td>
<td>3908017</td>
<td>6512.09</td>
<td>3908017</td>
<td>3.30</td>
</tr>
<tr>
<td>16</td>
<td>11408.77</td>
<td>6845695</td>
<td>11408.77</td>
<td>6845695</td>
<td>4.10</td>
</tr>
<tr>
<td>32</td>
<td>17198.11</td>
<td>10320806</td>
<td>17198.11</td>
<td>10320806</td>
<td>5.67</td>
</tr>
<tr>
<td>64</td>
<td>21451.15</td>
<td>12871444</td>
<td>21451.15</td>
<td>12871444</td>
<td>8.43</td>
</tr>
<tr>
<td>128</td>
<td>26426.46</td>
<td>15867653</td>
<td>26426.46</td>
<td>15867653</td>
<td>13.46</td>
</tr>
<tr>
<td>256</td>
<td>25311.42</td>
<td>15188519</td>
<td>25311.42</td>
<td>15188519</td>
<td>27.17</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-select测试.jpg" /></p>
<h5 id="_20">主键更新</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>写入数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>253.45</td>
<td>152077</td>
<td>253.45</td>
<td>152077</td>
<td>150714</td>
<td>62.19</td>
</tr>
<tr>
<td>16</td>
<td>459.40</td>
<td>275657</td>
<td>459.40</td>
<td>275657</td>
<td>273213</td>
<td>75.82</td>
</tr>
<tr>
<td>32</td>
<td>1134.22</td>
<td>680722</td>
<td>1134.22</td>
<td>680722</td>
<td>674705</td>
<td>53.85</td>
</tr>
<tr>
<td>64</td>
<td>1925.14</td>
<td>1155177</td>
<td>1925.14</td>
<td>1155177</td>
<td>1145001</td>
<td>56.84</td>
</tr>
<tr>
<td>128</td>
<td>4004.38</td>
<td>2403039</td>
<td>4004.38</td>
<td>2403039</td>
<td>2381625</td>
<td>58.92</td>
</tr>
<tr>
<td>256</td>
<td>5258.48</td>
<td>3157178</td>
<td>5258.48</td>
<td>3157178</td>
<td>3129355</td>
<td>97.55</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-主键更新.jpg" /></p>
<h5 id="_21">读写混合</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>读入数</th>
<th>写入数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>3426.83</td>
<td>2056180</td>
<td>171.34</td>
<td>102809</td>
<td>1439326</td>
<td>408522</td>
<td>78.60</td>
</tr>
<tr>
<td>16</td>
<td>5536.80</td>
<td>3322460</td>
<td>276.84</td>
<td>166123</td>
<td>2325722</td>
<td>660088</td>
<td>95.81</td>
</tr>
<tr>
<td>32</td>
<td>8141.05</td>
<td>4885500</td>
<td>407.05</td>
<td>244275</td>
<td>3419850</td>
<td>970844</td>
<td>121.08</td>
</tr>
<tr>
<td>64</td>
<td>10249.68</td>
<td>6151820</td>
<td>512.48</td>
<td>307591</td>
<td>4306274</td>
<td>1222527</td>
<td>183.21</td>
</tr>
<tr>
<td>128</td>
<td>11608.66</td>
<td>6966980</td>
<td>580.43</td>
<td>348349</td>
<td>4876886</td>
<td>1384663</td>
<td>325.98</td>
</tr>
<tr>
<td>256</td>
<td>12654.61</td>
<td>7597100</td>
<td>632.73</td>
<td>379855</td>
<td>5317970</td>
<td>1510266</td>
<td>580.02</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-读写混合.jpg" /></p>
<h5 id="_22">更新不通过索引</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>写入数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>970.97</td>
<td>582592</td>
<td>970.97</td>
<td>582592</td>
<td>577971</td>
<td>12.52</td>
</tr>
<tr>
<td>16</td>
<td>1814.79</td>
<td>1088891</td>
<td>1814.79</td>
<td>1088891</td>
<td>1080035</td>
<td>13.22</td>
</tr>
<tr>
<td>32</td>
<td>3262.18</td>
<td>1957338</td>
<td>3262.18</td>
<td>1957338</td>
<td>1957338</td>
<td>13.46</td>
</tr>
<tr>
<td>64</td>
<td>5111.78</td>
<td>3067132</td>
<td>5111.78</td>
<td>3067132</td>
<td>3042486</td>
<td>18.95</td>
</tr>
<tr>
<td>128</td>
<td>7371.75</td>
<td>4423216</td>
<td>7371.75</td>
<td>4423216</td>
<td>4387663</td>
<td>32.53</td>
</tr>
<tr>
<td>256</td>
<td>9519.67</td>
<td>5712177</td>
<td>9519.67</td>
<td>5712177</td>
<td>5666278</td>
<td>55.82</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-更新不通过索引.jpg" /></p>
<h5 id="_23">只写入</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>写入数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>1787.37</td>
<td>1072572</td>
<td>297.90</td>
<td>178762</td>
<td>710760</td>
<td>41.85</td>
</tr>
<tr>
<td>16</td>
<td>2657.57</td>
<td>1594662</td>
<td>442.93</td>
<td>265777</td>
<td>1056694</td>
<td>75.82</td>
</tr>
<tr>
<td>32</td>
<td>4958.20</td>
<td>2975094</td>
<td>826.37</td>
<td>495849</td>
<td>1971854</td>
<td>61.08</td>
</tr>
<tr>
<td>64</td>
<td>6495.57</td>
<td>3897678</td>
<td>1082.59</td>
<td>649613</td>
<td>2584664</td>
<td>97.55</td>
</tr>
<tr>
<td>128</td>
<td>8817.17</td>
<td>5291214</td>
<td>1469.53</td>
<td>881869</td>
<td>3509747</td>
<td>137.35</td>
</tr>
<tr>
<td>256</td>
<td>9980.18</td>
<td>5989410</td>
<td>1663.36</td>
<td>998235</td>
<td>3973855</td>
<td>287.38</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-只写入.jpg" /></p>
<h5 id="_24">写入和删除并行</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>QPS</th>
<th>查询总数</th>
<th>TPS</th>
<th>事物总数</th>
<th>写入数</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>678.99</td>
<td>407400</td>
<td>678.99</td>
<td>407400</td>
<td>399568</td>
<td>21.50</td>
</tr>
<tr>
<td>16</td>
<td>1245.71</td>
<td>747461</td>
<td>1245.71</td>
<td>747461</td>
<td>706819</td>
<td>26.2</td>
</tr>
<tr>
<td>32</td>
<td>2259.03</td>
<td>1355454</td>
<td>2259.03</td>
<td>1355454</td>
<td>1200197</td>
<td>31.37</td>
</tr>
<tr>
<td>64</td>
<td>4001.57</td>
<td>2401040</td>
<td>4001.57</td>
<td>2401040</td>
<td>1899872</td>
<td>34.95</td>
</tr>
<tr>
<td>128</td>
<td>6264.62</td>
<td>3758940</td>
<td>6264.62</td>
<td>3758940</td>
<td>2502286</td>
<td>50.11</td>
</tr>
<tr>
<td>256</td>
<td>8965.40</td>
<td>5379860</td>
<td>8965.40</td>
<td>5379860</td>
<td>2847913</td>
<td>81.48</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/tidb-写入和删除并存.jpg" /></p>
<h5 id="95">前95%毫秒数</h5>
<table>
<thead>
<tr>
<th>线程</th>
<th>主键查询</th>
<th>主键更新</th>
<th>读写混合</th>
<th>更新非索引</th>
<th>只写入</th>
<th>写入和删除并行</th>
</tr>
</thead>
<tbody>
<tr>
<td>８</td>
<td>3.30</td>
<td>62.19</td>
<td>78.60</td>
<td>12.52</td>
<td>41.85</td>
<td>21.50</td>
</tr>
<tr>
<td>16</td>
<td>4.10</td>
<td>75.82</td>
<td>95.81</td>
<td>13.22</td>
<td>75.82</td>
<td>26.2</td>
</tr>
<tr>
<td>32</td>
<td>5.67</td>
<td>53.85</td>
<td>121.08</td>
<td>13.46</td>
<td>61.08</td>
<td>31.37</td>
</tr>
<tr>
<td>64</td>
<td>8.43</td>
<td>56.84</td>
<td>183.21</td>
<td>18.95</td>
<td>97.55</td>
<td>34.95</td>
</tr>
<tr>
<td>128</td>
<td>13.46</td>
<td>58.92</td>
<td>325.98</td>
<td>32.53</td>
<td>137.35</td>
<td>50.11</td>
</tr>
<tr>
<td>256</td>
<td>27.17</td>
<td>97.55</td>
<td>580.02</td>
<td>55.82</td>
<td>287.38</td>
<td>81.48</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../static/image-tidb/前95毫秒数.jpg" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>